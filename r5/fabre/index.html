




<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>FIWARE-NGSI v2 Specification</title>
    <link href="css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
    <link href="css/font-awesome.css" rel="stylesheet">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/monokai.css">
    <script src="js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="js/jquery.min.js"></script>
    <script src="js/toc-resize.js"></script>

    <link rel="stylesheet" type="text/css" href="css/api-specification.css">
    
</head>
<body id="respecDocument" class="h-entry">
<div class="container">


  <div id="TOC-container">
    
<div id="fiware-logo-container">
    <div id="fiware-logo"></div>
</div>
<nav id="toc">

        
    <ul class="toc">

        
	        
        
	        
        
	        
		        <li><a href="#API-content">FIWARE-NGSI v2 Specification RC-2016_05</a></li>
	        
        
	        
        
	        
        
	        
        
	        
        
	        
        


<li><a href="#api-summary">API Summary</a></li>


    
    

    
    
    <li>
        
        <a href="#specification" title = "Specification" > Specification </a>
        
    <ul class="toc">
    
    
        <li class="tocline"> <a href="#introduction" title = "Introduction"> Introduction </a>

    
</li>
    
    
    
        <li class="tocline"> <a href="#terminology" title = "Terminology"> Terminology </a>

    
        <ul class="toc">
        
            <li class="tocline"> <a href="#context_data_modelling_and_exchange" title = "Context data modelling and exchange"> Context data modelling and exchange </a>

    
        <ul class="toc">
        
            <li class="tocline"> <a href="#context_entities" title = "Context Entities"> Context Entities </a>

    
</li>
        
            <li class="tocline"> <a href="#context_attributes" title = "Context Attributes"> Context Attributes </a>

    
</li>
        
            <li class="tocline"> <a href="#context_metadata" title = "Context Metadata"> Context Metadata </a>

    
</li>
        
        </ul>
    
</li>
        
        </ul>
    
</li>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
   



    

    

    
        <li class="tocline"> <a href="#mime_types" title = "MIME Types"> MIME Types </a>

    
</li>
    

    
        <li class="tocline"> <a href="#json_entity_representation" title = "JSON Entity Representation"> JSON Entity Representation </a>

    
</li>
    

    
        <li class="tocline"> <a href="#json_attribute_representation" title = "JSON Attribute Representation"> JSON Attribute Representation </a>

    
</li>
    

    
        <li class="tocline"> <a href="#simplified_entity_representation" title = "Simplified Entity Representation"> Simplified Entity Representation </a>

    
</li>
    

    
        <li class="tocline"> <a href="#partial_representations" title = "Partial Representations"> Partial Representations </a>

    
</li>
    

    
        <li class="tocline"> <a href="#special_attribute_types" title = "Special Attribute Types"> Special Attribute Types </a>

    
</li>
    

    
        <li class="tocline"> <a href="#virtual_attributes" title = "Virtual Attributes"> Virtual Attributes </a>

    
</li>
    

    
        <li class="tocline"> <a href="#field_syntax_restrictions" title = "Field syntax restrictions"> Field syntax restrictions </a>

    
</li>
    

    
        <li class="tocline"> <a href="#attribute_names_restrictions" title = "Attribute names restrictions"> Attribute names restrictions </a>

    
</li>
    

    
        <li class="tocline"> <a href="#ordering_results" title = "Ordering Results"> Ordering Results </a>

    
</li>
    

    
        <li class="tocline"> <a href="#error_responses" title = "Error Responses"> Error Responses </a>

    
</li>
    

    
        <li class="tocline"> <a href="#geospatial_properties_of_entities" title = "Geospatial properties of entities"> Geospatial properties of entities </a>

    
        <ul class="toc">
        
            <li class="tocline"> <a href="#simple_location_format" title = "Simple Location Format"> Simple Location Format </a>

    
</li>
        
            <li class="tocline"> <a href="#geojson" title = "GeoJSON"> GeoJSON </a>

    
</li>
        
        </ul>
    
</li>
    

    
        <li class="tocline"> <a href="#simple_query_language" title = "Simple Query Language"> Simple Query Language </a>

    
</li>
    

    
        <li class="tocline"> <a href="#geographical_queries" title = "Geographical Queries"> Geographical Queries </a>

    
        <ul class="toc">
        
            <li class="tocline"> <a href="#query_resolution" title = "Query Resolution"> Query Resolution </a>

    
</li>
        
        </ul>
    
</li>
    

    
        <li class="tocline"> <a href="#notification_messages" title = "Notification Messages"> Notification Messages </a>

    
</li>
    

    
        <li class="tocline"> <a href="#custom_notifications" title = "Custom Notifications"> Custom Notifications </a>

    
</li>
    


 </ul>
</li>








<li><a href="#API_specification">API Specification</a>
    <ul class="toc">
    

                        <li>
                            
                                <a href="#resource_group_api-entry-point" title = "Group API Entry Point">Group API Entry Point</a>
                            
                            <ul class="toc">
                              
                                
                                    
                                        
                                            <li><a href="#action_retrieve-api-resources" title = "GET - Retrieve API Resources">GET - Retrieve API Resources</a></li>
                                        
                                        
                                    
                                
                              
                            </ul>
                        </li>
                      

                        <li>
                            
                                <a href="#resource_group_entities" title = "Group Entities">Group Entities</a>
                            
                            <ul class="toc">
                              
                                
                                    
                                        
                                            <li><a href="#action_list-entities" title = "GET - List entities">GET - List entities</a></li>
                                        
                                        
                                    
                                
                              
                                
                                    
                                        
                                            <li><a href="#action_create-entity" title = "POST - Create entity">POST - Create entity</a></li>
                                        
                                        
                                    
                                
                              
                                
                                    <li>
                                        <a href="#resource_entity-by-id" title = "Resource Entity by ID">Resource Entity by ID</a>
                                        <ul class="toc  ">
                                        
                                            
                                                <li><a href="#action_retrieve-entity" title ="GET - Retrieve entity">GET - Retrieve entity</a></li>
                                            

                                        
                                            
                                                <li><a href="#action_retrieve-entity-attributes" title ="GET - Retrieve entity attributes">GET - Retrieve entity attributes</a></li>
                                            

                                        
                                            
                                                <li><a href="#action_update-or-append-entity-attributes" title ="POST - Update or append entity attributes">POST - Update or append entity attributes</a></li>
                                            

                                        
                                            
                                                <li><a href="#action_update-existing-entity-attributes" title ="PATCH - Update existing entity attributes">PATCH - Update existing entity attributes</a></li>
                                            

                                        
                                            
                                                <li><a href="#action_replace-all-entity-attributes" title ="PUT - Replace all entity attributes">PUT - Replace all entity attributes</a></li>
                                            

                                        
                                            
                                                <li><a href="#action_remove-entity" title ="DELETE - Remove entity">DELETE - Remove entity</a></li>
                                            

                                        
                                        </ul>
                                    </li>
                                
                              
                            </ul>
                        </li>
                      

                        <li>
                            
                                <a href="#resource_group_attributes" title = "Group Attributes">Group Attributes</a>
                            
                            <ul class="toc">
                              
                                
                                    <li>
                                        <a href="#resource_attribute-by-entity-id" title = "Resource Attribute by Entity ID">Resource Attribute by Entity ID</a>
                                        <ul class="toc  ">
                                        
                                            
                                                <li><a href="#action_get-attribute-data" title ="GET - Get attribute data">GET - Get attribute data</a></li>
                                            

                                        
                                            
                                                <li><a href="#action_update-attribute-data" title ="PUT - Update attribute data">PUT - Update attribute data</a></li>
                                            

                                        
                                            
                                                <li><a href="#action_remove-a-single-attribute" title ="DELETE - Remove a single attribute">DELETE - Remove a single attribute</a></li>
                                            

                                        
                                        </ul>
                                    </li>
                                
                              
                            </ul>
                        </li>
                      

                        <li>
                            
                                <a href="#resource_group_attribute-value" title = "Group Attribute Value">Group Attribute Value</a>
                            
                            <ul class="toc">
                              
                                
                                    <li>
                                        <a href="#resource_by-entity-id" title = "Resource By Entity ID">Resource By Entity ID</a>
                                        <ul class="toc  ">
                                        
                                            
                                                <li><a href="#action_get-attribute-value" title ="GET - Get attribute value">GET - Get attribute value</a></li>
                                            

                                        
                                            
                                                <li><a href="#action_update-attribute-value" title ="PUT - Update attribute value">PUT - Update attribute value</a></li>
                                            

                                        
                                        </ul>
                                    </li>
                                
                              
                            </ul>
                        </li>
                      

                        <li>
                            
                                <a href="#resource_group_types" title = "Group Types">Group Types</a>
                            
                            <ul class="toc">
                              
                                
                                    <li>
                                        <a href="#resource_entity-types" title = "Resource Entity types">Resource Entity types</a>
                                        <ul class="toc  ">
                                        
                                            
                                                <li><a href="#action_retrieve-entity-types" title ="GET - Retrieve entity types">GET - Retrieve entity types</a></li>
                                            

                                        
                                        </ul>
                                    </li>
                                
                              
                                
                                    <li>
                                        <a href="#resource_entity-type" title = "Resource Entity type">Resource Entity type</a>
                                        <ul class="toc  ">
                                        
                                            
                                                <li><a href="#action_retrieve-entity-type" title ="GET - Retrieve entity type">GET - Retrieve entity type</a></li>
                                            

                                        
                                        </ul>
                                    </li>
                                
                              
                            </ul>
                        </li>
                      

                        <li>
                            
                                <a href="#resource_group_subscriptions" title = "Group Subscriptions">Group Subscriptions</a>
                            
                            <ul class="toc">
                              
                                
                                    <li>
                                        <a href="#resource_subscription-list" title = "Resource Subscription List">Resource Subscription List</a>
                                        <ul class="toc  ">
                                        
                                            
                                                <li><a href="#action_retrieve-subscriptions" title ="GET - Retrieve subscriptions">GET - Retrieve subscriptions</a></li>
                                            

                                        
                                            
                                                <li><a href="#action_create-a-new-subscription" title ="POST - Create a new subscription">POST - Create a new subscription</a></li>
                                            

                                        
                                        </ul>
                                    </li>
                                
                              
                                
                                    <li>
                                        <a href="#resource_subscription-by-id" title = "Resource Subscription By ID">Resource Subscription By ID</a>
                                        <ul class="toc  ">
                                        
                                            
                                                <li><a href="#action_retrieve-subscription" title ="GET - Retrieve subscription">GET - Retrieve subscription</a></li>
                                            

                                        
                                            
                                                <li><a href="#action_update-subscription" title ="PATCH - Update subscription">PATCH - Update subscription</a></li>
                                            

                                        
                                            
                                                <li><a href="#action_delete-subscription" title ="DELETE - Delete subscription">DELETE - Delete subscription</a></li>
                                            

                                        
                                        </ul>
                                    </li>
                                
                              
                            </ul>
                        </li>
                      

                        <li>
                            
                                <a href="#resource_group_batch-operations" title = "Group Batch Operations">Group Batch Operations</a>
                            
                            <ul class="toc">
                              
                                
                                    
                                        
                                            <li><a href="#action_update" title = "POST - Update">POST - Update</a></li>
                                        
                                        
                                    
                                
                              
                                
                                    
                                        
                                            <li><a href="#action_query" title = "POST - Query">POST - Query</a></li>
                                        
                                        
                                    
                                
                              
                            </ul>
                        </li>
                      <li><a href="#examples">Examples</a></li></ul>
</li>
    
    
    
    
    
        <li class="tocline"> <a href="#acknowledgements" title = "Acknowledgements"> Acknowledgements </a>

    
</li>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        <li><a href="#references">References</a></li>
    
   </ul>
</nav>

  </div>
  


  <div id="API-content">
  
    

	

	

	
		
	

	

	

	

	

	



	<h1>FIWARE-NGSI v2 Specification RC-2016_05 </h1>



	

	

	

	
		<span class="dateLabel">DATE:</span> <span class="dateValue"> 31 May 2016 </span>
	

	

	

	

	





	
	
	

	
	
	

	
	
	

	
	
	

	
	
		
	
	

	
	
	

	
		
	
	
	

	
	
	



	<dl>
	
		<dt class="versionLabel">This version:</dt> 
		<dd class="versionValue"> <a href="https://telefonicaid.github.io/fiware-orion/api/v2/stable">
			https://telefonicaid.github.io/fiware-orion/api/v2/stable
		</a> </dd>
	

	

	<dt class="versionLabel">Latest version:</dt> 
	<dd class="versionValue"> <a href="https://telefonicaid.github.io/fiware-orion/api/v2/latest">https://telefonicaid.github.io/fiware-orion/api/v2/latest</a> </dd>

	</dl>





  
  

  
  

  
  

  
  

  
  

  
    
  
  

  
  

  
  
    
  



  <div id="top-source-buttons">
  	
    	<a target="_blank" href="http://docs.orioncontextbroker.apiary.io/#reference">View in Apiary</a>
    
    
    	<a target="_blank" href="http://github.com/telefonicaid/fiware-orion.git">View in Github</a>
    
  </div>



	
		<h2 id="editors">Editors</h2>
		<p>José Manuel Cantera Fonseca (Telefónica I+D), Fermín Galán Márquez (Telefónica I+D),
Tobias Jacobs (NEC).</p>
	

	

	

	

	

	

	

	



    

    

    

    
        <h2 id="copyright">Copyright</h2>
        <p>Copyright (c) 2011-2016 Telecom Italia, Telefónica I+D and NEC. </p>
    

    

    

    

    



	

	

	

	

	
		<h2 id="license">License</h2>
		<p>This specification is licensed under the
                <a href="https://forge.fiware.org/plugins/mediawiki/wiki/fiware/index.php/Implicit_Patents_License)">FIWARE Open Specification License (implicit patent license)</a>.</p>
	

	

	

	


<hr>


	<h2 id="abstract">Abstract</h2>
	<p>This specification defines the FIWARE-NGSI version 2 API. FIWARE-NGSI v2 is intended to manage
the entire lifecycle of context information, including updates, queries, registrations,
and subscriptions.</p>

<h1>Preface</h1>




	

	

	
		<h2 id="status">Status of this document</h2>
		<p>This specification is the May 2016 release candidate of the NGSIv2 API specification (RC-2016.05).
By "release candidate" we mean that only Minor Changes are expected to the API described by this document.
Nonetheless new functionalities will be added in the near future, particularly JSON-LD and
NGSI9 (context registration) support</p>
<p>In particular, Minor Changes may be of two types:</p>
<ul>
<li>Extensions to the functionality currently specified by this document. Note that in this case
  there isn't any risk of breaking backward compatibility on existing software implementations.</li>
<li>Slight modifications in the functionality currently specified by this document, as a consequence
  of ongoing discussions. Backward compatibility will be taken into account in this case, trying
  to minimize the impact on existing software implementations. In particular, only completely
  justified changes impacting backward compatibility will be allowed and "matter of taste"
  changes will not be allowed.</li>
</ul>
<p>The work in progress draft of the specification can be found at
<a href="http://fiware.github.io/specifications/ngsiv2/latest">the following link</a>.</p>
	

	

	

	

	

	

<hr>
  


    
    
<nav class="api-summary">
<h1 id="api-summary"> API Summary </h1>
    <ul>


    

        <li>
            
                <a href="#resource_group_api-entry-point" title = "API Entry Point">API Entry Point</a>
            
            <ul>
              
                
                    
                        
                            <li>
                                <a href="#action_retrieve-api-resources" title = "GET - Retrieve API Resources"><span class="actionMethod">GET</span> - Retrieve API Resources
                                
                                    [/v2]
                                
                                </a>
                            </li>
                        
                        
                    
                
              
            </ul>
        </li>
      

        <li>
            
                <a href="#resource_group_entities" title = "Entities">Entities</a>
            
            <ul>
              
                
                    
                        
                            <li>
                                <a href="#action_list-entities" title = "GET - List entities"><span class="actionMethod">GET</span> - List entities
                                
                                    [/v2/entities{?attrs,coords,geometry,georel,id,idPattern,limit,offset,options,orderBy,q,type}]
                                
                                </a>
                            </li>
                        
                        
                    
                
              
                
                    
                        
                            <li>
                                <a href="#action_create-entity" title = "POST - Create entity"><span class="actionMethod">POST</span> - Create entity
                                
                                    [/v2/entities{?options}]
                                
                                </a>
                            </li>
                        
                        
                    
                
              
                
                    <li>
                        <a href="#resource_entity-by-id" title = "Resource Entity by ID">
                        
                            Entity by ID
                        
                        </a>
                        <ul class="toc  ">
                        
                            
                                <li>
                                    <a href="#action_retrieve-entity" title ="GET - Retrieve entity"><span class="actionMethod">GET</span> - Retrieve entity
                                    
                                        [/v2/entities/{entityId}{?attrs,options,type}]
                                    
                                    </a>
                                </li>
                            

                        
                            
                                <li>
                                    <a href="#action_retrieve-entity-attributes" title ="GET - Retrieve entity attributes"><span class="actionMethod">GET</span> - Retrieve entity attributes
                                    
                                        [/v2/entities/{entityId}/attrs{?attrs,options,type}]
                                    
                                    </a>
                                </li>
                            

                        
                            
                                <li>
                                    <a href="#action_update-or-append-entity-attributes" title ="POST - Update or append entity attributes"><span class="actionMethod">POST</span> - Update or append entity attributes
                                    
                                        [/v2/entities/{entityId}/attrs{?options,type}]
                                    
                                    </a>
                                </li>
                            

                        
                            
                                <li>
                                    <a href="#action_update-existing-entity-attributes" title ="PATCH - Update existing entity attributes"><span class="actionMethod">PATCH</span> - Update existing entity attributes
                                    
                                        [/v2/entities/{entityId}/attrs{?options,type}]
                                    
                                    </a>
                                </li>
                            

                        
                            
                                <li>
                                    <a href="#action_replace-all-entity-attributes" title ="PUT - Replace all entity attributes"><span class="actionMethod">PUT</span> - Replace all entity attributes
                                    
                                        [/v2/entities/{entityId}/attrs{?options,type}]
                                    
                                    </a>
                                </li>
                            

                        
                            
                                <li>
                                    <a href="#action_remove-entity" title ="DELETE - Remove entity"><span class="actionMethod">DELETE</span> - Remove entity
                                    
                                        [/v2/entities/{entityId}{?type}]
                                    
                                    </a>
                                </li>
                            

                        
                        </ul>
                    </li>
                
              
            </ul>
        </li>
      

        <li>
            
                <a href="#resource_group_attributes" title = "Attributes">Attributes</a>
            
            <ul>
              
                
                    <li>
                        <a href="#resource_attribute-by-entity-id" title = "Resource Attribute by Entity ID">
                        
                            Attribute by Entity ID
                        
                        </a>
                        <ul class="toc  ">
                        
                            
                                <li>
                                    <a href="#action_get-attribute-data" title ="GET - Get attribute data"><span class="actionMethod">GET</span> - Get attribute data
                                    
                                        [/v2/entities/{entityId}/attrs/{attrName}{?type}]
                                    
                                    </a>
                                </li>
                            

                        
                            
                                <li>
                                    <a href="#action_update-attribute-data" title ="PUT - Update attribute data"><span class="actionMethod">PUT</span> - Update attribute data
                                    
                                        [/v2/entities/{entityId}/attrs/{attrName}{?type}]
                                    
                                    </a>
                                </li>
                            

                        
                            
                                <li>
                                    <a href="#action_remove-a-single-attribute" title ="DELETE - Remove a single attribute"><span class="actionMethod">DELETE</span> - Remove a single attribute
                                    
                                        [/v2/entities/{entityId}/attrs/{attrName}{?type}]
                                    
                                    </a>
                                </li>
                            

                        
                        </ul>
                    </li>
                
              
            </ul>
        </li>
      

        <li>
            
                <a href="#resource_group_attribute-value" title = "Attribute Value">Attribute Value</a>
            
            <ul>
              
                
                    <li>
                        <a href="#resource_by-entity-id" title = "Resource By Entity ID">
                        
                            By Entity ID
                        
                        </a>
                        <ul class="toc  ">
                        
                            
                                <li>
                                    <a href="#action_get-attribute-value" title ="GET - Get attribute value"><span class="actionMethod">GET</span> - Get attribute value
                                    
                                        [/v2/entities/{entityId}/attrs/{attrName}/value{?type}]
                                    
                                    </a>
                                </li>
                            

                        
                            
                                <li>
                                    <a href="#action_update-attribute-value" title ="PUT - Update attribute value"><span class="actionMethod">PUT</span> - Update attribute value
                                    
                                        [/v2/entities/{entityId}/attrs/{attrName}/value{?type}]
                                    
                                    </a>
                                </li>
                            

                        
                        </ul>
                    </li>
                
              
            </ul>
        </li>
      

        <li>
            
                <a href="#resource_group_types" title = "Types">Types</a>
            
            <ul>
              
                
                    <li>
                        <a href="#resource_entity-types" title = "Resource Entity types">
                        
                            Entity types
                        
                        </a>
                        <ul class="toc  ">
                        
                            
                                <li>
                                    <a href="#action_retrieve-entity-types" title ="GET - Retrieve entity types"><span class="actionMethod">GET</span> - Retrieve entity types
                                    
                                        [/v2/types/{?limit,offset,options}]
                                    
                                    </a>
                                </li>
                            

                        
                        </ul>
                    </li>
                
              
                
                    <li>
                        <a href="#resource_entity-type" title = "Resource Entity type">
                        
                            Entity type
                        
                        </a>
                        <ul class="toc  ">
                        
                            
                                <li>
                                    <a href="#action_retrieve-entity-type" title ="GET - Retrieve entity type"><span class="actionMethod">GET</span> - Retrieve entity type
                                    
                                        [/v2/types/{entityType}]
                                    
                                    </a>
                                </li>
                            

                        
                        </ul>
                    </li>
                
              
            </ul>
        </li>
      

        <li>
            
                <a href="#resource_group_subscriptions" title = "Subscriptions">Subscriptions</a>
            
            <ul>
              
                
                    <li>
                        <a href="#resource_subscription-list" title = "Resource Subscription List">
                        
                            Subscription List
                        
                        </a>
                        <ul class="toc  ">
                        
                            
                                <li>
                                    <a href="#action_retrieve-subscriptions" title ="GET - Retrieve subscriptions"><span class="actionMethod">GET</span> - Retrieve subscriptions
                                    
                                        [/v2/subscriptions{?limit,offset,options}]
                                    
                                    </a>
                                </li>
                            

                        
                            
                                <li>
                                    <a href="#action_create-a-new-subscription" title ="POST - Create a new subscription"><span class="actionMethod">POST</span> - Create a new subscription
                                    
                                        [/v2/subscriptions]
                                    
                                    </a>
                                </li>
                            

                        
                        </ul>
                    </li>
                
              
                
                    <li>
                        <a href="#resource_subscription-by-id" title = "Resource Subscription By ID">
                        
                            Subscription By ID
                        
                        </a>
                        <ul class="toc  ">
                        
                            
                                <li>
                                    <a href="#action_retrieve-subscription" title ="GET - Retrieve subscription"><span class="actionMethod">GET</span> - Retrieve subscription
                                    
                                        [/v2/subscriptions/{subscriptionId}]
                                    
                                    </a>
                                </li>
                            

                        
                            
                                <li>
                                    <a href="#action_update-subscription" title ="PATCH - Update subscription"><span class="actionMethod">PATCH</span> - Update subscription
                                    
                                        [/v2/subscriptions/{subscriptionId}]
                                    
                                    </a>
                                </li>
                            

                        
                            
                                <li>
                                    <a href="#action_delete-subscription" title ="DELETE - Delete subscription"><span class="actionMethod">DELETE</span> - Delete subscription
                                    
                                        [/v2/subscriptions/{subscriptionId}]
                                    
                                    </a>
                                </li>
                            

                        
                        </ul>
                    </li>
                
              
            </ul>
        </li>
      

        <li>
            
                <a href="#resource_group_batch-operations" title = "Batch Operations">Batch Operations</a>
            
            <ul>
              
                
                    
                        
                            <li>
                                <a href="#action_update" title = "POST - Update"><span class="actionMethod">POST</span> - Update
                                
                                    [/v2/op/update]
                                
                                </a>
                            </li>
                        
                        
                    
                
              
                
                    
                        
                            <li>
                                <a href="#action_query" title = "POST - Query"><span class="actionMethod">POST</span> - Query
                                
                                    [/v2/op/query{?limit,offset,options}]
                                
                                </a>
                            </li>
                        
                        
                    
                
              
            </ul>
        </li>
      

    </ul>
</nav>

    
    




		
	
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	





	
		
	
		
	
		
	
		
	
		
	
		
			<section>
				<h2 id="conformance"> Conformance</h2>
<p>This specification describes the "full" compliance level.</p>
<p>However, future iterations of this specification might define optionality in some parts and the
compliance level (or roles/profiles) corresponding to them.</p>


			</section>
		
	
		
			<section>
				<h2 id="conventions"> Conventions</h2>
<p>NGSI version 2 uses camel case (camelCase) syntax for naming properties and related artifacts used
by the API. When  referring to URIs, as part of HATEOAS patterns, and to mark them appropriately,
the suffix <code>_url</code> is added.</p>


			</section>
		
	
		
			<section>
				<h2 id="reference_implementations"> Reference Implementations</h2>
<ul>
<li>NGISv2 servers</li>
<li><a href="http://catalogue.fiware.org/enablers/publishsubscribe-context-broker-orion-context-broker">Orion Context Broker</a> - <a href="https://fiware-orion.readthedocs.io/en/develop/user/ngsiv2_implementation_notes/index.html">Implementation Notes</a></li>
</ul>


			</section>
		
	


		
            <section>
			    <h1 id="specification">Specification</h1>
			     
            </section>
		
	
	
		
		  	<section>
				<h2 id="introduction"> Introduction</h2>
<p>The FIWARE NGSI (Next Generation Service Interface) API defines </p>
<ul>
<li>a <strong>data model</strong> for context information, based on a simple information model using the notion of
  <em>context entities</em></li>
<li>a <strong>context data interface</strong> for exchanging information by means of query, subscription, and
  update operations</li>
<li>a <strong>context availability interface</strong> for exchanging information on how to obtain context
  information (whether to separate the two interfaces is currently under discussion).</li>
</ul>


			</section>
		
	
		
		  	<section>
				<h2 id="terminology"> Terminology</h2>



<h3 id="context_data_modelling_and_exchange"> Context data modelling and exchange</h3>
<p>The main elements in the NGSI data model are context entities, attributes and metadata,
as shown in the figure below.</p>
<p><img alt="NGSI data model" src="https://raw.githubusercontent.com/telefonicaid/fiware-orion/develop/doc/apiary/v2/Ngsi-data-model.png"></p>


<h4 id="context_entities"> Context Entities</h4>
<p>Context entities, or simply entities, are the center of gravity in the FIWARE NGSI information 
model. An entity represents a thing, i.e., any physical or logical object (e.g., a sensor, a person,
a room, an issue in a ticketing system, etc.). Each entity has an <strong>entity id</strong>.</p>
<p>Furthermore, the type system of FIWARE NGSI enables entities to have 
an <strong>entity type</strong>. Entity types are semantic types; they are intended
to describe the type of thing represented by the entity.
For example, a context entity with id <em>sensor-365</em> could have the
type <em>temperatureSensor</em>.</p>
<p>Each entity is uniquely identified by the combination of its id and type.</p>



<h4 id="context_attributes"> Context Attributes</h4>
<p>Context attributes are properties of context entities.
For example, the current speed of a car could be modeled as
attribute <em>current_speed</em> of entity <em>car-104</em>.</p>
<p>In the NGSI data model, attributes have an <em>attribute name</em>,
an <em>attribute type</em>, an <em>attribute value</em> and <em>metadata</em>. 
<em> The attribute name describes what kind of property the attribute value represents of the entity,
for example </em>current_speed<em>.
</em> The attribute type represents the NGSI value type of the attribute value.
Note that FIWARE NGSI has its own type system for attribute values, so NGSI value types are not
the same as JSON types.
* The attribute value finally contains
  * the actual data
  * optional <strong>metadata</strong> describing properties of the attribute value like e.g. accuracy, provider,
    or a timestamp</p>



<h4 id="context_metadata"> Context Metadata</h4>
<p>Context metadata is used in FIWARE NGSI in several places, one of
them being an optional part of the attribute value as described
above. Similar to attributes, each piece of metadata has:
 * <strong>a metadata name</strong>, describing the role of the metadata in the
 place where it occurs; for example, the metadata name <em>accuracy</em> 
 indicates that the metadata value describes how accurate a given 
 attribute value is
 * a <strong>metadata type</strong>, describing the NGSI value type of the metadata value
 * a <strong>metadata value</strong> containing the actual metadata</p>
<p>Note that in NGSI it is not foreseen that metadata may contain nested metadata.</p>




			</section>
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	





	
		
	
		
	
		
			<section>
				<h2 id="mime_types"> MIME Types</h2>
<p>The API response payloads in this specification are based on <code>application/json</code> and  (for attribute value 
type operation) <code>text/plain</code> MIME types. Clients issuing HTTP requests with accept types different 
than those will get a <code>406 Not Acceptable</code> error.</p>


			</section>
		
	
		
			<section>
				<h2 id="json_entity_representation"> JSON Entity Representation</h2>
<p>An entity is represented by a JSON object with the following syntax:</p>
<ul>
<li>
<p>The entity id is specified by the object's <code>id</code> property, whose value is a string containing the
  entity id.</p>
</li>
<li>
<p>The entity type is specified by the object's <code>type</code> property, whose value is a string containing
  the entity's type name.</p>
</li>
<li>
<p>Entity attributes are specified by additional properties, whose names are the <code>name</code> of the 
  attribute and whose representation is described in the "JSON Attribute Representation" section
  below. Obviously, <code>id</code> and <code>type</code> are not allowed to be used as attribute names.</p>
</li>
</ul>
<p>An example of this syntax in shown below:</p>
<pre><code>{
  &quot;id&quot;: &quot;entityID&quot;,
  &quot;type&quot;: &quot;entityType&quot;,
  &quot;attr_1&quot;: &lt;val_1&gt;,
  &quot;attr_2&quot;: &lt;val_2&gt;,
  ...
  &quot;attr_N&quot;: &lt;val_N&gt;
}
</code></pre>

<p>The normalized representation of entities always include <code>id</code>, <code>type</code> and the properties that
represent attributes. However, simplified or partial representations
(see the "Partial Representations" section below) may leave some of them out.
The specification of each operation includes details about what representation is expected as input
or what representation will be provided (rendered) as output.</p>


			</section>
		
	
		
			<section>
				<h2 id="json_attribute_representation"> JSON Attribute Representation</h2>
<p>An attribute is represented by a JSON object with the following syntax:</p>
<ul>
<li>
<p>The attribute value is specified by the <code>value</code> property, whose value may be any JSON datatype.</p>
</li>
<li>
<p>The attribute NGSI type is specified by the <code>type</code> property, whose value is a string containing
  the NGSI type.</p>
</li>
<li>
<p>The attribute metadata is specified by the <code>metadata</code> property. Its value is another JSON object
  which contains a property per metadata element defined (the name of the property is the <code>name</code> of
  the metadata element). Each metadata element, in turn, is represented by a JSON object containing
  the following properties:</p>
</li>
<li>
<p><code>value</code>: Its value contains the metadata value, which may correspond to any JSON datatype.</p>
</li>
<li>
<p><code>type</code>: Its value contains a string representation of the metadata NGSI type.</p>
</li>
</ul>
<p>An example of this syntax in shown below:</p>
<pre><code>{
  &quot;value&quot;: &lt;...&gt;,
  &quot;type&quot;: &lt;...&gt;,
  &quot;metadata&quot;: &lt;...&gt;
}
</code></pre>


			</section>
		
	
		
			<section>
				<h2 id="simplified_entity_representation"> Simplified Entity Representation</h2>
<p>There are two representation modes that must be supported by implementations. These representation
modes allow to generate simplified representations of entities.</p>
<ul>
<li><em>keyValues</em> mode. This mode represents the entity attributes by their values only, leaving out the
  information about type and metadata.
  See example below.</li>
</ul>
<pre><code>{
  &quot;id&quot;: &quot;R12345&quot;,
  &quot;type&quot;: &quot;Room&quot;,
  &quot;temperature&quot;: 22
}
</code></pre>

<ul>
<li><em>values mode</em>. This mode represents the entity as an array of attribute values.
  Information about id and type is left out.
  See example below.
  The order of the attributes in the array is specified by the <code>attrs</code> URI param
  (e.g. <code>attrs=branch,colour,engine</code>). If <code>attrs</code> is not used, the order is arbitrary.</li>
</ul>
<pre><code>[ 'Ford', 'black', 78.3 ]
</code></pre>

<ul>
<li><em>unique mode</em>. This mode is just like <em>values mode</em>, except that values are not repeated.</li>
</ul>


			</section>
		
	
		
			<section>
				<h2 id="partial_representations"> Partial Representations</h2>
<p>Some operations use partial representation of entities:</p>
<ul>
<li>
<p><code>id</code> and <code>type</code> are not allowed in update operations, as they are immutable properties.</p>
</li>
<li>
<p>In some cases, not all the attributes of the entity are shown, e.g. a query selecting a subset
  of the entity attributes.</p>
</li>
<li>
<p>Attribute/metadata <code>value</code> may be omitted in requests, meaning that the attribute/metadata has
  <code>null</code> value. In responses, the value is always present.</p>
</li>
<li>
<p>Attribute <code>metadata</code> may be omitted in requests, meaning that there are no metadata elements
  associated to the attribute. In responses, this property is set to
  <code>{}</code> if the attribute doesn't have any metadata.</p>
</li>
</ul>


			</section>
		
	
		
			<section>
				<h2 id="special_attribute_types"> Special Attribute Types</h2>
<p>Generally speaking, user-defined attribute types are informative; they are processed by the NGSIv2
server in an opaque way. Nonetheless, the types described below are used to convey a special
meaning:</p>
<ul>
<li><code>DateTime</code>:  identifies dates, in ISO8601 format. These attributes can be used with the query
  operators greater-than, less-than, greater-or-equal, less-or-equal and range. For instance
  (only the referred entity attribute is shown):</li>
</ul>
<pre><code>{
  &quot;timestamp&quot;: {
    &quot;value&quot;: &quot;2017-06-17T07:21:24.238Z&quot;,
    &quot;type: &quot;DateTime&quot;
  }
}
</code></pre>


			</section>
		
	
		
			<section>
				<h2 id="virtual_attributes"> Virtual Attributes</h2>
<p>There are entity properties that are not directly modifiable by NGSIv2 clients, but that can be
rendered by NGSIv2 servers to provide extra information. From a representation point of view, they
are just like regular attributes, with name, value and type.</p>
<p>Virtual attributes are not rendered by default. In order to render a specific attribute, add its
name to the <code>options</code> URL parameter.</p>
<p>The list of virtual attributes is as follows:
<em> <code>dateCreated</code> (type: <code>DateTime</code>): entity creation date as an ISO 8601 string.
</em> <code>dateModified</code> (type: <code>DateTime</code>): entity modification date as an ISO 8601 string.</p>
<p>Like regular attributes, they can be  used in <code>attrs</code>, <code>q</code> filters and <code>orderBy</code>.
However, they cannot be used in resource URLs.</p>


			</section>
		
	
		
			<section>
				<h2 id="field_syntax_restrictions"> Field syntax restrictions</h2>
<p>Fields used as identifiers in the NGSIv2 API follow special rules regarding allowed syntax.
These rules apply to:</p>
<ul>
<li>Entity id</li>
<li>Entity type</li>
<li>Attribute name</li>
<li>Attribute type</li>
<li>Metadata name</li>
<li>Metadata type</li>
</ul>
<p>The rules are:</p>
<ul>
<li>Allowed characters are the ones in the plain ASCII set, except the following ones:
  control characters, whitespace, <code>&amp;</code>, <code>?</code>, <code>/</code> and <code>#</code>.</li>
<li>Maximum field length is 256 characters.</li>
<li>Minimum field length is 1 character.</li>
</ul>
<p>In addition to the above rules, given NGSIv2 server implementations could add additional syntactical
restrictions in those or other fields, e.g., to avoid cross script injection attacks.</p>
<p>In case a client attempts to use a field that is invalid from a syntax point of view, the client
gets a "Bad Request" error response, explaining the cause.</p>


			</section>
		
	
		
			<section>
				<h2 id="attribute_names_restrictions"> Attribute names restrictions</h2>
<p>The following strings must not be used as attribute names:</p>
<ul>
<li>
<p><code>id</code>, as it would conflict with the field used to represent entity id.</p>
</li>
<li>
<p><code>type</code>, as it would conflict with the field used to represent entity type.</p>
</li>
<li>
<p><code>geo:distance</code>, as it would conflict with the string used in <code>orderBy</code> for proximity to
  center point.</p>
</li>
<li>
<p>Virtual attribute names (see specific section on "Virtual Attributes")</p>
</li>
</ul>


			</section>
		
	
		
			<section>
				<h2 id="ordering_results"> Ordering Results</h2>
<p>Operations that retrieve lists of entities permit the <code>orderBy</code> URI parameter to specify the
attributes or properties to be be used as criteria when ordering results.
The value of <code>orderBy</code> can be:</p>
<ul>
<li>
<p>The keyword <code>geo:distance</code> to order results by distance to a reference geometry when a "near"
  (<code>georel=near</code>) spatial relationship is used. </p>
</li>
<li>
<p>A comma-separated list of attributes (including virtual attributes), e.g. <code>temperature,!humidity</code>.
  Results are ordered by the first attribute. On ties, the results are ordered by the second
  attribute and so on. A "!" before the attribute name means that the order is reversed.</p>
</li>
</ul>


			</section>
		
	
		
			<section>
				<h2 id="error_responses"> Error Responses</h2>
<p>If present, the error payload is a JSON object including the following fields:</p>
<ul>
<li><code>error</code> (required, string): a textual description of the error.</li>
<li><code>description</code> (optional, string): additional information about the error.</li>
</ul>
<p>All NGSIv2 server implementations must use the following HTTP response codes and <code>error</code> texts.
However, the particular text used for <code>description</code> field is an implementation specific aspect.</p>
<p>Error list (HTTP response code in parenthesis):</p>
<ul>
<li>ParseError            (<code>400</code>). The incoming JSON payload cannot be parsed.</li>
<li>BadRequest            (<code>400</code>). The incoming request is invalid in this context.</li>
<li>NotFound              (<code>404</code>). The resource (entity, subscription, etc.) referred in the request
  has not been found.</li>
<li>TooManyResults        (<code>409</code>). There are several results that match with the resource 
  identification
  used in the request.</li>
<li>ContentLengthRequired (<code>411</code>). Zero/No Content-Length in PUT/POST/PATCH request.</li>
<li>RequestEntityTooLarge (<code>413</code>). Payload is too large.</li>
<li>UnsupportedMediaType  (<code>415</code>). Request content type is not supported.</li>
<li>InvalidModification   (<code>422</code>). Some piece of information is missing in payload.</li>
<li>NotSupportedQuery     (<code>422</code>). The implementation does not support the query issued.</li>
<li>NoResourcesAvailable  (<code>413</code>). There are no server resources to fulfill the client request. </li>
</ul>
<p>New error codes may be defined in new iterations of this specification.</p>


			</section>
		
	
		
			<section>
				<h2 id="geospatial_properties_of_entities"> Geospatial properties of entities</h2>
<p>The geospatial properties of a context entity can be represented by means of regular
context attributes.
The provision of geospatial properties enables the resolution of geographical queries.</p>
<p>Two different syntaxes must be supported by compliant implementations: </p>
<ul>
<li>
<p><em>Simple Location Format</em>. It is meant as a very lightweight format for developers and users to
  quickly and easily add to their existing entities.</p>
</li>
<li>
<p><em>GeoJSON</em>.  <a href="https://tools.ietf.org/html/draft-butler-geojson-06">GeoJSON</a> is a geospatial data
  interchange format based on the JavaScript Object Notation (JSON).
  GeoJSON provides greater flexibility allowing the representation of point altitudes or even more
  complex geospatial shapes, for instance
  <a href="http://www.macwright.org/2015/03/23/geojson-second-bite.html#multi-geometries">multi geometries</a>.</p>
</li>
</ul>
<p>Client applications are responsible for defining which entity attributes convey geospatial
properties (by providing an appropriate NGSI attribute type). Typically this is an entity attribute
named <code>location</code>, but nothing prevents use cases where an entity contains more than one geospatial
attribute. For instance, locations specified at different granularity levels or provided by
different location methods with different accuracy. 
Nonetheless, it is noteworthy that spatial properties
need special indexes which can be under resource constraints imposed by backend databases.
Thus, implementations may raise errors when spatial index limits are exceeded.
The recommended HTTP status code for those situations is <code>413</code>, <em>Request entity too large</em>, and
the reported error on the response payload must be <code>NoResourcesAvailable</code>.</p>


<h3 id="simple_location_format"> Simple Location Format</h3>
<p>Simple Location Format supports basic geometries ( <em>point</em>, <em>line</em>, <em>box</em>, <em>polygon</em> ) and covers
the typical use cases when encoding geographical locations. It has been inspired by
<a href="http://www.georss.org/simple.html">GeoRSS Simple</a>.</p>
<p>It is noteworthy that the Simple Location Format is not intended to represent complex positions on
Earth surface.
For instance, applications that require to capture altitude coordinates will have to use GeoJSON as
representation format for the geospatial properties of their entities. </p>
<p>A context attribute representing a location encoded with the Simple Location Format
must conform to the following syntax:</p>
<ul>
<li>The attribute type must be one of the following values: (<code>geo:point</code>, <code>geo:line</code>, <code>geo:box</code> or 
  <code>geo:polygon</code>).</li>
<li>
<p>The attribute value must be a list of coordinates. By default, coordinates are defined
  using the <a href="https://en.wikipedia.org/wiki/World_Geodetic_System#WGS84">WGS84 Lat Long</a>,
  <a href="http://www.opengis.net/def/crs/EPSG/0/4326">EPSG::4326</a> coordinate reference system (CRS),
  with latitude and longitude units of decimal degrees. Such coordinate list allow to encode
  the geometry specified by the <code>type</code> attribute and are encoded according to the specific
  rules defined below:</p>
</li>
<li>
<p>Type <code>geo:point</code>:   the attribute value must contain a string containing a
    valid latitude-longitude pair, separated by comma.</p>
</li>
<li>Type <code>geo:line</code>:    the attribute value must contain a string array of
    valid latitude-longitude pairs. There must be at least two pairs.</li>
<li>Type <code>geo:polygon</code>: the attribute value must contain a string array
    of valid latitude-longitude pairs.
    There must be at least four pairs, with the last being identical to the first
    (so a polygon has a minimum of three actual points).
    Coordinate pairs should be properly ordered so that the line segments
    that compose the polygon remain on the outer edge of the defined area.
    For instance, the following path, <code>[0,0], [0,2], [2,0], [2, 2]</code>, is an example of an invalid
    polygon definition. 
    Implementations should raise an error when none of the former conditions are met by input data. </li>
<li>Type <code>geo:box</code>:     A bounding box is a rectangular region, often used to define the extents of
    a map or a rough area of interest. A box is represented by a two-length string array of
    latitude-longitude pairs.
    The first pair is the lower corner, the second is the upper corner.</li>
</ul>
<p>Note: Circle geometries are not supported, as the <a href="https://github.com/geojson/geojson-spec/wiki/Proposal---Circles-and-Ellipses-Geoms#discussion-notes">literature</a>
describes different shortcomings for implementations. </p>
<p>The examples below illustrate the referred syntax:</p>
<pre><code>{
  &quot;location&quot;: {
    &quot;value&quot;: &quot;41.3763726, 2.186447514&quot;,
    &quot;type&quot;: &quot;geo:point&quot;
  }
}
</code></pre>

<pre><code>{
  &quot;location&quot;: {
    &quot;value&quot;: [
      &quot;40.63913831188419, -8.653321266174316&quot;,
      &quot;40.63881265804603, -8.653149604797363&quot;
    ],
    &quot;type&quot;: &quot;geo:box&quot;
  }
}
</code></pre>



<h3 id="geojson"> GeoJSON</h3>
<p>A context attribute representing a location encoded using GeoJSON must conform to the following
syntax:</p>
<ul>
<li>The NGSI type of the attribute must be <code>geo:json</code>.</li>
<li>The attribute value must be a valid GeoJSON object. It is noteworthy that longitude comes before
  latitude in GeoJSON coordinates.</li>
</ul>
<p>The example below illustrates the usage of GeoJSON.
More GeoJSON examples can be found in <a href="https://tools.ietf.org/html/draft-butler-geojson-06#page-14">GeoJSON IETF Spec</a>.
Additionally, the following
<a href="http://www.macwright.org/2015/03/23/geojson-second-bite.html">GeoJSON Tutorial</a>
might be useful in understanding the format. </p>
<pre><code>{
  &quot;location&quot;: {
    &quot;value&quot;: {
      &quot;type&quot;: &quot;Point&quot;,
      &quot;coordinates&quot;: [2.186447514, 41.3763726]
    },
    &quot;type&quot;: &quot;geo:json&quot;
  }
}
</code></pre>



			</section>
		
	
		
			<section>
				<h2 id="simple_query_language"> Simple Query Language</h2>
<p>The Simple Query Language provides a simplified syntax to retrieve entities which match a set of
conditions.
A query is composed by a list of statements separated by the ';' character.
Each statement express a matching condition.
The query returns all the entities that match all the matching conditions (AND logical operator). </p>
<p>There are two kinds of statements: <em>unary statements</em> and <em>binary statements</em>.</p>
<p>Binary statements are composed by an attribute name (e.g. "temperature"), an operator and a value
(whose format depends on the operator), e.g.:</p>
<pre><code>temperature==50
temperature&lt;=20
</code></pre>

<p>The list of operators (and the format of the values they use) is as follows:</p>
<ul>
<li><strong>Equal</strong>: <code>==</code>. This operator accepts the following types of right-hand side:<ul>
<li>Single element, e.g. <code>temperature==40</code>. For an entity to match, it must contain an attribute
  with that exact name (temperature) and value (40).</li>
<li>A list of comma-separated values, e.g. <code>color==black,red</code>. For an entity to match, it must
  contain an attribute with that name and the value of the attribute must be <strong>any</strong> of the
  values in the list (OR clause).
  E.g. entities with an attribute named <code>color</code>, whose value is <code>black</code> are a match, while
  entities with an attribute named <code>color</code> but whose value is <code>white</code> do not match.</li>
<li>A range, specified as a minimum and a maximum, separated by <code>..</code>, e.g. <code>temperature==10..20</code>.
  For an entity to match, it must contain an attribute with that name (temperature), and its
  value must be in the interval between the minimum and maximum of the range (both included).
  Ranges can only be used with attributes that represent dates (in ISO8601 format), numbers or
  strings.</li>
</ul>
</li>
<li><strong>Unequal</strong>: <code>!=</code>. This operator accepts the following types of right-hand side:<ul>
<li>Single element, e.g. <code>temperature!=41</code>. For an entity to match, it must contain an attribute
  with that exact name (temperature) and whose value is <strong>not</strong> that exact value (41).</li>
<li>A list of comma-separated values, e.g. <code>color!=black,red</code>. For an entity to match, it must
  contain an attribute with that name, and whose value is <strong>not</strong> any of the values in the list
  (AND clause).
  Eg. entities whose attribute <code>color</code> is set to <code>black</code> will not match, while entities whose
  attribute <code>color</code> is set to <code>white</code> will match.</li>
<li>A range, specified as a minimum and maximum separated by <code>..</code>, e.g. <code>temperature!=10..20</code>.
  For an entity to match, it must contain an attribute with that exact name (temperature) and
  whose value is <strong>not</strong> in the interval between the minimum and the maximum (both included).
  Ranges can only be used with attributes that represent dates (in ISO8601 format), numbers or
  strings.</li>
</ul>
</li>
<li><strong>Greater than</strong>: <code>&gt;</code>. The right-hand side must be a single element, e.g. <code>temperature&gt;42</code>.
    For an entity to match, it must contain an attribute with that exact name (temperature) and
    whose value is strictly greater than that value (42).
    This operation is only valid for attributes of type date, numbers or strings (used with
    attributes of other types may lead to unpredictable results).</li>
<li><strong>Less than</strong>: <code>&lt;</code>. The right-hand side must be a single element, e.g. <code>temperature&lt;43</code>.
    For an entity to match, it must contain an attribute with that exact name (temperature) and
    whose value is strictly less than that value (43).
    This operation is only valid for attributes of type date, numbers or strings (used with
    attributes of other types may lead to unpredictable results).</li>
<li><strong>Greater or equal than</strong>: <code>&gt;=</code>. The right-hand side must be a single element, e.g. <code>temperature&gt;=44</code>.
    For an entity to match, it must contain an attribute with that exact name (temperature) and
    whose value is greater than or equal to that value (44).
    This operation is only valid for attributes of type date, numbers or strings (used with
    attributes of other types may lead to unpredictable results).</li>
<li><strong>Less or equal than</strong>: <code>&lt;=</code>. The right-hand side must be a single element, e.g. <code>temperature&lt;=45</code>.
    For an entity to match, it must contain an attribute with that exact name (temperature) and
    whose value is less than or equal to that value (45).
    This operation is only valid for attributes of type date, numbers or strings (used with
    attributes of other types may lead to unpredictable results).</li>
<li><strong>Match pattern</strong>: <code>~=</code>. The value matches a given pattern, expressed as a regular expression, e.g.
    <code>color~=ow</code>.
    For an entity to match, it must contain an attribute with that exact name (color), and
    whose value matches the string in the right-hand side, 'ow' in this example (<code>brown</code> and <code>yellow</code>
    would match, <code>black</code> and <code>white</code> would not).
    This operation is only valid for attributes of type string.</li>
</ul>
<p>The symbol <code>:</code> can be used instead of <code>==</code>.</p>
<p>In the case of equal or unequal, if s string to match includes a <code>,</code>, you can use simple quote
(<code>'</code>) to disable the special meaning of the comma,  e.g: <code>color=='light,green','deep,blue'</code>.
The first example would match a color with the exact value 'light,green' OR 'deep,blue'.</p>
<p>Unary negatory statements use the unary operator <code>!</code>, while affirmative unary statements use no
operator at all.
The unary statements are used to check for the existence of attribute.
E.g. <code>temperature</code> matches entities that have an attribute called 'temperature' (no matter its
value), while <code>!temperature</code> matches entities that do not have a temperature called 'attribute'.</p>


			</section>
		
	
		
			<section>
				<h2 id="geographical_queries"> Geographical Queries</h2>
<p>Geographical queries are specified using the following parameters:</p>
<p><code>georel</code> is intended to specify a spatial relationship (a predicate)
between matching entities and a reference shape (<code>geometry</code>).
It is composed of a token list separated by ';'.
The first token is the relationship name, the rest of the tokens (if any) are modifiers which
provide more information about the relationship. The following values are recognized:</p>
<ul>
<li><code>georel=near</code>. The <code>near</code> relationship means that matching entities must be located at a certain
  threshold distance to the reference geometry. It supports the following modifiers:</li>
<li><code>maxDistance</code>.  Expresses, in meters, the maximum distance at which matching entities must be
    located.</li>
<li><code>minDistance</code>.  Expresses, in meters, the minimum distance at which matching entities must be
    located.</li>
<li><code>georel=coveredBy</code>. Denotes that matching entities are those that exist entirely within the
  reference geometry.
  When resolving a query of this type, the border of the shape must be considered to be part of the
  shape. </li>
<li><code>georel=intersects</code>. Denotes that matching entities are those intersecting with the reference
  geometry.</li>
<li><code>georel=equals</code>. The geometry associated to the position of matching entities and the reference
  geometry must be exactly the same.</li>
<li><code>georel=disjoint</code>. Denotes that matching entities are those <strong>not</strong> intersecting with the
  reference geometry. </li>
</ul>
<p><code>geometry</code> allows to define the reference shape to be used when resolving the query.
 The following geometries (see Simple Location Format) must be supported:</p>
<ul>
<li><code>geometry=point</code>, defines a point on the Earth surface.</li>
<li><code>geometry=line</code>, defines a polygonal line.</li>
<li><code>geometry=polygon</code>, defines a polygon.</li>
<li><code>geometry=box</code>, defines a bounding box.</li>
</ul>
<p><strong>coords</strong> must be a string containing a semicolon-separated list of pairs of geographical
coordinates in accordance with the geometry specified and the rules mandated by the Simple Location
Format:</p>
<ul>
<li><code>geometry=point</code>.   <code>coords</code> contains a pair of WGS-84 geo-coordinates.</li>
<li><code>geometry=line</code>.    <code>coords</code> contains a list of pairs of WGS-84 geo-coordinates.</li>
<li><code>geometry=polygon</code>. <code>coords</code> is composed by at least four pairs of WGS-84 geo-coordinates.</li>
<li><code>geometry=box</code>.     <code>coords</code> is composed by two pairs of WGS-84 geo-coordinates.</li>
</ul>
<p>Examples:</p>
<p><code>georel=near;maxDistance:1000&amp;geometry=point&amp;coords=-40.4,-3.5</code>.
Matching entities must be located (at most) 1000 meters from the reference point.</p>
<p><code>georel=near;minDistance:5000&amp;geometry=point&amp;coords=-40.4,-3.5</code>.
Matching entities must be (at least) 5000 meters from the reference point. </p>
<p><code>georel=coveredBy&amp;geometry=polygon&amp;coords=25.774,-80.190;18.466,-66.118;32.321,-64.757;25.774,-80.190</code>
Matching entities are those located within the referred polygon.</p>


<h3 id="query_resolution"> Query Resolution</h3>
<p>If an implementation is not able to resolve a geographical query, the HTTP Status code of the
response must be <code>422</code>, <em>Unprocessable Entity</em>. The error name, present in the error payload,
must be <code>NotSupportedQuery</code>. </p>
<p>When resolving geographical queries, through the Simple Query Language,
the API implementation is responsible for determining which entity attribute
contains the geographical location to be used for matching purposes.
To this aim, the following rules must be followed:</p>
<ul>
<li>
<p>If an entity has no attribute corresponding to a location (encoded as GeoJSON or the
  Simple Location Format), then such an entity has not declared any geospatial property and will not
  match any geographical query.</p>
</li>
<li>
<p>If an entity only exposes one attribute corresponding to a location, then such an attribute will
  be used when resolving geographical queries.</p>
</li>
<li>
<p>If an entity exposes more than one location, then the attribute containing a metadata property
  named <code>defaultLocation</code>, with boolean value <code>true</code> will be taken as the reference location
  used for resolving geographical queries. </p>
</li>
<li>
<p>If there is more than one attribute exposing location but none of them is labeled as default
location, then the query will be declared ambiguous and an HTTP error response with a <code>409</code> code
must be sent.</p>
</li>
<li>
<p>If there is more than one attribute exposing location labeled as <em>default location</em>, then the
  query is declared ambiguous and an HTTP error response with a <code>409</code> code must be sent. </p>
</li>
</ul>



			</section>
		
	
		
			<section>
				<h2 id="notification_messages"> Notification Messages</h2>
<p>Notifications include two fields:</p>
<ul>
<li><code>subscriptionId</code> represents the concerned subscription that originates the notification</li>
<li><code>data</code> is an array with the notification data itself which includes the entity and all concerned
  attributes. Each element in the array corresponds to a different entity. By default, the entities
  are represented in <code>normalized</code> mode. However, using the <code>attrsFormat</code> modifier, a simplified
  representation mode can be requested.</li>
</ul>
<p>If <code>attrsFormat</code> is <code>normalized</code> (or if <code>attrsFormat</code> is omitted) then default entity representation
is used:</p>
<pre><code>{
  &quot;subscriptionId&quot;: &quot;12345&quot;,
  &quot;data&quot;: [
    {
      &quot;id&quot;: &quot;Room1&quot;,
      &quot;type&quot;: &quot;Room&quot;,
      &quot;temperature&quot;: {
        &quot;value&quot;: 23,
        &quot;type&quot;: &quot;Number&quot;,
        &quot;metadata&quot;: {}
      },
      &quot;humidity&quot;: {
        &quot;value&quot;: 70,
        &quot;type&quot;: &quot;percentage&quot;,
        &quot;metadata&quot;: {}
      }
    },
    {
      &quot;id&quot;: &quot;Room2&quot;,
      &quot;type&quot;: &quot;Room&quot;,
      &quot;temperature&quot;: {
        &quot;value&quot;: 24,
        &quot;type&quot;: &quot;Number&quot;,
        &quot;metadata&quot;: {}
      }
    }
  ]
}
</code></pre>

<p>If <code>attrsFormat</code> is <code>keyValues</code> then keyValues partial entity representation mode is used:</p>
<pre><code>{
  &quot;subscriptionId&quot;: &quot;12345&quot;,
  &quot;data&quot;: [
    {
      &quot;id&quot;: &quot;Room1&quot;,
      &quot;type&quot;: &quot;Room&quot;,
      &quot;temperature&quot;: 23,
      &quot;humidity&quot;: 70
    },
    {
      &quot;id&quot;: &quot;Room2&quot;,
      &quot;type&quot;: &quot;Room&quot;,
      &quot;temperature&quot;: 24
    }
  ]
}
</code></pre>

<p>If <code>attrsFormat</code> is <code>values</code> then values partial entity representation mode is used:</p>
<pre><code>{
  &quot;subscriptionId&quot;: &quot;12345&quot;,
  &quot;data&quot;: [ [23, 70], [24] ]
}
</code></pre>

<p>Notifications must include the <code>Ngsiv2-AttrsFormat</code> HTTP header with the value of the format of the
associated subscription, so that notification receivers are aware of the format without
needing to process the notification payload.</p>


			</section>
		
	
		
			<section>
				<h2 id="custom_notifications"> Custom Notifications</h2>
<p>NGSIv2 clients can customize HTTP notification messages using a simple template mechanism. The
<code>notification.httpCustom</code> property of a subscription allows to specify the following fields
to be templatized:</p>
<ul>
<li><code>url</code></li>
<li><code>headers</code> (both header name and value can be templatized)</li>
<li><code>qs</code> (both parameter name and value can be templatized)</li>
<li><code>payload</code></li>
</ul>
<p>The fifth field <code>method</code>, lets the NGSIv2 clients select the HTTP method to be used for delivering
the notification, but note that only valid HTTP verbs can be used: GET, PUT, POST, DELETE, PATCH,
HEAD, OPTIONS, TRACE, and CONNECT.</p>
<p>Macro substitution for templates is based on the syntax <code>${..}</code>. In particular:</p>
<ul>
<li><code>${id}</code> is replaced by the <code>id</code> of the entity</li>
<li><code>${type}</code> is replaced by the <code>type</code> of the entity</li>
<li>Any other <code>${token}</code> is replaced by the value of the attribute whose name is <code>token</code> or with
  an empty string if the attribute is not included in the notification. If the value is a number,
  a bool or null then its string representation is used. If the value is a JSON array or object
  then its JSON representation as string is used.</li>
</ul>
<p>Example:</p>
<p>Let's consider the following <code>notification.httpCustom</code> object in a given subscription.</p>
<pre><code>&quot;httpCustom&quot;: {
  &quot;url&quot;: &quot;http://foo.com/entity/${id}&quot;,
  &quot;headers&quot;: {
    &quot;Content-Type&quot;: &quot;text/plain&quot;
  },
  &quot;method&quot;: &quot;PUT&quot;,
  &quot;qs&quot;: {
    &quot;type&quot;: &quot;${type}&quot;
  },
  &quot;payload&quot;: &quot;The temperature is ${temperature} degrees&quot;
}
</code></pre>

<p>Now let's assume that a notification associated to this subscription is triggered, and that the
notification data is for an entity with id "DC_S1-D41" and type "Room", and including an attribute
named "temperature" with the value 23.4.
The resulting notification after applying the template would be:</p>
<pre><code>PUT http://foo.com/entity/DC_S1-D41?type=Room
Content-Type: text/plain
Content-Length: 31

The temperature is 23.4 degrees
</code></pre>

<p>Some considerations to take into account:</p>
<ul>
<li>It is the NGSIv2 client's responsability to ensure that after substitution, the notification is a
  correct HTTP message (e.g. if the Content-Type header is application/xml, then the payload must
  correspond to a well-formed XML document). Specifically, if the resulting URL after applying the
  template is malformed, then no notification is sent.</li>
<li>In case the data to notify contains more than one entity, a separate notification (HTTP message)
  is sent for each of the entities (contrary to default behaviour, which is to send all entities in
  the same HTTP message).</li>
</ul>
<p>Note that if a custom payload is used for the notification (the field <code>payload</code> is given in the
corresponding subscription), then a value of <code>custom</code> is used for the <code>Ngsiv2-AttrsFormat</code> header
in the notification.</p>


			</section>
		
	



    

  
  <section id="API_specification">
      <h1>API Specification</h1>
      




        
            <section id="resource_group_api-entry-point" class="resourceGroup">
            <h2 id="h-resource_group_api-entry-point">API Entry Point</h2>
        
	
        
            <section id="resource_retrieve-api-resources" class="resource">
                 <div class= "header" >
                 
                    <h3 id="h-resource_retrieve-api-resources">Retrieve API Resources</h3>
                    <span class="extra-header">[/v2]</span>
                 
                 </div>
                
                
                

		        
                
                






    


                


                    
                        <div id="action_retrieve-api-resources" class="action GET">

                        
    <div class="header">
        
            <h4 id="h-action_retrieve-api-resources">Retrieve API Resources </h4>
            <span class="extra-header">
		GET 
                
                    /v2
                
            </span>
        

    </div>

        
                            <div id="retrieve-api-resources_body" class="">
                                <p>This resource does not have any attributes. Instead it offers the initial
API affordances in the form of the links in the JSON body.</p>
<p>It is recommended to follow the “url” link values,
<a href="https://tools.ietf.org/html/rfc5988">Link</a> or Location headers where
applicable to retrieve resources. Instead of constructing your own URLs,
to keep your client decoupled from implementation details.</p>
                                
                                
                                
			
                                
                                



      

                                

                                    
                                
                                <div>
                                    
    <div class="goApiary">
    
        
    
        
    
        
    
        
    
        
    
        
            
                
            
            

            
                
            
            
                <a target="_blank" href="http://docs.orioncontextbroker.apiary.io/#reference/api-entry-point/retrieve-api-resources/retrieve-api-resources">View in Apiary</a>
            
        
    
        
    
        
    
    </div>

                                
                                </div>
                                
                            </div>
                        </div>
                    
            </section>
        
    </section>

        
            <section id="resource_group_entities" class="resourceGroup">
            <h2 id="h-resource_group_entities">Entities</h2>
        
	
        
            <section id="resource_list-entities" class="resource">
                 <div class= "header" >
                 
                    <h3 id="h-resource_list-entities">List entities</h3>
                    <span class="extra-header">[/v2/entities{?attrs,coords,geometry,georel,id,idPattern,limit,offset,options,orderBy,q,type}]</span>
                 
                 </div>
                
                
                

		        
                
                






    


                


                    
                        <div id="action_list-entities" class="action GET">

                        
    <div class="header">
        
            <h4 id="h-action_list-entities">List entities </h4>
            <span class="extra-header">
		GET 
                
                    /v2/entities{?attrs,coords,geometry,georel,id,idPattern,limit,offset,options,orderBy,q,type}
                
            </span>
        

    </div>

        
                            <div id="list-entities_body" class="">
                                <p>Retrieves a list of entities that match different criteria (by id, idPattern, type or those which
match a query or geographical query). A given entity has to match all the criteria to be retrieved
(i.e., the criteria is combined in a logical AND way). Note that the id and idPattern parameters are
incompatible - cannot be used together.
See <a href="#simple_query_language">Simple Query Language</a> and <a href="#geographical_queries">Geographical Queries</a>.</p>
<p>The response payload is an array containing one object per matching entity. Each entity follows
the JSON entity representation format (described in "JSON Entity Representation" section).</p>
<p>Response code:</p>
<ul>
<li>
<p>Successful operation uses 200 OK</p>
</li>
<li>
<p>Errors use a non-2xx and (optionally) an error payload. See subsection on "Error Responses" for
  more details.</p>
</li>
</ul>
                                
                                
                                

	<span class="parameters-title">Parameters</span>
	<dl>
		
			<dt>
				<span class="parameter-name">attrs</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Comma-separated list of attribute names whose data
are to be included in the response.
The attributes are retrieved in the order specified by this parameter. If this parameter is
not included, the attributes are retrieved in arbitrary order.</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">coords</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>List of latitude-longitude
pairs of coordinates separated by ';'. See <a href="#geographical_queries">Geographical Queries</a>.</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">geometry</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Geografical area to which the query is restricted.
See <a href="#geographical_queries">Geographical Queries</a>.</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">georel</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Spatial relationship between matching entities and a
reference shape. See <a href="#geographical_queries">Geographical Queries</a>.</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">id</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>A comma-separated list of elements.
Retrieve entities whose ID matches one of the elements in the list.
Incompatible with idPattern.</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">idPattern</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>A correctly formated regular expression.
Retrieve entities whose ID matches the regular expression. Incompatible with id.</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">limit</span> <span class="parameter-attributes">(optional, number)</span>
			</dt>
			<dd>
				<p>Limits the number of entities to be retrieved</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">offset</span> <span class="parameter-attributes">(optional, number)</span>
			</dt>
			<dd>
				<p>Establishes the offset from where entities are retrieved</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">options</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Options dictionary</p>
				
					<p>Allowed values:</p>
					<dl>
						
							<dt>
								count 
							</dt>
							<dd>
								<p>when used, the total number of entities is returned in the response as an             HTTP header named <code>Fiware-Total-Count</code>.</p>
							</dd>
						
							<dt>
								keyValues 
							</dt>
							<dd>
								<p>when used, the response payload uses the <code>keyValues</code> simplified entity            representation. See "Simplified Entity Representation" section for details.</p>
							</dd>
						
							<dt>
								values 
							</dt>
							<dd>
								<p>when used, the response payload uses the <code>values</code> simplified entity            representation. See "Simplified Entity Representation" section for details.</p>
							</dd>
						
							<dt>
								unique 
							</dt>
							<dd>
								<p>when used, the response payload uses the <code>values</code> simplified entity            representation.
            Recurring values are left out.
            See "Simplified Entity Representation" section for details.</p>
							</dd>
						
					</dl>
				
			</dd>
		
			<dt>
				<span class="parameter-name">orderBy</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Criteria for ordering results.
See "Ordering Results" section for details.</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">q</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>A query expression, composed of a list of statements
separated by <code>;</code>, i.e., q=statement;statements;statement.
See <a href="#simple_query_language">Simple Query Language specification</a>. </p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">type</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>comma-separated list of elements.
Retrieve entities whose type matches one of the elements in the list.</p>
				
			</dd>
		
	</dl>
			
                                
                                



      

                                

                                    
                                
                                <div>
                                    
    <div class="goApiary">
    
        
    
        
    
        
    
        
    
        
    
        
            
                
            
            

            
                
            
            
                <a target="_blank" href="http://docs.orioncontextbroker.apiary.io/#reference/entities/list-entities/list-entities">View in Apiary</a>
            
        
    
        
    
        
    
    </div>

                                
                                </div>
                                
                            </div>
                        </div>
                    
            </section>
        
            <section id="resource_create-entity" class="resource">
                 <div class= "header" >
                 
                    <h3 id="h-resource_create-entity">Create entity</h3>
                    <span class="extra-header">[/v2/entities{?options}]</span>
                 
                 </div>
                
                
                

		        
                
                






    


                


                    
                        <div id="action_create-entity" class="action POST">

                        
    <div class="header">
        
            <h4 id="h-action_create-entity">Create entity </h4>
            <span class="extra-header">
		POST 
                
                    /v2/entities{?options}
                
            </span>
        

    </div>

        
                            <div id="create-entity_body" class="">
                                <p>The payload is an object representing the entity to be created. The object follows
the JSON entity representation format (described in a "JSON Entity Representation" section).</p>
<p>Response:</p>
<ul>
<li>
<p>Successful operation uses 201 Created. Reponse includes a <code>Location</code> header with the URL of the
  created entity.</p>
</li>
<li>
<p>Errors use a non-2xx and (optionally) an error payload. See subsection on "Error Responses" for
  more details.</p>
</li>
</ul>
                                
                                
                                

	<span class="parameters-title">Parameters</span>
	<dl>
		
			<dt>
				<span class="parameter-name">options</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Options dictionary</p>
				
					<p>Allowed values:</p>
					<dl>
						
							<dt>
								keyValues 
							</dt>
							<dd>
								<p>when used, the request payload uses the <code>keyValues</code> simplified entity            representation. See "Simplified Entity Representation" section for details.</p>
							</dd>
						
					</dl>
				
			</dd>
		
	</dl>
			
                                
                                



      

                                

                                    
                                        
                                        
                                        
                                
                                <div><div class="goExample">
                                        <a href="#action_create-entity_examples">Go to example</a>
                                    </div>
                                    
    <div class="goApiary">
    
        
    
        
    
        
    
        
    
        
    
        
            
                
            
            

            
                
            
            
                <a target="_blank" href="http://docs.orioncontextbroker.apiary.io/#reference/entities/create-entity/create-entity">View in Apiary</a>
            
        
    
        
    
        
    
    </div>

                                
                                </div>
                                
                            </div>
                        </div>
                    
            </section>
        
            <section id="resource_entity-by-id" class="resource">
                 <div class= "header" >
                 
                    <h3 id="h-resource_entity-by-id">Entity by ID</h3>
                    <span class="extra-header">[/v2/entities/{entityId}{?attrs,options,type}]</span>
                 
                 </div>
                
                
                

		        
                
                






    


                


                    
                        <div id="action_retrieve-entity" class="action GET">

                        
    <div class="header">
        
            <h4 id="h-action_retrieve-entity">Retrieve entity </h4>
            <span class="extra-header">
		GET 
                
                    /v2/entities/{entityId}{?attrs,options,type}
                
            </span>
        

    </div>

        
                            <div id="retrieve-entity_body" class="">
                                <p>The response is an object representing the entity identified by the ID. The object follows
the JSON entity representation format (described in "JSON Entity Representation" section).</p>
<p>This operation must return one entity element only, but there may be more than one entity with the
same ID (e.g. entities with same ID but different types).
In such case, an error message is returned, with the HTTP status code set to 409 Conflict. </p>
<p>Response:</p>
<ul>
<li>
<p>Successful operation uses 200 OK</p>
</li>
<li>
<p>Errors use a non-2xx and (optionally) an error payload. See subsection on "Error Responses" for more details.</p>
</li>
</ul>
                                
                                
                                

	<span class="parameters-title">Parameters</span>
	<dl>
		
			<dt>
				<span class="parameter-name">attrs</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Comma-separated list of attribute names whose
data must be included in the response. The attributes are retrieved in the order specified by
this parameter.
If this parameter is not included, the attributes are retrieved in arbitrary order, and all
the attributes of the entity are included in the response.</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">entityId</span> <span class="parameter-attributes">(required, string)</span>
			</dt>
			<dd>
				<p>Id of the entity to be retrieved</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">options</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Options dictionary</p>
				
					<p>Allowed values:</p>
					<dl>
						
							<dt>
								keyValues 
							</dt>
							<dd>
								<p>when used, the response payload uses the <code>keyValues</code> simplified entity            representation. See "Simplified Entity Representation" section for details.</p>
							</dd>
						
							<dt>
								values 
							</dt>
							<dd>
								<p>when used, the response payload uses the <code>values</code> simplified entity            representation. See "Simplified Entity Representation" section for details.</p>
							</dd>
						
							<dt>
								unique 
							</dt>
							<dd>
								<p>when used, the response payload uses the <code>values</code> simplified entity            representation. Recurring values are left out.
            See "Simplified Entity Representation" section for details.</p>
							</dd>
						
					</dl>
				
			</dd>
		
			<dt>
				<span class="parameter-name">type</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Entity type, to avoid ambiguity in case there are several
entities with the same entity id.</p>
				
			</dd>
		
	</dl>
			
                                
                                



      

                                

                                    
                                
                                <div>
                                    
    <div class="goApiary">
    
        
    
        
    
        
    
        
    
        
    
        
            
                
            
            

            
                
            
            
                <a target="_blank" href="http://docs.orioncontextbroker.apiary.io/#reference/entities/entity-by-id/retrieve-entity">View in Apiary</a>
            
        
    
        
    
        
    
    </div>

                                
                                </div>
                                
                            </div>
                        </div>
                    
                        <div id="action_retrieve-entity-attributes" class="action GET">

                        
    <div class="header">
        
            <h4 id="h-action_retrieve-entity-attributes">Retrieve entity attributes </h4>
            <span class="extra-header">
		GET 
                
                    /v2/entities/{entityId}/attrs{?attrs,options,type}
                
            </span>
        

    </div>

        
                            <div id="retrieve-entity-attributes_body" class="">
                                <p>This request is similar to retreiving the whole entity, however this one omits the <code>id</code> and <code>type</code>
fields.</p>
<p>Just like the general request of getting an entire entity, this operation must return only one
entity element. If more than one entity with the same ID is found (e.g. entities with
same ID but different type), an error message is returned, with the HTTP status code set to
409 Conflict.</p>
<p>Response:</p>
<ul>
<li>
<p>Successful operation uses 200 OK</p>
</li>
<li>
<p>Errors use a non-2xx and (optionally) an error payload. See subsection on "Error Responses" for
  more details.</p>
</li>
</ul>
                                
                                
                                

	<span class="parameters-title">Parameters</span>
	<dl>
		
			<dt>
				<span class="parameter-name">attrs</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Comma-separated list of attribute names whose
data are to be included in the response. The attributes are retrieved in the order specified
by this parameter.
If this parameter is not included, the attributes are retrieved in arbitrary order, and all
the attributes of the entity are included in the response.</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">entityId</span> <span class="parameter-attributes">(required, string)</span>
			</dt>
			<dd>
				<p>Id of the entity to be retrieved</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">options</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Options dictionary</p>
				
					<p>Allowed values:</p>
					<dl>
						
							<dt>
								keyValues 
							</dt>
							<dd>
								<p>when used, the response payload uses the <code>keyValues</code> simplified entity            representation. See "Simplified Entity Representation" section for details.</p>
							</dd>
						
							<dt>
								values 
							</dt>
							<dd>
								<p>when used, the response payload uses the <code>values</code> simplified entity            representation. See "Simplified Entity Representation" section for details.</p>
							</dd>
						
							<dt>
								unique 
							</dt>
							<dd>
								<p>when used, the response payload uses the <code>values</code> simplified entity            representation. Recurring values are left out.
            See "Simplified Entity Representation" section for details.</p>
							</dd>
						
					</dl>
				
			</dd>
		
			<dt>
				<span class="parameter-name">type</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Entity type, to avoid ambiguity in the case there are several
entities with the same entity id.</p>
				
			</dd>
		
	</dl>
			
                                
                                



      

                                

                                    
                                
                                <div>
                                    
    <div class="goApiary">
    
        
    
        
    
        
    
        
    
        
    
        
            
                
            
            

            
                
            
            
                <a target="_blank" href="http://docs.orioncontextbroker.apiary.io/#reference/entities/entity-by-id/retrieve-entity-attributes">View in Apiary</a>
            
        
    
        
    
        
    
    </div>

                                
                                </div>
                                
                            </div>
                        </div>
                    
                        <div id="action_update-or-append-entity-attributes" class="action POST">

                        
    <div class="header">
        
            <h4 id="h-action_update-or-append-entity-attributes">Update or append entity attributes </h4>
            <span class="extra-header">
		POST 
                
                    /v2/entities/{entityId}/attrs{?options,type}
                
            </span>
        

    </div>

        
                            <div id="update-or-append-entity-attributes_body" class="">
                                <p>The request payload is an object representing the attributes to append or update. The object follows
the JSON entity representation format (described in "JSON Entity Representation" section), except
that <code>id</code> and <code>type</code> are not allowed.</p>
<p>The entity attributes are updated with the ones in the payload, depending on
whether the <code>append</code> operation option is used or not.</p>
<ul>
<li>
<p>If <code>append</code> is not used: the entity attributes are updated (if they previously exist) or appended
  (if they don't previously exist) with the ones in the payload.</p>
</li>
<li>
<p>If <code>append</code> is used (i.e. strict append semantics): all the attributes in the payload not
  previously existing in the entity are appended. In addition to that, in case some of the
  attributes in the payload already exist in the entity, an error is returned.</p>
</li>
</ul>
<p>Response:</p>
<ul>
<li>
<p>Successful operation uses 204 No Content</p>
</li>
<li>
<p>Errors use a non-2xx and (optionally) an error payload. See subsection on "Error Responses" for
  more details.</p>
</li>
</ul>
                                
                                
                                

	<span class="parameters-title">Parameters</span>
	<dl>
		
			<dt>
				<span class="parameter-name">entityId</span> <span class="parameter-attributes">(required, string)</span>
			</dt>
			<dd>
				<p>Entity id to be updated</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">options</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Operations options</p>
				
					<p>Allowed values:</p>
					<dl>
						
							<dt>
								append 
							</dt>
							<dd>
								<p>Force an append operation</p>
							</dd>
						
							<dt>
								keyValues 
							</dt>
							<dd>
								<p>when used, the request payload uses the <code>keyValues</code> simplified entity              representation. See "Simplified Entity Representation" section for details.</p>
							</dd>
						
					</dl>
				
			</dd>
		
			<dt>
				<span class="parameter-name">type</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Entity type, to avoid ambiguity in case there are several
entities with the same entity id.</p>
				
			</dd>
		
	</dl>
			
                                
                                



      

                                

                                    
                                        
                                        
                                        
                                
                                <div><div class="goExample">
                                        <a href="#action_update-or-append-entity-attributes_examples">Go to example</a>
                                    </div>
                                    
    <div class="goApiary">
    
        
    
        
    
        
    
        
    
        
    
        
            
                
            
            

            
                
            
            
                <a target="_blank" href="http://docs.orioncontextbroker.apiary.io/#reference/entities/entity-by-id/update-or-append-entity-attributes">View in Apiary</a>
            
        
    
        
    
        
    
    </div>

                                
                                </div>
                                
                            </div>
                        </div>
                    
                        <div id="action_update-existing-entity-attributes" class="action PATCH">

                        
    <div class="header">
        
            <h4 id="h-action_update-existing-entity-attributes">Update existing entity attributes </h4>
            <span class="extra-header">
		PATCH 
                
                    /v2/entities/{entityId}/attrs{?options,type}
                
            </span>
        

    </div>

        
                            <div id="update-existing-entity-attributes_body" class="">
                                <p>The request payload is an object representing the attributes to update. The object follows
the JSON entity representation format (described in "JSON Entity Representation" section), except
that <code>id</code> and <code>type</code> are not allowed.</p>
<p>The entity attributes are updated with the ones in the payload. In addition to that, if one or more
attributes in the payload doesn't exist in the entity, an error is returned.</p>
<p>Response:</p>
<ul>
<li>
<p>Successful operation uses 204 No Content</p>
</li>
<li>
<p>Errors use a non-2xx and (optionally) an error payload. See subsection on "Error Responses" for
  more details.</p>
</li>
</ul>
                                
                                
                                

	<span class="parameters-title">Parameters</span>
	<dl>
		
			<dt>
				<span class="parameter-name">entityId</span> <span class="parameter-attributes">(required, string)</span>
			</dt>
			<dd>
				<p>Id of the entity to be updated</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">options</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Operations options</p>
				
					<p>Allowed values:</p>
					<dl>
						
							<dt>
								keyValues 
							</dt>
							<dd>
								<p>when used, the request payload uses the <code>keyValues</code> simplified entity              representation. See "Simplified Entity Representation" section for details.</p>
							</dd>
						
					</dl>
				
			</dd>
		
			<dt>
				<span class="parameter-name">type</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Entity type, to avoid ambiguity in case there are several
entities with the same entity id.</p>
				
			</dd>
		
	</dl>
			
                                
                                



      

                                

                                    
                                        
                                        
                                        
                                
                                <div><div class="goExample">
                                        <a href="#action_update-existing-entity-attributes_examples">Go to example</a>
                                    </div>
                                    
    <div class="goApiary">
    
        
    
        
    
        
    
        
    
        
    
        
            
                
            
            

            
                
            
            
                <a target="_blank" href="http://docs.orioncontextbroker.apiary.io/#reference/entities/entity-by-id/update-existing-entity-attributes">View in Apiary</a>
            
        
    
        
    
        
    
    </div>

                                
                                </div>
                                
                            </div>
                        </div>
                    
                        <div id="action_replace-all-entity-attributes" class="action PUT">

                        
    <div class="header">
        
            <h4 id="h-action_replace-all-entity-attributes">Replace all entity attributes </h4>
            <span class="extra-header">
		PUT 
                
                    /v2/entities/{entityId}/attrs{?options,type}
                
            </span>
        

    </div>

        
                            <div id="replace-all-entity-attributes_body" class="">
                                <p>The request payload is an object representing the new entity attributes. The object follows
the JSON entity representation format (described in a "JSON Entity Representation" above), except
that <code>id</code> and <code>type</code> are not allowed.</p>
<p>The attributes previously existing in the entity are removed and replaced by the ones in the
request.</p>
<p>Response:</p>
<ul>
<li>
<p>Successful operation uses 204 No Content</p>
</li>
<li>
<p>Errors use a non-2xx and (optionally) an error payload. See subsection on "Error Responses" for
  more details.</p>
</li>
</ul>
                                
                                
                                

	<span class="parameters-title">Parameters</span>
	<dl>
		
			<dt>
				<span class="parameter-name">entityId</span> <span class="parameter-attributes">(required, string)</span>
			</dt>
			<dd>
				<p>Id of the entity in question.</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">options</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Operations options</p>
				
					<p>Allowed values:</p>
					<dl>
						
							<dt>
								keyValues 
							</dt>
							<dd>
								<p>when used, the request payload uses the <code>keyValues</code> simplified entity              representation. See "Simplified Entity Representation" section for details.</p>
							</dd>
						
					</dl>
				
			</dd>
		
			<dt>
				<span class="parameter-name">type</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Entity type, to avoid ambiguity in the case there are several
entities with the same entity id.</p>
				
			</dd>
		
	</dl>
			
                                
                                



      

                                

                                    
                                        
                                        
                                        
                                
                                <div><div class="goExample">
                                        <a href="#action_replace-all-entity-attributes_examples">Go to example</a>
                                    </div>
                                    
    <div class="goApiary">
    
        
    
        
    
        
    
        
    
        
    
        
            
                
            
            

            
                
            
            
                <a target="_blank" href="http://docs.orioncontextbroker.apiary.io/#reference/entities/entity-by-id/replace-all-entity-attributes">View in Apiary</a>
            
        
    
        
    
        
    
    </div>

                                
                                </div>
                                
                            </div>
                        </div>
                    
                        <div id="action_remove-entity" class="action DELETE">

                        
    <div class="header">
        
            <h4 id="h-action_remove-entity">Remove entity </h4>
            <span class="extra-header">
		DELETE 
                
                    /v2/entities/{entityId}{?type}
                
            </span>
        

    </div>

        
                            <div id="remove-entity_body" class="">
                                <p>Delete the entity.</p>
<p>Response:</p>
<ul>
<li>
<p>Successful operation uses 204 No Content</p>
</li>
<li>
<p>Errors use a non-2xx and (optionally) an error payload. See subsection on "Error Responses" for
  more details.</p>
</li>
</ul>
                                
                                
                                

	<span class="parameters-title">Parameters</span>
	<dl>
		
			<dt>
				<span class="parameter-name">entityId</span> <span class="parameter-attributes">(required, string)</span>
			</dt>
			<dd>
				<p>Id of the entity to be deleted</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">type</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Entity type, to avoid ambiguity in the case there are several
entities with the same entity id.</p>
				
			</dd>
		
	</dl>
			
                                
                                



      

                                

                                    
                                
                                <div>
                                    
    <div class="goApiary">
    
        
    
        
    
        
    
        
    
        
    
        
            
                
            
            

            
                
            
            
                <a target="_blank" href="http://docs.orioncontextbroker.apiary.io/#reference/entities/entity-by-id/remove-entity">View in Apiary</a>
            
        
    
        
    
        
    
    </div>

                                
                                </div>
                                
                            </div>
                        </div>
                    
            </section>
        
    </section>

        
            <section id="resource_group_attributes" class="resourceGroup">
            <h2 id="h-resource_group_attributes">Attributes</h2>
        
	
        
            <section id="resource_attribute-by-entity-id" class="resource">
                 <div class= "header" >
                 
                    <h3 id="h-resource_attribute-by-entity-id">Attribute by Entity ID</h3>
                    <span class="extra-header">[/v2/entities/{entityId}/attrs/{attrName}{?type}]</span>
                 
                 </div>
                
                
                

		        
                
                






    


                


                    
                        <div id="action_get-attribute-data" class="action GET">

                        
    <div class="header">
        
            <h4 id="h-action_get-attribute-data">Get attribute data </h4>
            <span class="extra-header">
		GET 
                
                    /v2/entities/{entityId}/attrs/{attrName}{?type}
                
            </span>
        

    </div>

        
                            <div id="get-attribute-data_body" class="">
                                <p>Returns a JSON object with the attribute data of the attribute. The object follows the JSON
representation for attributes (described in "JSON Attribute Representation" section).</p>
<p>Response:</p>
<ul>
<li>
<p>Successful operation uses 20O OK.</p>
</li>
<li>
<p>Errors use a non-2xx and (optionally) an error payload. See subsection on "Error Responses" for
  more details.</p>
</li>
</ul>
                                
                                
                                

	<span class="parameters-title">Parameters</span>
	<dl>
		
			<dt>
				<span class="parameter-name">attrName</span> <span class="parameter-attributes">(required, string)</span>
			</dt>
			<dd>
				<p>Name of the attribute to be retrieved.</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">entityId</span> <span class="parameter-attributes">(required, string)</span>
			</dt>
			<dd>
				<p>Id of the entity</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">type</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Entity type, to avoid ambiguity in the case there are several
entities with the same entity id.</p>
				
			</dd>
		
	</dl>
			
                                
                                



      

                                

                                    
                                
                                <div>
                                    
    <div class="goApiary">
    
        
    
        
    
        
    
        
    
        
    
        
            
                
            
            

            
                
            
            
                <a target="_blank" href="http://docs.orioncontextbroker.apiary.io/#reference/attributes/attribute-by-entity-id/get-attribute-data">View in Apiary</a>
            
        
    
        
    
        
    
    </div>

                                
                                </div>
                                
                            </div>
                        </div>
                    
                        <div id="action_update-attribute-data" class="action PUT">

                        
    <div class="header">
        
            <h4 id="h-action_update-attribute-data">Update attribute data </h4>
            <span class="extra-header">
		PUT 
                
                    /v2/entities/{entityId}/attrs/{attrName}{?type}
                
            </span>
        

    </div>

        
                            <div id="update-attribute-data_body" class="">
                                <p>The request payload is an object representing the new attribute data. Previous attribute data
is replaced by the one in the request. The object follows the JSON representation for attributes
(described in "JSON Attribute Representation" section).</p>
<p>Response:</p>
<ul>
<li>
<p>Successful operation uses 204 No Content</p>
</li>
<li>
<p>Errors use a non-2xx and (optionally) an error payload. See subsection on "Error Responses" for
  more details.</p>
</li>
</ul>
                                
                                
                                

	<span class="parameters-title">Parameters</span>
	<dl>
		
			<dt>
				<span class="parameter-name">attrName</span> <span class="parameter-attributes">(required, string)</span>
			</dt>
			<dd>
				<p>Attribute name</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">entityId</span> <span class="parameter-attributes">(required, string)</span>
			</dt>
			<dd>
				<p>Id of the entity to update</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">type</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Entity type, to avoid ambiguity in case there are several
entities with the same entity id.</p>
				
			</dd>
		
	</dl>
			
                                
                                



      

                                

                                    
                                        
                                        
                                        
                                
                                <div><div class="goExample">
                                        <a href="#action_update-attribute-data_examples">Go to example</a>
                                    </div>
                                    
    <div class="goApiary">
    
        
    
        
    
        
    
        
    
        
    
        
            
                
            
            

            
                
            
            
                <a target="_blank" href="http://docs.orioncontextbroker.apiary.io/#reference/attributes/attribute-by-entity-id/update-attribute-data">View in Apiary</a>
            
        
    
        
    
        
    
    </div>

                                
                                </div>
                                
                            </div>
                        </div>
                    
                        <div id="action_remove-a-single-attribute" class="action DELETE">

                        
    <div class="header">
        
            <h4 id="h-action_remove-a-single-attribute">Remove a single attribute </h4>
            <span class="extra-header">
		DELETE 
                
                    /v2/entities/{entityId}/attrs/{attrName}{?type}
                
            </span>
        

    </div>

        
                            <div id="remove-a-single-attribute_body" class="">
                                <p>Removes an entity attribute.</p>
<p>Response:</p>
<ul>
<li>
<p>Successful operation uses 204 No Content</p>
</li>
<li>
<p>Errors use a non-2xx and (optionally) an error payload. See subsection on "Error Responses" for
  more details.</p>
</li>
</ul>
                                
                                
                                

	<span class="parameters-title">Parameters</span>
	<dl>
		
			<dt>
				<span class="parameter-name">attrName</span> <span class="parameter-attributes">(required, string)</span>
			</dt>
			<dd>
				<p>Attribute name.</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">entityId</span> <span class="parameter-attributes">(required, string)</span>
			</dt>
			<dd>
				<p>Id of the entity.</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">type</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Entity type, to avoid ambiguity in the case there are several
entities with the same entity id.</p>
				
			</dd>
		
	</dl>
			
                                
                                



      

                                

                                    
                                
                                <div>
                                    
    <div class="goApiary">
    
        
    
        
    
        
    
        
    
        
    
        
            
                
            
            

            
                
            
            
                <a target="_blank" href="http://docs.orioncontextbroker.apiary.io/#reference/attributes/attribute-by-entity-id/remove-a-single-attribute">View in Apiary</a>
            
        
    
        
    
        
    
    </div>

                                
                                </div>
                                
                            </div>
                        </div>
                    
            </section>
        
    </section>

        
            <section id="resource_group_attribute-value" class="resourceGroup">
            <h2 id="h-resource_group_attribute-value">Attribute Value</h2>
        
	
        
            <section id="resource_by-entity-id" class="resource">
                 <div class= "header" >
                 
                    <h3 id="h-resource_by-entity-id">By Entity ID</h3>
                    <span class="extra-header">[/v2/entities/{entityId}/attrs/{attrName}/value?{type}]</span>
                 
                 </div>
                
                
                

		        
                
                






    


                


                    
                        <div id="action_get-attribute-value" class="action GET">

                        
    <div class="header">
        
            <h4 id="h-action_get-attribute-value">Get attribute value </h4>
            <span class="extra-header">
		GET 
                
                    /v2/entities/{entityId}/attrs/{attrName}/value{?type}
                
            </span>
        

    </div>

        
                            <div id="get-attribute-value_body" class="">
                                <p>This operation returns the <code>value</code> property with the value of the attribute.</p>
<ul>
<li>If attribute value is JSON Array or Object:</li>
<li>If <code>Accept</code> header can be expanded to <code>application/json</code> or <code>text/plain</code> return the value as a JSON with a
    response type of application/json or text/plain (whichever is the first in <code>Accept</code> header or
    <code>application/json</code> in the case of <code>Accept: */*</code>).</li>
<li>
<p>Else return a HTTP error "406 Not Acceptable: accepted MIME types: application/json, text/plain"</p>
</li>
<li>
<p>If attribute value is a string, number, null or boolean:</p>
</li>
<li>If <code>Accept</code> header can be expanded to text/plain return the value as text. In case of a string, citation
    marks are used at the begining and end.</li>
<li>Else return a HTTP error "406 Not Acceptable: accepted MIME types: text/plain"</li>
</ul>
<p>Response:</p>
<ul>
<li>
<p>Successful operation uses 20O OK.</p>
</li>
<li>
<p>Errors use a non-2xx and (optionally) an error payload. See subsection on "Error Responses" for
  more details.</p>
</li>
</ul>
                                
                                
                                

	<span class="parameters-title">Parameters</span>
	<dl>
		
			<dt>
				<span class="parameter-name">attrName</span> <span class="parameter-attributes">(required, string)</span>
			</dt>
			<dd>
				<p>Name of the attribute to be retrieved.</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">entityId</span> <span class="parameter-attributes">(required, string)</span>
			</dt>
			<dd>
				<p>Id of the entity in question</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">type</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Entity type, to avoid ambiguity in the case there are several
entities with the same entity id.</p>
				
			</dd>
		
	</dl>
			
                                
                                



      

                                

                                    
                                
                                <div>
                                    
    <div class="goApiary">
    
        
    
        
    
        
    
        
    
        
    
        
            
                
            
            

            
                
            
            
                <a target="_blank" href="http://docs.orioncontextbroker.apiary.io/#reference/attribute-value/by-entity-id/get-attribute-value">View in Apiary</a>
            
        
    
        
    
        
    
    </div>

                                
                                </div>
                                
                            </div>
                        </div>
                    
                        <div id="action_update-attribute-value" class="action PUT">

                        
    <div class="header">
        
            <h4 id="h-action_update-attribute-value">Update attribute value </h4>
            <span class="extra-header">
		PUT 
                
                    /v2/entities/{entityId}/attrs/{attrName}/value{?type}
                
            </span>
        

    </div>

        
                            <div id="update-attribute-value_body" class="">
                                <p>The request payload is the new attribute value.</p>
<ul>
<li>
<p>If the request payload MIME type is <code>application/json</code>, then the value of the attribute is set to
  the JSON object or array coded in the payload (if the payload is not a valid JSON document,
  then an error is returned).</p>
</li>
<li>
<p>If the request payload MIME type is <code>text/plain</code>, then the following algorithm is applied to the
  payload:</p>
</li>
<li>If the payload starts and ends with citation-marks (<code>"</code>), the value is taken as a string
    (the citation marks themselves are not considered part of the string)</li>
<li>If <code>true</code> or <code>false</code>, the value is taken as a boolean.</li>
<li>If <code>null</code>, the value is taken as null.</li>
<li>If these first three tests 'fail', the text is interpreted as a number.</li>
<li>If not a valid number, then an error is returned and the attribute's value is unchanged.</li>
</ul>
<p>The payload MIME type in the request is specified in the <code>Content-Type</code> HTTP header.</p>
<p>Response:</p>
<ul>
<li>
<p>Successful operation uses 204 No Content</p>
</li>
<li>
<p>Errors use a non-2xx and (optionally) an error payload. See subsection on "Error Responses" for
  more details.</p>
</li>
</ul>
                                
                                
                                

	<span class="parameters-title">Parameters</span>
	<dl>
		
			<dt>
				<span class="parameter-name">attrName</span> <span class="parameter-attributes">(required, string)</span>
			</dt>
			<dd>
				<p>Attribute name.</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">entityId</span> <span class="parameter-attributes">(required, string)</span>
			</dt>
			<dd>
				<p>Id of the entity to be updated.</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">type</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Entity type, to avoid ambiguity in the case there are several
entities with the same entity id.</p>
				
			</dd>
		
	</dl>
			
                                
                                



      

                                

                                    
                                        
                                        
                                        
                                
                                <div><div class="goExample">
                                        <a href="#action_update-attribute-value_examples">Go to example</a>
                                    </div>
                                    
    <div class="goApiary">
    
        
    
        
    
        
    
        
    
        
    
        
            
                
            
            

            
                
            
            
                <a target="_blank" href="http://docs.orioncontextbroker.apiary.io/#reference/attribute-value/by-entity-id/update-attribute-value">View in Apiary</a>
            
        
    
        
    
        
    
    </div>

                                
                                </div>
                                
                            </div>
                        </div>
                    
            </section>
        
    </section>

        
            <section id="resource_group_types" class="resourceGroup">
            <h2 id="h-resource_group_types">Types</h2>
        
	
        
            <section id="resource_entity-types" class="resource">
                 <div class= "header" >
                 
                    <h3 id="h-resource_entity-types">Entity types</h3>
                    <span class="extra-header">[/v2/types{?limit,offset,options}]</span>
                 
                 </div>
                
                
                

		        
                
                






    


                


                    
                        <div id="action_retrieve-entity-types" class="action GET">

                        
    <div class="header">
        
            <h4 id="h-action_retrieve-entity-types">Retrieve entity types </h4>
            <span class="extra-header">
		GET 
                
                    /v2/types/{?limit,offset,options}
                
            </span>
        

    </div>

        
                            <div id="retrieve-entity-types_body" class="">
                                <p>If the <code>values</code> option is not in use, this operation returns a JSON array with the entity types.
Each element is a JSON object with information about the type:</p>
<ul>
<li>
<p><code>type</code> : the entity type name.</p>
</li>
<li>
<p><code>attrs</code> : the set of attribute names along with all the entities of such type, represented in
  a JSON object whose keys are the attribute names and whose values contain information of such
  attributes (in particular a list of the types used by attributes with that name along with all the
  entities).</p>
</li>
<li>
<p><code>count</code> : the number of entities belonging to that type.</p>
</li>
</ul>
<p>If the <code>values</code> option is used, the operation returns a JSON array with a list of entity type
names as strings.</p>
<p>Results are ordered by entity <code>type</code> in alphabetical order.</p>
<p>Response code:</p>
<ul>
<li>
<p>Successful operation uses 200 OK</p>
</li>
<li>
<p>Errors use a non-2xx and (optionally) an error payload. See subsection on "Error Responses" for
  more details.</p>
</li>
</ul>
                                
                                
                                

	<span class="parameters-title">Parameters</span>
	<dl>
		
			<dt>
				<span class="parameter-name">limit</span> <span class="parameter-attributes">(optional, number)</span>
			</dt>
			<dd>
				<p>Limit the number of types to be retrieved.</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">offset</span> <span class="parameter-attributes">(optional, number)</span>
			</dt>
			<dd>
				<p>Skip a number of records.</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">options</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Options dictionary.</p>
				
					<p>Allowed values:</p>
					<dl>
						
							<dt>
								count 
							</dt>
							<dd>
								<p>when used, the total number of types is returned in the HTTP header            <code>Fiware-Total-Count</code></p>
							</dd>
						
							<dt>
								values 
							</dt>
							<dd>
								<p>when used, the response payload is a JSON array with a list of entity types</p>
							</dd>
						
					</dl>
				
			</dd>
		
	</dl>
			
                                
                                



      

                                

                                    
                                
                                <div>
                                    
    <div class="goApiary">
    
        
    
        
    
        
    
        
    
        
    
        
            
                
            
            

            
                
            
            
                <a target="_blank" href="http://docs.orioncontextbroker.apiary.io/#reference/types/entity-types/retrieve-entity-types">View in Apiary</a>
            
        
    
        
    
        
    
    </div>

                                
                                </div>
                                
                            </div>
                        </div>
                    
            </section>
        
            <section id="resource_entity-type" class="resource">
                 <div class= "header" >
                 
                    <h3 id="h-resource_entity-type">Entity type</h3>
                    <span class="extra-header">[/v2/types/{entityType}]</span>
                 
                 </div>
                
                
                

		        
                
                






    


                


                    
                        <div id="action_retrieve-entity-type" class="action GET">

                        
    <div class="header">
        
            <h4 id="h-action_retrieve-entity-type">Retrieve entity type </h4>
            <span class="extra-header">
		GET 
                
                    /v2/types/{entityType}
                
            </span>
        

    </div>

        
                            <div id="retrieve-entity-type_body" class="">
                                <p>This operation returns a JSON object with information about the type:</p>
<ul>
<li>
<p><code>attrs</code> : the set of attribute names along with all the entities of such type, represented in
  a JSON object whose keys are the attribute names and whose values contain information of such
  attributes (in particular a list of the types used by attributes with that name along with all the
  entities).</p>
</li>
<li>
<p><code>count</code> : the number of entities belonging to that type.</p>
</li>
</ul>
<p>Response code:</p>
<ul>
<li>
<p>Successful operation uses 200 OK</p>
</li>
<li>
<p>Errors use a non-2xx and (optionally) an error payload. See subsection on "Error Responses" for
  more details.</p>
</li>
</ul>
                                
                                
                                

	<span class="parameters-title">Parameters</span>
	<dl>
		
			<dt>
				<span class="parameter-name">entityType</span> <span class="parameter-attributes">(required, string)</span>
			</dt>
			<dd>
				<p>Entity Type</p>
				
			</dd>
		
	</dl>
			
                                
                                



      

                                

                                    
                                
                                <div>
                                    
    <div class="goApiary">
    
        
    
        
    
        
    
        
    
        
    
        
            
                
            
            

            
                
            
            
                <a target="_blank" href="http://docs.orioncontextbroker.apiary.io/#reference/types/entity-type/retrieve-entity-type">View in Apiary</a>
            
        
    
        
    
        
    
    </div>

                                
                                </div>
                                
                            </div>
                        </div>
                    
            </section>
        
    </section>

        
            <section id="resource_group_subscriptions" class="resourceGroup">
            <h2 id="h-resource_group_subscriptions">Subscriptions</h2>
        
	<p>A subscription is represented by a JSON object with the following fields:</p>
<ul>
<li>
<p><code>id</code>: Subscription unique identifier. Automatically created at creation time.</p>
</li>
<li>
<p><code>description</code> (optional): A free text used by the client to describe the subscription.</p>
</li>
<li>
<p><code>subject</code>: An object that describes the subject of the subscription.</p>
</li>
<li>
<p><code>notification</code>: An object that describes the notification to send when the subscription is
  triggered.</p>
</li>
<li>
<p><code>expires</code>: Subscription expiration date in ISO8601 format. Permanent subscriptions must omit
  this field.</p>
</li>
<li>
<p><code>status</code>: Either <code>active</code> (for active subscriptions) or <code>inactive</code> (for inactive subscriptions).
  If this field is not provided at subscription creation time, new subscriptions are created with
  the <code>active</code> status, which can be changed by clients afterwards. For expired subscriptions, this
  attribute is set to <code>expired</code> (no matter if the client updates it to <code>active</code>/<code>inactive</code>).</p>
</li>
<li>
<p><code>throttling</code>: Minimal period of time in seconds which must elapse between two consecutive
  notifications. It is optional.</p>
</li>
</ul>
<p>A <code>subject</code> contains the following subfields:</p>
<ul>
<li>
<p><code>entities</code>: A list of objects, each one composed of the following subfields (<code>id</code>/<code>idPattern</code> or
  <code>type</code> must be present):</p>
<ul>
<li><code>id</code> or <code>idPattern</code>: Id or pattern of the affected entities. Both cannot be used at the same
  time, but at least one of them must be present.</li>
<li><code>type</code>: Type of the affected entities (optional).</li>
</ul>
</li>
<li>
<p><code>condition</code>: Condition to trigger notifications. It has two optional properties:</p>
<ul>
<li><code>attrs</code>: array of attribute names</li>
<li><code>expression</code>: an expression composed of <code>q</code>, <code>georel</code>, <code>geometry</code> and <code>coords</code> (see "List
   entities" operation above about this field).</li>
</ul>
</li>
</ul>
<p>A <code>notification</code> object contains the following subfields:</p>
<ul>
<li><code>attrs</code> or <code>exceptAttrs</code> (both cannot be used at the same time):</li>
<li><code>attrs</code>: List of attributes to be included in notification messages. It also defines the
    order in which attributes must appear in notifications when <code>attrsFormat</code> <code>value</code> is used
    (see "Notification Messages" section). An empty list means that all attributes are to be
    included in notifications.</li>
<li><code>exceptAttrs</code>: List of attributes to be excluded from the notification message, i.e.
     a notification message includes all entity attributes except the ones listed in this field.</li>
<li>
<p>If neither <code>attrs</code> nor <code>exceptAttrs</code> is specified, all attributes are included in
    notifications.</p>
</li>
<li>
<p><code>http</code> or <code>httpCustom</code> (one of them must be present, but not both at the same time): It is used
  to convey parameters for notifications delivered through the HTTP protocol.</p>
</li>
<li>
<p><code>attrsFormat</code> (optional): specifies how the entities are represented in notifications.
  Accepted values are <code>normalized</code> (default), <code>keyValues</code> or <code>values</code>.
  If <code>attrsFormat</code> takes any value different
  than those, an error is raised. See detail in "Notification Messages" section.</p>
</li>
<li>
<p><code>timesSent</code> (not editable, only present in GET operations): Number of notifications sent due to
   this subscription.</p>
</li>
<li>
<p><code>lastNotification</code> (not editable, only present in GET operations): Last notification date in ISO8601 format.</p>
</li>
</ul>
<p>An <code>http</code> object contains the following subfields:</p>
<ul>
<li><code>url</code> : URL referencing the service to be invoked when a notification is generated. An NGSIv2
  compliant server must support the <code>http</code> URL schema. Other schemas could also be supported.</li>
</ul>
<p>An <code>httpCustom</code> object contains the following subfields.</p>
<ul>
<li>
<p><code>url</code>: same as in <code>http</code> above.</p>
</li>
<li>
<p><code>headers</code> (optional): a key-map of HTTP headers that are included in notification messages.</p>
</li>
<li>
<p><code>qs</code> (optional): a key-map of URL query parameters that are included in notification messages.</p>
</li>
<li>
<p><code>method</code> (optional): the method to use when sending the notification (default is POST).
   Only valid HTTP methods are allowed.
   On specifying an invalid HTTP method, a 400 Bad Request error is returned.</p>
</li>
<li>
<p><code>payload</code> (optional): the payload to be used in notifications.
   If omitted, the default payload (see "Notification Messages" sections) is used.</p>
</li>
</ul>
<p>If <code>httpCustom</code> is used, then the considerations described in "Custom Notifications" section apply.</p>
<p>Notification rules are as follow:</p>
<ul>
<li>
<p>If <code>attrs</code> and <code>expression</code> are used, a notification is sent whenever one of the attributes in
  the <code>attrs</code> list changes and at the same time <code>expression</code> matches.</p>
</li>
<li>
<p>If <code>attrs</code> is used and <code>expression</code> is not used, a notification is sent whenever any of the
  attributes in the <code>attrs</code> list changes.</p>
</li>
<li>
<p>If <code>attrs</code> is not used and <code>expression</code> is used, a notification is sent whenever any of the
  attributes of the entity changes and at the same time <code>expression</code> matches.</p>
</li>
<li>
<p>If neither <code>attrs</code> nor <code>expression</code> are used, a notification is sent whenever any of the
  attributes of the entity changes.</p>
</li>
</ul>
        
            <section id="resource_subscription-list" class="resource">
                 <div class= "header" >
                 
                    <h3 id="h-resource_subscription-list">Subscription List</h3>
                    <span class="extra-header">[/v2/subscriptions]</span>
                 
                 </div>
                
                
                

		        
                
                






    


                


                    
                        <div id="action_retrieve-subscriptions" class="action GET">

                        
    <div class="header">
        
            <h4 id="h-action_retrieve-subscriptions">Retrieve subscriptions </h4>
            <span class="extra-header">
		GET 
                
                    /v2/subscriptions{?limit,offset,options}
                
            </span>
        

    </div>

        
                            <div id="retrieve-subscriptions_body" class="">
                                <p>Returns a list of all the subscriptions present in the system.</p>
<p>Response:</p>
<ul>
<li>
<p>Successful operation uses 200 OK</p>
</li>
<li>
<p>Errors use a non-2xx and (optionally) an error payload. See subsection on "Error Responses" for
  more details.</p>
</li>
</ul>
                                
                                
                                

	<span class="parameters-title">Parameters</span>
	<dl>
		
			<dt>
				<span class="parameter-name">limit</span> <span class="parameter-attributes">(optional, number)</span>
			</dt>
			<dd>
				<p>Limit the number of types to be retrieved</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">offset</span> <span class="parameter-attributes">(optional, number)</span>
			</dt>
			<dd>
				<p>Skip a number of records</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">options</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Options dictionary</p>
				
					<p>Allowed values:</p>
					<dl>
						
							<dt>
								count 
							</dt>
							<dd>
								<p>when used, the total number of subscriptions is returned in the HTTP header            <code>Fiware-Total-Count</code></p>
							</dd>
						
					</dl>
				
			</dd>
		
	</dl>
			
                                
                                



      

                                

                                    
                                
                                <div>
                                    
    <div class="goApiary">
    
        
    
        
    
        
    
        
    
        
    
        
            
                
            
            

            
                
            
            
                <a target="_blank" href="http://docs.orioncontextbroker.apiary.io/#reference/subscriptions/subscription-list/retrieve-subscriptions">View in Apiary</a>
            
        
    
        
    
        
    
    </div>

                                
                                </div>
                                
                            </div>
                        </div>
                    
                        <div id="action_create-a-new-subscription" class="action POST">

                        
    <div class="header">
        
            <h4 id="h-action_create-a-new-subscription">Create a new subscription </h4>
            <span class="extra-header">
		POST 
                
                    /v2/subscriptions
                
            </span>
        

    </div>

        
                            <div id="create-a-new-subscription_body" class="">
                                <p>Creates a new subscription.
The subscription is represented by a JSON object as described at the beginning of this section.</p>
<p>Response:</p>
<ul>
<li>
<p>Successful operation uses 201 Created</p>
</li>
<li>
<p>Errors use a non-2xx and (optionally) an error payload. See subsection on "Error Responses" for
  more details.</p>
</li>
</ul>
                                
                                
                                
			
                                
                                



      

                                

                                    
                                        
                                        
                                        
                                
                                <div><div class="goExample">
                                        <a href="#action_create-a-new-subscription_examples">Go to example</a>
                                    </div>
                                    
    <div class="goApiary">
    
        
    
        
    
        
    
        
    
        
    
        
            
                
            
            

            
                
            
            
                <a target="_blank" href="http://docs.orioncontextbroker.apiary.io/#reference/subscriptions/subscription-list/create-a-new-subscription">View in Apiary</a>
            
        
    
        
    
        
    
    </div>

                                
                                </div>
                                
                            </div>
                        </div>
                    
            </section>
        
            <section id="resource_subscription-by-id" class="resource">
                 <div class= "header" >
                 
                    <h3 id="h-resource_subscription-by-id">Subscription By ID</h3>
                    <span class="extra-header">[/v2/subscriptions/{subscriptionId}]</span>
                 
                 </div>
                
                
                

		        
                
                






    


                


                    
                        <div id="action_retrieve-subscription" class="action GET">

                        
    <div class="header">
        
            <h4 id="h-action_retrieve-subscription">Retrieve subscription </h4>
            <span class="extra-header">
		GET 
                
                    /v2/subscriptions/{subscriptionId}
                
            </span>
        

    </div>

        
                            <div id="retrieve-subscription_body" class="">
                                <p>The response is the subscription represented by a JSON object as described at the beginning of this
section.</p>
<p>Response:</p>
<ul>
<li>
<p>Successful operation uses 200 OK</p>
</li>
<li>
<p>Errors use a non-2xx and (optionally) an error payload. See subsection on "Error Responses" for
  more details.</p>
</li>
</ul>
                                
                                
                                

	<span class="parameters-title">Parameters</span>
	<dl>
		
			<dt>
				<span class="parameter-name">subscriptionId</span> <span class="parameter-attributes">(required, string)</span>
			</dt>
			<dd>
				<p>subscription Id.</p>
				
			</dd>
		
	</dl>
			
                                
                                



      

                                

                                    
                                
                                <div>
                                    
    <div class="goApiary">
    
        
    
        
    
        
    
        
    
        
    
        
            
                
            
            

            
                
            
            
                <a target="_blank" href="http://docs.orioncontextbroker.apiary.io/#reference/subscriptions/subscription-by-id/retrieve-subscription">View in Apiary</a>
            
        
    
        
    
        
    
    </div>

                                
                                </div>
                                
                            </div>
                        </div>
                    
                        <div id="action_update-subscription" class="action PATCH">

                        
    <div class="header">
        
            <h4 id="h-action_update-subscription">Update subscription </h4>
            <span class="extra-header">
		PATCH 
                
                    /v2/subscriptions/{subscriptionId}
                
            </span>
        

    </div>

        
                            <div id="update-subscription_body" class="">
                                <p>Only the fields included in the request are updated in the subscription.</p>
<p>Response:</p>
<ul>
<li>
<p>Successful operation uses 204 No Content</p>
</li>
<li>
<p>Errors use a non-2xx and (optionally) an error payload. See subsection on "Error Responses" for
  more details.</p>
</li>
</ul>
                                
                                
                                

	<span class="parameters-title">Parameters</span>
	<dl>
		
			<dt>
				<span class="parameter-name">subscriptionId</span> <span class="parameter-attributes">(required, string)</span>
			</dt>
			<dd>
				<p>subscription Id.</p>
				
			</dd>
		
	</dl>
			
                                
                                



      

                                

                                    
                                        
                                        
                                        
                                
                                <div><div class="goExample">
                                        <a href="#action_update-subscription_examples">Go to example</a>
                                    </div>
                                    
    <div class="goApiary">
    
        
    
        
    
        
    
        
    
        
    
        
            
                
            
            

            
                
            
            
                <a target="_blank" href="http://docs.orioncontextbroker.apiary.io/#reference/subscriptions/subscription-by-id/update-subscription">View in Apiary</a>
            
        
    
        
    
        
    
    </div>

                                
                                </div>
                                
                            </div>
                        </div>
                    
                        <div id="action_delete-subscription" class="action DELETE">

                        
    <div class="header">
        
            <h4 id="h-action_delete-subscription">Delete subscription </h4>
            <span class="extra-header">
		DELETE 
                
                    /v2/subscriptions/{subscriptionId}
                
            </span>
        

    </div>

        
                            <div id="delete-subscription_body" class="">
                                <p>Cancels subscription.</p>
<p>Response:</p>
<ul>
<li>
<p>Successful operation uses 204 No Content</p>
</li>
<li>
<p>Errors use a non-2xx and (optionally) an error payload. See subsection on "Error Responses" for
  more details.</p>
</li>
</ul>
                                
                                
                                

	<span class="parameters-title">Parameters</span>
	<dl>
		
			<dt>
				<span class="parameter-name">subscriptionId</span> <span class="parameter-attributes">(required, string)</span>
			</dt>
			<dd>
				<p>subscription Id.</p>
				
			</dd>
		
	</dl>
			
                                
                                



      

                                

                                    
                                
                                <div>
                                    
    <div class="goApiary">
    
        
    
        
    
        
    
        
    
        
    
        
            
                
            
            

            
                
            
            
                <a target="_blank" href="http://docs.orioncontextbroker.apiary.io/#reference/subscriptions/subscription-by-id/delete-subscription">View in Apiary</a>
            
        
    
        
    
        
    
    </div>

                                
                                </div>
                                
                            </div>
                        </div>
                    
            </section>
        
    </section>

        
            <section id="resource_group_batch-operations" class="resourceGroup">
            <h2 id="h-resource_group_batch-operations">Batch Operations</h2>
        
	
        
            <section id="resource_update" class="resource">
                 <div class= "header" >
                 
                    <h3 id="h-resource_update">Update</h3>
                    <span class="extra-header">[/v2/op/update]</span>
                 
                 </div>
                
                
                

		        
                
                






    


                


                    
                        <div id="action_update" class="action POST">

                        
    <div class="header">
        
            <h4 id="h-action_update">Update </h4>
            <span class="extra-header">
		POST 
                
                    /v2/op/update
                
            </span>
        

    </div>

        
                            <div id="update_body" class="">
                                <p>This operation allows to create, update and/or delete several entities in a single batch operation.
The payload is an object with two properties:</p>
<ul>
<li>
<p><code>actionType</code>, to specify the kind of update action to do: either APPEND, APPEND_STRICT, UPDATE,
  DELETE.</p>
</li>
<li>
<p><code>entities</code>, an array of entities, each one specified using the JSON entity representation format
  (described in the section "JSON Entity Representation").</p>
</li>
</ul>
<p>Response:</p>
<ul>
<li>
<p>Successful operation uses 204 No Content.</p>
</li>
<li>
<p>Errors use a non-2xx and (optionally) an error payload. See subsection on "Error Responses" for
  more details.</p>
</li>
</ul>
                                
                                
                                

	<span class="parameters-title">Parameters</span>
	<dl>
		
			<dt>
				<span class="parameter-name">options</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Options dictionary</p>
				
					<p>Allowed values:</p>
					<dl>
						
							<dt>
								keyValues 
							</dt>
							<dd>
								<p>when used, the request payload uses the <code>keyValues</code>            simplified entity representation. See the "Simplified Entity Representation"
            section for details.</p>
							</dd>
						
					</dl>
				
			</dd>
		
	</dl>
			
                                
                                



      

                                

                                    
                                        
                                        
                                        
                                
                                <div><div class="goExample">
                                        <a href="#action_update_examples">Go to example</a>
                                    </div>
                                    
    <div class="goApiary">
    
        
    
        
    
        
    
        
    
        
    
        
            
                
            
            

            
                
            
            
                <a target="_blank" href="http://docs.orioncontextbroker.apiary.io/#reference/batch-operations/update/update">View in Apiary</a>
            
        
    
        
    
        
    
    </div>

                                
                                </div>
                                
                            </div>
                        </div>
                    
            </section>
        
            <section id="resource_query" class="resource">
                 <div class= "header" >
                 
                    <h3 id="h-resource_query">Query</h3>
                    <span class="extra-header">[/v2/op/query{?limit,offset,options}]</span>
                 
                 </div>
                
                
                

		        
                
                






    


                


                    
                        <div id="action_query" class="action POST">

                        
    <div class="header">
        
            <h4 id="h-action_query">Query </h4>
            <span class="extra-header">
		POST 
                
                    /v2/op/query{?limit,offset,options}
                
            </span>
        

    </div>

        
                            <div id="query_body" class="">
                                <p>The response payload is an Array containing one object per matching entity, or an empty array <code>[]</code> if 
no entities are found. The entities follow the JSON entity representation format
(described in the section "JSON Entity Representation").</p>
<p>The payload may contain the following elements (all of them optional):</p>
<ul>
<li>
<p><code>entities</code>: a list of entites to search for. Each entity is represented by a JSON object with the
  following elements:</p>
<ul>
<li><code>id</code> or <code>idPattern</code>: Id or pattern of the affected entities. Both cannot be present at the
  same time, but one of them must be.</li>
<li><code>type</code>: specifies the type of the entities to search for. If omitted, it means
  "any entity type".</li>
</ul>
</li>
<li>
<p><code>attributes</code>: a list of attribute names to search for. If omitted, it means "all attributes".</p>
</li>
</ul>
<p>Response code:</p>
<ul>
<li>
<p>Successful operation uses 200 OK</p>
</li>
<li>
<p>Errors use a non-2xx and (optionally) an error payload. See subsection on "Error Responses" for
  more details.</p>
</li>
</ul>
                                
                                
                                

	<span class="parameters-title">Parameters</span>
	<dl>
		
			<dt>
				<span class="parameter-name">limit</span> <span class="parameter-attributes">(optional, number)</span>
			</dt>
			<dd>
				<p>Limit the number of entities to be retrieved.</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">offset</span> <span class="parameter-attributes">(optional, number)</span>
			</dt>
			<dd>
				<p>Skip a number of records.</p>
				
			</dd>
		
			<dt>
				<span class="parameter-name">options</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Options dictionary</p>
				
					<p>Allowed values:</p>
					<dl>
						
							<dt>
								count 
							</dt>
							<dd>
								<p>the total number of entities is returned in the response as an          HTTP header named <code>Fiware-Total-Count</code>.</p>
							</dd>
						
							<dt>
								keyValues 
							</dt>
							<dd>
								<p>when used, the response payload uses the <code>keyValues</code> simplified entity            representation. See "Simplified Entity Representation" section for details.</p>
							</dd>
						
							<dt>
								values 
							</dt>
							<dd>
								<p>when used, the response payload uses the <code>values</code> simplified entity            representation. See "Simplified Entity Representation" section for details.</p>
							</dd>
						
							<dt>
								unique 
							</dt>
							<dd>
								<p>when used, the response payload uses the <code>values</code> simplified entity            representation. recurring values are left out.
            See "Simplified Entity Representation" section for details.</p>
							</dd>
						
					</dl>
				
			</dd>
		
			<dt>
				<span class="parameter-name">orderBy</span> <span class="parameter-attributes">(optional, string)</span>
			</dt>
			<dd>
				<p>Criteria for ordering results.
See "Ordering Results" section for details.</p>
				
			</dd>
		
	</dl>
			
                                
                                



      

                                

                                    
                                        
                                        
                                        
                                
                                <div><div class="goExample">
                                        <a href="#action_query_examples">Go to example</a>
                                    </div>
                                    
    <div class="goApiary">
    
        
    
        
    
        
    
        
    
        
    
        
            
                
            
            

            
                
            
            
                <a target="_blank" href="http://docs.orioncontextbroker.apiary.io/#reference/batch-operations/query/query">View in Apiary</a>
            
        
    
        
    
        
    
    </div>

                                
                                </div>
                                
                            </div>
                        </div>
                    
            </section>
        
    </section>


<section id="examples">
    <div class= "header" ><h2>Examples</h2> </div>
    

        
    

        
                
            

            <section id="resource_group_entities_example" class="resourceGroupExample">
                <div class= "header" ><h3 id="h-resource_group_entities_example">Entities</h3> </div>
                
                
                    
                
                    <section id="resource_create-entity_example" class="resourceExample">
                            <div class= "header" >
                            
                                <h4 id="h-resource_create-entity_example">Create entity</h4>
                                <span class="extra-header">[/v2/entities{?options}]</span>
                            
                            </div>

                            
                            

                            
                            
                            

                            

                            
                                <div id="action_create-entity_examples" class="actionExample POST">

                                    
    <div class="header">
        
            <h5 id="h-action_create-entity_examples">Create entity </h5>
            <span class="extra-header">
		POST 
                
                    /v2/entities{?options}
                
            </span>
        

    </div>

                                
                                        <div id="action_create-entity_body" class=""> 
                                            
                                            
                                            
                                                     
                                            
                                                
                                            

                                                
                                                    
                                                    
                                                    

                                                    
                                                        


<div class="rest-packet-div">
    
    <span class="packetType">Request  /v2/entities</span> 
        
            (application/json)
        
    
    
    
    
    
   



    <div id="action_create-entity_Request_1_body" class=" action-div-body">
        <p></p>

        
	         <div class= "header"><p>Headers</p></div>
            
            
                
            

	        <pre><code>Content-Type: application/json</code></pre>
        

        
            <div class= "header"><p>Body</p></div>
            <pre><code>{
  "type": "Room",
  "id": "Bcn-Welt",
  "temperature": {
    "value": 21.7
  },
  "humidity": {
    "value": 60
  },
  "location": {
    "value": "41.3763726, 2.1864475",
    "type": "geo:point",
    "metadata": {
      "crs": {
        "value": "WGS84"
      }
    }
  }
}
</code></pre>
        

        
    </div>   
</div>

                                                        
                                                            
                                                            
                                                            


<div class="rest-packet-div">
    
    <span class="packetType">Response 201</span> 
        
    
    
    
    
    
   



    <div id="action_create-entity_Response_1_body" class=" action-div-body">
        <p></p>

        
	         <div class= "header"><p>Headers</p></div>
            
            
                
            

	        <pre><code>Location: /v2/entities/Bcn-Welt?type=Room</code></pre>
        

        

        
    </div>   
</div>
                                                
                                            
                                            <div class="goActions">
                                                <a href="#action_create-entity">Go to specification</a>
                                            </div>
                                        </div>
                                    </div>
                        </section>
                    
                
                    <section id="resource_entity-by-id_example" class="resourceExample">
                            <div class= "header" >
                            
                                <h4 id="h-resource_entity-by-id_example">Entity by ID</h4>
                                <span class="extra-header">[/v2/entities/{entityId}{?attrs,options,type}]</span>
                            
                            </div>

                            
                            

                            
                            
                            

                            

                            
                                
                                
                                <div id="action_update-or-append-entity-attributes_examples" class="actionExample POST">

                                    
    <div class="header">
        
            <h5 id="h-action_update-or-append-entity-attributes_examples">Update or append entity attributes </h5>
            <span class="extra-header">
		POST 
                
                    /v2/entities/{entityId}/attrs{?options,type}
                
            </span>
        

    </div>

                                
                                        <div id="action_update-or-append-entity-attributes_body" class=""> 
                                            
                                            
                                            
                                                     
                                            
                                                
                                            

                                                
                                                    
                                                    
                                                    

                                                    
                                                        


<div class="rest-packet-div">
    
    <span class="packetType">Request  /v2/entities/{entityId}/attrs</span> 
        
            (application/json)
        
    
    
    
    
    
   



    <div id="action_update-or-append-entity-attributes_Request_1_body" class=" action-div-body">
        <p></p>

        
	         <div class= "header"><p>Headers</p></div>
            
            
                
            

	        <pre><code>Content-Type: application/json</code></pre>
        

        
            <div class= "header"><p>Body</p></div>
            <pre><code>{
  "ambientNoise": {
    "value": 31.5
  }
}
</code></pre>
        

        
    </div>   
</div>

                                                        
                                                            
                                                            
                                                            


<div class="rest-packet-div">
    
    <span class="packetType">Response 204</span> 
    
    
    
    
   



    <div id="action_update-or-append-entity-attributes_Response_1_body" class=" action-div-body">
        <p></p>

        

        

        
    </div>   
</div>
                                                
                                            
                                            <div class="goActions">
                                                <a href="#action_update-or-append-entity-attributes">Go to specification</a>
                                            </div>
                                        </div>
                                    </div>
                                <div id="action_update-existing-entity-attributes_examples" class="actionExample PATCH">

                                    
    <div class="header">
        
            <h5 id="h-action_update-existing-entity-attributes_examples">Update existing entity attributes </h5>
            <span class="extra-header">
		PATCH 
                
                    /v2/entities/{entityId}/attrs{?options,type}
                
            </span>
        

    </div>

                                
                                        <div id="action_update-existing-entity-attributes_body" class=""> 
                                            
                                            
                                            
                                                     
                                            
                                                
                                            

                                                
                                                    
                                                    
                                                    

                                                    
                                                        


<div class="rest-packet-div">
    
    <span class="packetType">Request  /v2/entities/{entityId}/attrs</span> 
        
            (application/json)
        
    
    
    
    
    
   



    <div id="action_update-existing-entity-attributes_Request_1_body" class=" action-div-body">
        <p></p>

        
	         <div class= "header"><p>Headers</p></div>
            
            
                
            

	        <pre><code>Content-Type: application/json</code></pre>
        

        
            <div class= "header"><p>Body</p></div>
            <pre><code>{
  "temperature": {
    "value": 25.5
  },
  "seatNumber": {
    "value": 6
  }
}
</code></pre>
        

        
    </div>   
</div>

                                                        
                                                            
                                                            
                                                            


<div class="rest-packet-div">
    
    <span class="packetType">Response 204</span> 
    
    
    
    
   



    <div id="action_update-existing-entity-attributes_Response_1_body" class=" action-div-body">
        <p></p>

        

        

        
    </div>   
</div>
                                                
                                            
                                            <div class="goActions">
                                                <a href="#action_update-existing-entity-attributes">Go to specification</a>
                                            </div>
                                        </div>
                                    </div>
                                <div id="action_replace-all-entity-attributes_examples" class="actionExample PUT">

                                    
    <div class="header">
        
            <h5 id="h-action_replace-all-entity-attributes_examples">Replace all entity attributes </h5>
            <span class="extra-header">
		PUT 
                
                    /v2/entities/{entityId}/attrs{?options,type}
                
            </span>
        

    </div>

                                
                                        <div id="action_replace-all-entity-attributes_body" class=""> 
                                            
                                            
                                            
                                                     
                                            
                                                
                                            

                                                
                                                    
                                                    
                                                    

                                                    
                                                        


<div class="rest-packet-div">
    
    <span class="packetType">Request  /v2/entities/{entityId}/attrs</span> 
        
            (application/json)
        
    
    
    
    
    
   



    <div id="action_replace-all-entity-attributes_Request_1_body" class=" action-div-body">
        <p></p>

        
	         <div class= "header"><p>Headers</p></div>
            
            
                
            

	        <pre><code>Content-Type: application/json</code></pre>
        

        
            <div class= "header"><p>Body</p></div>
            <pre><code>{
  "temperature": {
    "value": 25.5
  },
  "seatNumber": {
    "value": 6
  }
}
</code></pre>
        

        
    </div>   
</div>

                                                        
                                                            
                                                            
                                                            


<div class="rest-packet-div">
    
    <span class="packetType">Response 204</span> 
    
    
    
    
   



    <div id="action_replace-all-entity-attributes_Response_1_body" class=" action-div-body">
        <p></p>

        

        

        
    </div>   
</div>
                                                
                                            
                                            <div class="goActions">
                                                <a href="#action_replace-all-entity-attributes">Go to specification</a>
                                            </div>
                                        </div>
                                    </div>
                                
                        </section>
                    
                
            </section>
        
    

        
                
            

            <section id="resource_group_attributes_example" class="resourceGroupExample">
                <div class= "header" ><h3 id="h-resource_group_attributes_example">Attributes</h3> </div>
                
                
                    <section id="resource_attribute-by-entity-id_example" class="resourceExample">
                            <div class= "header" >
                            
                                <h4 id="h-resource_attribute-by-entity-id_example">Attribute by Entity ID</h4>
                                <span class="extra-header">[/v2/entities/{entityId}/attrs/{attrName}{?type}]</span>
                            
                            </div>

                            
                            

                            
                            
                            

                            

                            
                                
                                <div id="action_update-attribute-data_examples" class="actionExample PUT">

                                    
    <div class="header">
        
            <h5 id="h-action_update-attribute-data_examples">Update attribute data </h5>
            <span class="extra-header">
		PUT 
                
                    /v2/entities/{entityId}/attrs/{attrName}{?type}
                
            </span>
        

    </div>

                                
                                        <div id="action_update-attribute-data_body" class=""> 
                                            
                                            
                                            
                                                     
                                            
                                                
                                            

                                                
                                                    
                                                    
                                                    

                                                    
                                                        


<div class="rest-packet-div">
    
    <span class="packetType">Request  /v2/entities/Bcn_Welt/attrs/temperature</span> 
        
            (application/json)
        
    
    
    
    
    
   



    <div id="action_update-attribute-data_Request_1_body" class=" action-div-body">
        <p></p>

        
	         <div class= "header"><p>Headers</p></div>
            
            
                
            

	        <pre><code>Content-Type: application/json</code></pre>
        

        
            <div class= "header"><p>Body</p></div>
            <pre><code>{
  "value": 25.0,
  "metadata": {
    "unitCode": {
      "value": "CEL"
    }
  }
}
</code></pre>
        

        
    </div>   
</div>

                                                        
                                                            
                                                            
                                                            


<div class="rest-packet-div">
    
    <span class="packetType">Response 200</span> 
    
    
    
    
   



    <div id="action_update-attribute-data_Response_1_body" class=" action-div-body">
        <p></p>

        

        

        
    </div>   
</div>
                                                
                                            
                                            <div class="goActions">
                                                <a href="#action_update-attribute-data">Go to specification</a>
                                            </div>
                                        </div>
                                    </div>
                                
                        </section>
                    
                
            </section>
        
    

        
                
            

            <section id="resource_group_attribute-value_example" class="resourceGroupExample">
                <div class= "header" ><h3 id="h-resource_group_attribute-value_example">Attribute Value</h3> </div>
                
                
                    <section id="resource_by-entity-id_example" class="resourceExample">
                            <div class= "header" >
                            
                                <h4 id="h-resource_by-entity-id_example">By Entity ID</h4>
                                <span class="extra-header">[/v2/entities/{entityId}/attrs/{attrName}/value?{type}]</span>
                            
                            </div>

                            
                            

                            
                            
                            

                            

                            
                                
                                <div id="action_update-attribute-value_examples" class="actionExample PUT">

                                    
    <div class="header">
        
            <h5 id="h-action_update-attribute-value_examples">Update attribute value </h5>
            <span class="extra-header">
		PUT 
                
                    /v2/entities/{entityId}/attrs/{attrName}/value{?type}
                
            </span>
        

    </div>

                                
                                        <div id="action_update-attribute-value_body" class=""> 
                                            
                                            
                                            
                                                     
                                            
                                                
                                            

                                                
                                                    
                                                    
                                                    

                                                    
                                                        


<div class="rest-packet-div">
    
    <span class="packetType">Request  /v2/entities/Bcn_Welt/attrs/temperature/value</span> 
        
            (application/json)
        
    
    
    
    
    
   



    <div id="action_update-attribute-value_Request_1_body" class=" action-div-body">
        <p></p>

        
	         <div class= "header"><p>Headers</p></div>
            
            
                
            

	        <pre><code>Content-Type: application/json</code></pre>
        

        
            <div class= "header"><p>Body</p></div>
            <pre><code>{
  "address": "Ronda de la Comunicacion s/n",
  "zipCode": 28050,
  "city": "Madrid",
  "country": "Spain"
}
</code></pre>
        

        
    </div>   
</div>

                                                        
                                                            
                                                            
                                                            


<div class="rest-packet-div">
    
    <span class="packetType">Response 200</span> 
    
    
    
    
   



    <div id="action_update-attribute-value_Response_1_body" class=" action-div-body">
        <p></p>

        

        

        
    </div>   
</div>
                                                
                                            
                                            <div class="goActions">
                                                <a href="#action_update-attribute-value">Go to specification</a>
                                            </div>
                                        </div>
                                    </div>
                        </section>
                    
                
            </section>
        
    

        
    

        
                
            

            <section id="resource_group_subscriptions_example" class="resourceGroupExample">
                <div class= "header" ><h3 id="h-resource_group_subscriptions_example">Subscriptions</h3> </div>
                
                
                    <section id="resource_subscription-list_example" class="resourceExample">
                            <div class= "header" >
                            
                                <h4 id="h-resource_subscription-list_example">Subscription List</h4>
                                <span class="extra-header">[/v2/subscriptions]</span>
                            
                            </div>

                            
                            

                            
                            
                            

                            

                            
                                
                                <div id="action_create-a-new-subscription_examples" class="actionExample POST">

                                    
    <div class="header">
        
            <h5 id="h-action_create-a-new-subscription_examples">Create a new subscription </h5>
            <span class="extra-header">
		POST 
                
                    /v2/subscriptions
                
            </span>
        

    </div>

                                
                                        <div id="action_create-a-new-subscription_body" class=""> 
                                            
                                            
                                            
                                                     
                                            
                                                
                                            

                                                
                                                    
                                                    
                                                    

                                                    
                                                        


<div class="rest-packet-div">
    
    <span class="packetType">Request  /v2/subscriptions</span> 
        
            (application/json)
        
    
    
    
    
    
   



    <div id="action_create-a-new-subscription_Request_1_body" class=" action-div-body">
        <p></p>

        
	         <div class= "header"><p>Headers</p></div>
            
            
                
            

	        <pre><code>Content-Type: application/json</code></pre>
        

        
            <div class= "header"><p>Body</p></div>
            <pre><code>{
  "description": "One subscription to rule them all",
  "subject": {
    "entities": [
      {
        "idPattern": ".*",
        "type": "Room"
      }
    ],
    "condition": {
      "attrs": [ "temperature" ],
      "expression": {
        "q": "temperature>40"
      }
    }
  },
  "notification": {
    "http": {
      "url": "http://localhost:1234"
    },
    "attrs": ["temperature", "humidity"]
  },            
  "expires": "2016-04-05T14:00:00.00Z",
  "throttling": 5
}
</code></pre>
        

        
    </div>   
</div>

                                                        
                                                            
                                                            
                                                            


<div class="rest-packet-div">
    
    <span class="packetType">Response 201</span> 
        
    
    
    
    
    
   



    <div id="action_create-a-new-subscription_Response_1_body" class=" action-div-body">
        <p></p>

        
	         <div class= "header"><p>Headers</p></div>
            
            
                
            

	        <pre><code>Location: /v2/subscriptions/abcde98765</code></pre>
        

        

        
    </div>   
</div>
                                                
                                            
                                            <div class="goActions">
                                                <a href="#action_create-a-new-subscription">Go to specification</a>
                                            </div>
                                        </div>
                                    </div>
                        </section>
                    
                
                    <section id="resource_subscription-by-id_example" class="resourceExample">
                            <div class= "header" >
                            
                                <h4 id="h-resource_subscription-by-id_example">Subscription By ID</h4>
                                <span class="extra-header">[/v2/subscriptions/{subscriptionId}]</span>
                            
                            </div>

                            
                            

                            
                            
                            

                            

                            
                                
                                <div id="action_update-subscription_examples" class="actionExample PATCH">

                                    
    <div class="header">
        
            <h5 id="h-action_update-subscription_examples">Update subscription </h5>
            <span class="extra-header">
		PATCH 
                
                    /v2/subscriptions/{subscriptionId}
                
            </span>
        

    </div>

                                
                                        <div id="action_update-subscription_body" class=""> 
                                            
                                            
                                            
                                                     
                                            
                                                
                                            

                                                
                                                    
                                                    
                                                    

                                                    
                                                        


<div class="rest-packet-div">
    
    <span class="packetType">Request  /v2/subscriptions/abcdef</span> 
        
            (application/json)
        
    
    
    
    
    
   



    <div id="action_update-subscription_Request_1_body" class=" action-div-body">
        <p></p>

        
	         <div class= "header"><p>Headers</p></div>
            
            
                
            

	        <pre><code>Content-Type: application/json</code></pre>
        

        
            <div class= "header"><p>Body</p></div>
            <pre><code>{
  "expires": "2016-04-05T14:00:00.00Z"
}
</code></pre>
        

        
    </div>   
</div>

                                                        
                                                            
                                                            
                                                            


<div class="rest-packet-div">
    
    <span class="packetType">Response 204</span> 
    
    
    
    
   



    <div id="action_update-subscription_Response_1_body" class=" action-div-body">
        <p></p>

        

        

        
    </div>   
</div>
                                                
                                            
                                            <div class="goActions">
                                                <a href="#action_update-subscription">Go to specification</a>
                                            </div>
                                        </div>
                                    </div>
                                
                        </section>
                    
                
            </section>
        
    

        
                
            

            <section id="resource_group_batch-operations_example" class="resourceGroupExample">
                <div class= "header" ><h3 id="h-resource_group_batch-operations_example">Batch Operations</h3> </div>
                
                
                    <section id="resource_update_example" class="resourceExample">
                            <div class= "header" >
                            
                                <h4 id="h-resource_update_example">Update</h4>
                                <span class="extra-header">[/v2/op/update]</span>
                            
                            </div>

                            
                            

                            
                            
                            

                            

                            
                                <div id="action_update_examples" class="actionExample POST">

                                    
    <div class="header">
        
            <h5 id="h-action_update_examples">Update </h5>
            <span class="extra-header">
		POST 
                
                    /v2/op/update
                
            </span>
        

    </div>

                                
                                        <div id="action_update_body" class=""> 
                                            
                                            
                                            
                                                     
                                            
                                                
                                            

                                                
                                                    
                                                    
                                                    

                                                    
                                                        


<div class="rest-packet-div">
    
    <span class="packetType">Request  /v2/op/update</span> 
        
            (application/json)
        
    
    
    
    
    
   



    <div id="action_update_Request_1_body" class=" action-div-body">
        <p></p>

        
	         <div class= "header"><p>Headers</p></div>
            
            
                
            

	        <pre><code>Content-Type: application/json</code></pre>
        

        
            <div class= "header"><p>Body</p></div>
            <pre><code>{
  "actionType": "APPEND",
  "entities": [
    {
      "type": "Room",
      "id": "Bcn-Welt",
      "temperature": {
        "value": 21.7
       },
      "humidity": {
        "value": 60
      }
    },
    {
      "type": "Room",
      "id": "Mad_Aud",
      "temperature": {
        "value": 22.9
      },
      "humidity": {
        "value": 85
      }
    }
  ]
}
</code></pre>
        

        
    </div>   
</div>

                                                        
                                                            
                                                            
                                                            


<div class="rest-packet-div">
    
    <span class="packetType">Response 204</span> 
    
    
    
    
   



    <div id="action_update_Response_1_body" class=" action-div-body">
        <p></p>

        

        

        
    </div>   
</div>
                                                
                                            
                                            <div class="goActions">
                                                <a href="#action_update">Go to specification</a>
                                            </div>
                                        </div>
                                    </div>
                        </section>
                    
                
                    <section id="resource_query_example" class="resourceExample">
                            <div class= "header" >
                            
                                <h4 id="h-resource_query_example">Query</h4>
                                <span class="extra-header">[/v2/op/query{?limit,offset,options}]</span>
                            
                            </div>

                            
                            

                            
                            
                            

                            

                            
                                <div id="action_query_examples" class="actionExample POST">

                                    
    <div class="header">
        
            <h5 id="h-action_query_examples">Query </h5>
            <span class="extra-header">
		POST 
                
                    /v2/op/query{?limit,offset,options}
                
            </span>
        

    </div>

                                
                                        <div id="action_query_body" class=""> 
                                            
                                            
                                            
                                                     
                                            
                                                
                                            

                                                
                                                    
                                                    
                                                    

                                                    
                                                        


<div class="rest-packet-div">
    
    <span class="packetType">Request  /v2/op/query?limit=10&offset=20</span> 
        
            (application/json)
        
    
    
    
    
    
   



    <div id="action_query_Request_1_body" class=" action-div-body">
        <p></p>

        
	         <div class= "header"><p>Headers</p></div>
            
            
                
            

	        <pre><code>Content-Type: application/json</code></pre>
        

        
            <div class= "header"><p>Body</p></div>
            <pre><code>{
  "entities": [
    {
      "idPattern": ".*",
      "type": "myFooType"
    },
    {
      "id": "myBar",
      "type": "myBarType"
    }
  ],
  "attributes": [
    "temperature",
    "humidity"
  ]
}
</code></pre>
        

        
    </div>   
</div>

                                                        
                                                            
                                                            
                                                            


<div class="rest-packet-div">
    
    <span class="packetType">Response 200</span> 
        
            (application/json)
        
    
    
    
    
    
   



    <div id="action_query_Response_1_body" class=" action-div-body">
        <p></p>

        
	         <div class= "header"><p>Headers</p></div>
            
            
                
            

	        <pre><code>Content-Type: application/json</code></pre>
        

        
            <div class= "header"><p>Body</p></div>
            <pre><code>[
  {
    "type": "Room",
    "id": "DC_S1-D41",
    "temperature": {
      "value": 35.6,
      "type": "Number"
    }
  },
  {
    "type": "Room",
    "id": "Boe-Idearium",
    "temperature": {
      "value": 22.5,
      "type": "Number"
    }
  },
  {
    "type": "Car",
    "id": "P-9873-K",
    "speed": {
      "value": 100,
      "type": "number",
      "accuracy": 2,
      "timestamp": {
        "value": "2015-06-04T07:20:27.378Z",
        "type": "DateTime"
      }
    }
  }
]
</code></pre>
        

        
    </div>   
</div>
                                                
                                            
                                            <div class="goActions">
                                                <a href="#action_query">Go to specification</a>
                                            </div>
                                        </div>
                                    </div>
                        </section>
                    
                
            </section>
        
    
</section>

  </section>
  
   



	

	
	  	<section>
			<h1 id="acknowledgements"> Acknowledgements</h1>
<p>The editors would like to express their gratitude to the following people who actively
contributed to this specification:
Juan José Hierro (Telefónica I+D), Marcos Reyes (Telefónica I+D), Ken Zangelin (Telefónica I+D),
Iván Arias León (Telefónica I+D), Carlos Romero Brox (Telefónica I+D),
Antonio José López Navarro (Telefónica I+D),  Marc Capdevielle (Orange), Gilles Privat (Orange), 
Sergio García Gómez (Telefónica I+D), Martin Bauer (NEC).</p>


		</section>
	

	

	

	

	

	

	

    
    
    
      <section id="references">
      <h1>References</h1>
          <ul>
              
                  <li><a href="http://docs.orioncontextbroker.apiary.io/#reference">Apiary project</a></li>
              
                  <li><a href="http://github.com/telefonicaid/fiware-orion.git">Github source</a></li>
              
                  <li><a href="http://fiware.github.io/specifications/ngsiv2/latest">the following link</a></li>
              
                  <li><a href="https://forge.fiware.org/plugins/mediawiki/wiki/fiware/index.php/Implicit_Patents_License)">https://forge.fiware.org/plugins/mediawiki/wiki/fiware/index.php/Implicit_Patents_License)</a></li>
              
                  <li><a href="http://catalogue.fiware.org/enablers/publishsubscribe-context-broker-orion-context-broker">Orion Context Broker</a></li>
              
                  <li><a href="https://fiware-orion.readthedocs.io/en/develop/user/ngsiv2_implementation_notes/index.html">Implementation Notes</a></li>
              
                  <li><a href="https://tools.ietf.org/html/draft-butler-geojson-06">GeoJSON</a></li>
              
                  <li><a href="http://www.macwright.org/2015/03/23/geojson-second-bite.html#multi-geometries">multi geometries</a></li>
              
                  <li><a href="http://www.georss.org/simple.html">GeoRSS Simple</a></li>
              
                  <li><a href="https://en.wikipedia.org/wiki/World_Geodetic_System#WGS84">WGS84 Lat Long</a></li>
              
                  <li><a href="http://www.opengis.net/def/crs/EPSG/0/4326">EPSG::4326</a></li>
              
                  <li><a href="https://github.com/geojson/geojson-spec/wiki/Proposal---Circles-and-Ellipses-Geoms#discussion-notes">literature</a></li>
              
                  <li><a href="https://tools.ietf.org/html/draft-butler-geojson-06#page-14">GeoJSON IETF Spec</a></li>
              
                  <li><a href="http://www.macwright.org/2015/03/23/geojson-second-bite.html">GeoJSON Tutorial</a></li>
              
                  <li><a href="https://tools.ietf.org/html/rfc5988">Link</a></li>
              
          </ul>
      </section>
    
  </div>
</div>
</body>

</html>
