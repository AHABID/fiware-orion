==30504== Memcheck, a memory error detector
==30504== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
==30504== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright info
==30504== Command: contextBroker -vvvvv -harakiri -port 9999 -pidpath /tmp/orion_9999.pid -db testharness -t 0-255
==30504== 
==30504== Invalid read of size 4
==30504==    at 0x5DE5E9: paParse(PaArgument*, int, char**, int, bool, char const*) (paParse.cpp:317)
==30504==    by 0x4CCC0D: main (contextBroker.cpp:1200)
==30504==  Address 0x6f9c2bc is 12 bytes inside a block of size 14 alloc'd
==30504==    at 0x4C28BED: malloc (vg_replace_malloc.c:263)
==30504==    by 0x5861C41: strdup (strdup.c:43)
==30504==    by 0x5DE483: paParse(PaArgument*, int, char**, int, bool, char const*) (paParse.cpp:414)
==30504==    by 0x4CCC0D: main (contextBroker.cpp:1200)
==30504== 
T@08:17:24  paConfigActions[727]: setting trace levels to '0-255'
T@08:17:24  paConfigActions[728]: Leaving function paConfigActions
T@08:17:24  semInit[61]: Initialized 'req' semaphore
T@08:17:24  semInit[62]: Initialized 'mongo' semaphore
T@08:17:24  mongoSemTake[90]: mongoConnect taking the 'mongo' semaphore for 'connecting to mongo'
T@08:17:24  mongoSemTake[92]: mongoConnect has the 'mongo' semaphore
T@08:17:24  mongoConnect[152]: mongo version server: 2.4.9 (mayor: 2, minor: 4, extra: 9)
==30504== 
==30504== HEAP SUMMARY:
==30504==     in use at exit: 17,324 bytes in 100 blocks
==30504==   total heap usage: 4,624 allocs, 4,524 frees, 326,643 bytes allocated
==30504== 
T@08:17:24  mongoSemGive[118]: mongoConnect gives the 'mongo' semaphore for 'connecting to mongo'
F@08:17:24  ***[1063]: Connected to mongo at localhost:testharness
==30504== LEAK SUMMARY:
==30504==    definitely lost: 0 bytes in 0 blocks
==30504==    indirectly lost: 0 bytes in 0 blocks
==30504==      possibly lost: 28 bytes in 1 blocks
==30504==    still reachable: 17,296 bytes in 99 blocks
==30504==         suppressed: 0 bytes in 0 blocks
==30504== Rerun with --leak-check=full to see details of leaked memory
==30504== 
==30504== For counts of detected and suppressed errors, rerun with: -v
==30504== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 7 from 7)
T@08:17:24  ensureLocationIndex[381]: ensuring 2dsphere index on location.coords (tenant )
T@08:17:24  recoverOntimeIntervalThreads[398]: query() in 'testharness.csubs' collection: '{ conditions.type: "ONTIMEINTERVAL" }'
T@08:17:24  mongoSemTake[90]: recoverOntimeIntervalThreads taking the 'mongo' semaphore for 'query in SubscribeContextCollection'
T@08:17:24  mongoSemTake[92]: recoverOntimeIntervalThreads has the 'mongo' semaphore
T@08:17:24  mongoSemGive[118]: recoverOntimeIntervalThreads gives the 'mongo' semaphore for 'query in SubscribeContextCollection'
==30508== Source and destination overlap in strncpy(0x8d3ca7, 0x8d3ca7, 63)
==30508==    at 0x4C29782: strncpy (mc_replace_strmem.c:463)
==30508==    by 0x55D0E0: restInit(RestService*, IpVersion, char const*, unsigned short, std::string const&, std::string const&, unsigned short, char const*, char const*, void (*)(ConnectionInfo*), bool) (rest.cpp:676)
==30508==    by 0x4CD74D: main (contextBroker.cpp:1271)
==30508== 
==30508== Source and destination overlap in strncpy(0x8d3ce2, 0x8d3ce2, 63)
==30508==    at 0x4C29782: strncpy (mc_replace_strmem.c:463)
==30508==    by 0x55D0F9: restInit(RestService*, IpVersion, char const*, unsigned short, std::string const&, std::string const&, unsigned short, char const*, char const*, void (*)(ConnectionInfo*), bool) (rest.cpp:679)
==30508==    by 0x4CD74D: main (contextBroker.cpp:1271)
==30508== 
V@08:17:24  restStart[569]: Starting HTTP daemon on IPv4 0.0.0.0 port 9999
V@08:17:24  restStart[611]: Starting HTTP daemon on IPv6 :: port 9999
==30508== Thread 4:
==30508== Syscall param mmap(length) contains uninitialised byte(s)
==30508==    at 0x58B9AFA: mmap (syscall-template.S:82)
==30508==    by 0x4E398E7: MHD_pool_create (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E35F47: MHD_connection_get_pollfd (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E35FFB: MHD_connection_get_fdset (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E373B0: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Conditional jump or move depends on uninitialised value(s)
==30508==    at 0x4E39A1F: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E334BF: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E35F20: MHD_connection_get_pollfd (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E35FFB: MHD_connection_get_fdset (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E373B0: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Conditional jump or move depends on uninitialised value(s)
==30508==    at 0x4E39A24: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E334BF: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E35F20: MHD_connection_get_pollfd (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E35FFB: MHD_connection_get_fdset (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E373B0: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Conditional jump or move depends on uninitialised value(s)
==30508==    at 0x4E39A52: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E334BF: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E35F20: MHD_connection_get_pollfd (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E35FFB: MHD_connection_get_fdset (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E373B0: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Conditional jump or move depends on uninitialised value(s)
==30508==    at 0x4E399BC: MHD_pool_allocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E33C62: MHD_set_connection_value (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E34033: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E3426D: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E34783: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
T@08:17:32  connectionTreat[438]: notifyFormat: ''
T@08:17:32  httpHeaderGet[137]: HTTP Header:   User-Agent: curl/7.26.0
T@08:17:32  httpHeaderGet[137]: HTTP Header:   Host: localhost:9999
T@08:17:32  httpHeaderGet[137]: HTTP Header:   Content-Type: application/json
T@08:17:32  httpHeaderGet[137]: HTTP Header:   Accept: application/json
T@08:17:32  httpHeaderGet[137]: HTTP Header:   Content-Length: 790
T@08:17:32  connectionTreat[442]: HTTP tenant: ''
T@08:17:32  connectionTreat[470]: 'default' value for notifyFormat (ciP->outFormat == 2)): 'JSON'
T@08:17:32  restService[179]: Parsing payload for URL '/NGSI10/notifyContext', method 'POST', service vector index: 22
T@08:17:32  payloadParse[53]: parsing data for service 'NotifyContextRequest'. Method: 'POST'
T@08:17:32  payloadParse[54]: outFormat: JSON
2@08:17:32  jsonRequestGet[121]: Found jsonRequest of type 16, method 'POST' - index 9 (/subscriptionId)
T@08:17:32  jsonTreat[140]: Treating a JSON request: '{ "subscriptionId": "012345678901234567890123", "originator": "http://localhost/test", "contextResponses": [ { "contextElement": { "type": "Room", "isPattern": "false", "id": "ConferenceRoom", "attributeDomainName" : "ADN", "attributes": [ { "name": "temperature", "type": "Room", "value": "10", "metadatas": [ { "name": "ID", "type": "string", "value": "1110" }, { "name": "id", "type": "integer", "value": "12" } ] }, { "name": "temperature", "type": "Room", "value": "10", "metadatas": [ { "name": "ID", "type": "string", "value": "1110" }, { "name": "id", "type": "integer", "value": "55" } ] } ], "metadatas": [ { "name": "m1", "type": "t1", "value": "v1" }, { "name": "m2", "type": "t2", "value": "v2" } ] }, "statusCode": { "code": "200", "reasonPhrase": "Ok", "details": "a" } } ] }'
T@08:17:32  jsonTreat[155]: Treating 'notifyContextRequest' request
T@08:17:32  treat[107]: Treating path '/subscriptionId', value '012345678901234567890123'
T@08:17:32  treat[113]: calling treat function for '/subscriptionId': '012345678901234567890123'
T@08:17:32  subscriptionId[50]: Got a subscriptionId: '012345678901234567890123'
T@08:17:32  treat[115]: called treat function for '/subscriptionId'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/originator', value 'http://localhost/test'
T@08:17:32  treat[113]: calling treat function for '/originator': 'http://localhost/test'
T@08:17:32  originator[63]: Got an originator: 'http://localhost/test'
T@08:17:32  treat[115]: called treat function for '/originator'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses', value ''
T@08:17:32  treat[113]: calling treat function for '/contextResponses': ''
T@08:17:32  jsonNullTreat[41]: Not treating JSON node '/contextResponses'
T@08:17:32  treat[115]: called treat function for '/contextResponses'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse', value ''
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse': ''
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement', value ''
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement': ''
T@08:17:32  jsonNullTreat[41]: Not treating JSON node '/contextResponses/contextResponse/contextElement'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/type', value 'Room'
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/type': 'Room'
T@08:17:32  entityIdType[104]: Set 'type' to 'Room' for an entity
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/type'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/isPattern', value 'false'
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/isPattern': 'false'
T@08:17:32  entityIdIsPattern[117]: Got an entityId:isPattern: 'false'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/isPattern'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/id', value 'ConferenceRoom'
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/id': 'ConferenceRoom'
T@08:17:32  entityIdId[90]: Set 'id' to 'ConferenceRoom' for an entity
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/id'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributeDomainName', value 'ADN'
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributeDomainName': 'ADN'
T@08:17:32  attributeDomainName[135]: Got an attributeDomainName: 'ADN'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributeDomainName'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes', value ''
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes': ''
T@08:17:32  jsonNullTreat[41]: Not treating JSON node '/contextResponses/contextResponse/contextElement/attributes'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute', value ''
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute': ''
T@08:17:32  attribute[148]: Creating an attribute
T@08:17:32  ContextAttribute[42]: Creating a ContextAttribute 1
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute/name', value 'temperature'
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/name': 'temperature'
T@08:17:32  attributeName[162]: Got an attribute name: 'temperature'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/name'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute/type', value 'Room'
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/type': 'Room'
T@08:17:32  attributeType[175]: Got an attribute type: 'Room'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/type'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute/value', value '10'
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/value': '10'
T@08:17:32  attributeValue[188]: Got an attribute value: '10'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/value'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas', value ''
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas': ''
T@08:17:32  jsonNullTreat[41]: Not treating JSON node '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata', value ''
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata': ''
T@08:17:32  attributeMetadata[241]: Creating an attributeMetadata
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/name', value 'ID'
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/name': 'ID'
T@08:17:32  attributeMetadataName[255]: Got an attributeMetadata name: 'ID'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/name'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/type', value 'string'
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/type': 'string'
T@08:17:32  attributeMetadataType[268]: Got an attributeMetadata type: 'string'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/type'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/value', value '1110'
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/value': '1110'
T@08:17:32  attributeMetadataValue[281]: Got an attributeMetadata value: '1110'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/value'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata', value ''
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata': ''
T@08:17:32  attributeMetadata[241]: Creating an attributeMetadata
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/name', value 'id'
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/name': 'id'
T@08:17:32  attributeMetadataName[255]: Got an attributeMetadata name: 'id'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/name'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/type', value 'integer'
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/type': 'integer'
T@08:17:32  attributeMetadataType[268]: Got an attributeMetadata type: 'integer'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/type'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/value', value '12'
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/value': '12'
T@08:17:32  attributeMetadataValue[281]: Got an attributeMetadata value: '12'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/value'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute', value ''
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute': ''
T@08:17:32  attribute[148]: Creating an attribute
T@08:17:32  ContextAttribute[42]: Creating a ContextAttribute 1
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute/name', value 'temperature'
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/name': 'temperature'
T@08:17:32  attributeName[162]: Got an attribute name: 'temperature'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/name'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute/type', value 'Room'
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/type': 'Room'
T@08:17:32  attributeType[175]: Got an attribute type: 'Room'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/type'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute/value', value '10'
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/value': '10'
T@08:17:32  attributeValue[188]: Got an attribute value: '10'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/value'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas', value ''
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas': ''
T@08:17:32  jsonNullTreat[41]: Not treating JSON node '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata', value ''
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata': ''
T@08:17:32  attributeMetadata[241]: Creating an attributeMetadata
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/name', value 'ID'
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/name': 'ID'
T@08:17:32  attributeMetadataName[255]: Got an attributeMetadata name: 'ID'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/name'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/type', value 'string'
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/type': 'string'
T@08:17:32  attributeMetadataType[268]: Got an attributeMetadata type: 'string'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/type'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/value', value '1110'
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/value': '1110'
T@08:17:32  attributeMetadataValue[281]: Got an attributeMetadata value: '1110'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/value'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata', value ''
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata': ''
T@08:17:32  attributeMetadata[241]: Creating an attributeMetadata
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/name', value 'id'
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/name': 'id'
T@08:17:32  attributeMetadataName[255]: Got an attributeMetadata name: 'id'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/name'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/type', value 'integer'
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/type': 'integer'
T@08:17:32  attributeMetadataType[268]: Got an attributeMetadata type: 'integer'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/type'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/value', value '55'
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/value': '55'
T@08:17:32  attributeMetadataValue[281]: Got an attributeMetadata value: '55'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/attributes/attribute/metadatas/metadata/value'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/metadatas', value ''
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/metadatas': ''
T@08:17:32  jsonNullTreat[41]: Not treating JSON node '/contextResponses/contextResponse/contextElement/metadatas'
T@08:17:32  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/metadatas'. result: 'OK'
T@08:17:32  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/metadatas/metadata', value ''
T@08:17:32  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/metadatas/metadata': ''
T@08:17:33  domainMetadata[294]: Creating a domainMetadata
T@08:17:33  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/metadatas/metadata'. result: 'OK'
T@08:17:33  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/metadatas/metadata/name', value 'm1'
T@08:17:33  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/metadatas/metadata/name': 'm1'
T@08:17:33  domainMetadataName[308]: Got a domainMetadata name: 'm1'
T@08:17:33  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/metadatas/metadata/name'. result: 'OK'
T@08:17:33  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/metadatas/metadata/type', value 't1'
T@08:17:33  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/metadatas/metadata/type': 't1'
T@08:17:33  domainMetadataType[321]: Got a domainMetadata type: 't1'
T@08:17:33  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/metadatas/metadata/type'. result: 'OK'
T@08:17:33  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/metadatas/metadata/value', value 'v1'
T@08:17:33  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/metadatas/metadata/value': 'v1'
T@08:17:33  domainMetadataValue[334]: Got a domainMetadata value: 'v1'
T@08:17:33  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/metadatas/metadata/value'. result: 'OK'
T@08:17:33  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/metadatas/metadata', value ''
T@08:17:33  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/metadatas/metadata': ''
T@08:17:33  domainMetadata[294]: Creating a domainMetadata
T@08:17:33  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/metadatas/metadata'. result: 'OK'
T@08:17:33  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/metadatas/metadata/name', value 'm2'
T@08:17:33  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/metadatas/metadata/name': 'm2'
T@08:17:33  domainMetadataName[308]: Got a domainMetadata name: 'm2'
T@08:17:33  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/metadatas/metadata/name'. result: 'OK'
T@08:17:33  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/metadatas/metadata/type', value 't2'
T@08:17:33  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/metadatas/metadata/type': 't2'
T@08:17:33  domainMetadataType[321]: Got a domainMetadata type: 't2'
T@08:17:33  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/metadatas/metadata/type'. result: 'OK'
T@08:17:33  treat[107]: Treating path '/contextResponses/contextResponse/contextElement/metadatas/metadata/value', value 'v2'
T@08:17:33  treat[113]: calling treat function for '/contextResponses/contextResponse/contextElement/metadatas/metadata/value': 'v2'
T@08:17:33  domainMetadataValue[334]: Got a domainMetadata value: 'v2'
T@08:17:33  treat[115]: called treat function for '/contextResponses/contextResponse/contextElement/metadatas/metadata/value'. result: 'OK'
T@08:17:33  treat[107]: Treating path '/contextResponses/contextResponse/statusCode', value ''
T@08:17:33  treat[113]: calling treat function for '/contextResponses/contextResponse/statusCode': ''
T@08:17:33  jsonNullTreat[41]: Not treating JSON node '/contextResponses/contextResponse/statusCode'
T@08:17:33  treat[115]: called treat function for '/contextResponses/contextResponse/statusCode'. result: 'OK'
T@08:17:33  treat[107]: Treating path '/contextResponses/contextResponse/statusCode/code', value '200'
T@08:17:33  treat[113]: calling treat function for '/contextResponses/contextResponse/statusCode/code': '200'
T@08:17:33  statusCodeCode[201]: Got a statusCode code: '200'
T@08:17:33  statusCodeCode[203]: Got a statusCode code: 200
T@08:17:33  treat[115]: called treat function for '/contextResponses/contextResponse/statusCode/code'. result: 'OK'
T@08:17:33  treat[107]: Treating path '/contextResponses/contextResponse/statusCode/reasonPhrase', value 'Ok'
T@08:17:33  treat[113]: calling treat function for '/contextResponses/contextResponse/statusCode/reasonPhrase': 'Ok'
T@08:17:33  statusCodeReasonPhrase[215]: Got a statusCode reasonPhrase: 'Ok'
T@08:17:33  treat[115]: called treat function for '/contextResponses/contextResponse/statusCode/reasonPhrase'. result: 'OK'
T@08:17:33  treat[107]: Treating path '/contextResponses/contextResponse/statusCode/details', value 'a'
T@08:17:33  treat[113]: calling treat function for '/contextResponses/contextResponse/statusCode/details': 'a'
T@08:17:33  statusCodeDetails[228]: Got a statusCode details: 'a'
T@08:17:33  treat[115]: called treat function for '/contextResponses/contextResponse/statusCode/details'. result: 'OK'
T@08:17:33  jsonTreat[192]: Calling check for JSON parsed tree (notifyContextRequest)
T@08:17:33  payloadParse[69]: result: 'OK'
T@08:17:33  payloadParse[70]: outFormat: JSON
T@08:17:33  restService[182]: payloadParse returns 'OK'
T@08:17:33  restService[197]: Treating service POST /NGSI10/notifyContext
T@08:17:33  restService[237]: tenant: ''
T@08:17:33  reqSemTake[75]: mongoNotifyContext taking the 'req' semaphore for 'ngsi10 notification'
T@08:17:33  reqSemTake[77]: mongoNotifyContext has the 'req' semaphore
T@08:17:33  processContextElement[1397]: query() in 'testharness.entities' collection: '{ _id.id: "ConferenceRoom", _id.type: "Room" }'
T@08:17:33  mongoSemTake[90]: processContextElement taking the 'mongo' semaphore for 'query in EntitiesCollection'
T@08:17:33  mongoSemTake[92]: processContextElement has the 'mongo' semaphore
T@08:17:33  mongoSemGive[118]: processContextElement gives the 'mongo' semaphore for 'query in EntitiesCollection'
T@08:17:33  ContextAttribute[86]: Creating a ContextAttribute 'temperature':'Room':'', setting its compound to NULL
T@08:17:33  ContextAttribute[86]: Creating a ContextAttribute 'temperature':'Room':'', setting its compound to NULL
T@08:17:33  createEntity[1201]: Entity not found in 'testharness.entities' collection, creating it
T@08:17:33  ensureLocationIndex[381]: ensuring 2dsphere index on location.coords (tenant )
T@08:17:33  createEntity[1246]: new attribute: {name: temperature, type: Room, value: 10, id: 1110}
T@08:17:33  contextAttributeCustomMetadataToBson[526]: new custom metadata: {name: id, type: integer, value: 12}
T@08:17:33  createEntity[1246]: new attribute: {name: temperature, type: Room, value: 10, id: 1110}
T@08:17:33  contextAttributeCustomMetadataToBson[526]: new custom metadata: {name: id, type: integer, value: 55}
T@08:17:33  createEntity[1273]: insert() in 'testharness.entities' collection: '{ _id: { id: "ConferenceRoom", type: "Room" }, attrs: [ { name: "temperature", type: "Room", creDate: 1401697053, modDate: 1401697053, value: "10", id: "1110", md: [ { name: "id", type: "integer", value: "12" } ] }, { name: "temperature", type: "Room", creDate: 1401697053, modDate: 1401697053, value: "10", id: "1110", md: [ { name: "id", type: "integer", value: "55" } ] } ], creDate: 1401697053, modDate: 1401697053 }'
T@08:17:33  mongoSemTake[90]: createEntity taking the 'mongo' semaphore for 'insert into EntitiesCollection'
T@08:17:33  mongoSemTake[92]: createEntity has the 'mongo' semaphore
T@08:17:33  mongoSemGive[118]: createEntity gives the 'mongo' semaphore for 'insert into EntitiesCollection'
T@08:17:33  addTriggeredSubscriptions[772]: JS function: function(){for (var i=0; i < this.entities.length; i++) {if (this.entities[i].isPattern == "true" && (this.entities[i].type == "Room" || this.entities[i].type == "" || !("type" in this.entities[i])) && "ConferenceRoom".match(this.entities[i].id)) {return true; }}return false; }
T@08:17:33  addTriggeredSubscriptions[787]: query() in 'testharness.csubs' collection: '{ $or: [ { entities.id: "ConferenceRoom", $or: [ { entities.type: "Room" }, { entities.type: { $exists: false } } ], entities.isPattern: "false", conditions.type: "ONCHANGE", conditions.value: "temperature", expiration: { $gt: 1401697053 } }, { entities.isPattern: "true", conditions.type: "ONCHANGE", conditions.value: "temperature", expiration: { $gt: 1401697053 }, $where: function(){for (var i=0; i < this.entities.length; i++) {if (this.enti... } ] }'
T@08:17:33  mongoSemTake[90]: addTriggeredSubscriptions taking the 'mongo' semaphore for 'query in SubscribeContextCollection'
T@08:17:33  mongoSemTake[92]: addTriggeredSubscriptions has the 'mongo' semaphore
T@08:17:33  mongoSemGive[118]: addTriggeredSubscriptions gives the 'mongo' semaphore for 'query in SubscribeContextCollection'
T@08:17:33  addTriggeredSubscriptions[772]: JS function: function(){for (var i=0; i < this.entities.length; i++) {if (this.entities[i].isPattern == "true" && (this.entities[i].type == "Room" || this.entities[i].type == "" || !("type" in this.entities[i])) && "ConferenceRoom".match(this.entities[i].id)) {return true; }}return false; }
T@08:17:33  addTriggeredSubscriptions[787]: query() in 'testharness.csubs' collection: '{ $or: [ { entities.id: "ConferenceRoom", $or: [ { entities.type: "Room" }, { entities.type: { $exists: false } } ], entities.isPattern: "false", conditions.type: "ONCHANGE", conditions.value: "temperature", expiration: { $gt: 1401697053 } }, { entities.isPattern: "true", conditions.type: "ONCHANGE", conditions.value: "temperature", expiration: { $gt: 1401697053 }, $where: function(){for (var i=0; i < this.entities.length; i++) {if (this.enti... } ] }'
T@08:17:33  mongoSemTake[90]: addTriggeredSubscriptions taking the 'mongo' semaphore for 'query in SubscribeContextCollection'
T@08:17:33  mongoSemTake[92]: addTriggeredSubscriptions has the 'mongo' semaphore
T@08:17:33  mongoSemGive[118]: addTriggeredSubscriptions gives the 'mongo' semaphore for 'query in SubscribeContextCollection'
T@08:17:33  release[153]: Releasing Metadata 0
T@08:17:33  release[153]: Releasing Metadata 1
T@08:17:33  release[153]: Releasing Metadata 0
T@08:17:33  release[153]: Releasing Metadata 1
T@08:17:33  ~UpdateContextResponse[58]: destroyed
T@08:17:33  reqSemGive[104]: mongoNotifyContext gives the 'req' semaphore for 'ngsi10 notification'
T@08:17:33  release[153]: Releasing Metadata 0
T@08:17:33  release[153]: Releasing Metadata 1
T@08:17:33  release[153]: Releasing Metadata 0
T@08:17:33  release[153]: Releasing Metadata 1
T@08:17:33  release[153]: Releasing Metadata 0
T@08:17:33  release[153]: Releasing Metadata 1
T@08:17:33  restReply[65]: Response 1: responding with 75 bytes, Status Code 200
T@08:17:33  restReply[66]: Response payload: '{
  "responseCode" : {
    "code" : "200",
    "reasonPhrase" : "OK"
  }
}
'
T@08:17:33  ~RegisterContextResponse[56]: destroyed
==30508== Conditional jump or move depends on uninitialised value(s)
==30508==    at 0x4E399BC: MHD_pool_allocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E335B6: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Conditional jump or move depends on uninitialised value(s)
==30508==    at 0x4E335BD: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Conditional jump or move depends on uninitialised value(s)
==30508==    at 0x4C2A639: memcpy (mc_replace_strmem.c:121)
==30508==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Conditional jump or move depends on uninitialised value(s)
==30508==    at 0x4C2A64E: memcpy (mc_replace_strmem.c:838)
==30508==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Conditional jump or move depends on uninitialised value(s)
==30508==    at 0x4C2A69B: memcpy (mc_replace_strmem.c:838)
==30508==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Conditional jump or move depends on uninitialised value(s)
==30508==    at 0x4C2A790: memcpy (mc_replace_strmem.c:838)
==30508==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Use of uninitialised value of size 8
==30508==    at 0x4C2A7C8: memcpy (mc_replace_strmem.c:838)
==30508==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Use of uninitialised value of size 8
==30508==    at 0x4C2A7ED: memcpy (mc_replace_strmem.c:838)
==30508==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Use of uninitialised value of size 8
==30508==    at 0x58CFC9C: __vsprintf_chk (vsprintf_chk.c:79)
==30508==    by 0x58CFC0E: __sprintf_chk (sprintf_chk.c:33)
==30508==    by 0x4E33622: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Use of uninitialised value of size 8
==30508==    at 0x4C2953C: strcpy (mc_replace_strmem.c:429)
==30508==    by 0x4E33913: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Conditional jump or move depends on uninitialised value(s)
==30508==    at 0x4C29569: strcpy (mc_replace_strmem.c:112)
==30508==    by 0x4E33913: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Conditional jump or move depends on uninitialised value(s)
==30508==    at 0x4C2956E: strcpy (mc_replace_strmem.c:121)
==30508==    by 0x4E33913: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Conditional jump or move depends on uninitialised value(s)
==30508==    at 0x4C2957F: strcpy (mc_replace_strmem.c:429)
==30508==    by 0x4E33913: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Use of uninitialised value of size 8
==30508==    at 0x4E3363E: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Syscall param sendto(msg) contains uninitialised byte(s)
==30508==    at 0x58BE0AC: send (send.c:32)
==30508==    by 0x4E36D69: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E35963: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E35A87: MHD_connection_handle_write (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37638: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Conditional jump or move depends on uninitialised value(s)
==30508==    at 0x4E39A1F: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E33BA1: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E35A9D: MHD_connection_handle_write (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37638: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Conditional jump or move depends on uninitialised value(s)
==30508==    at 0x4E39A24: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E33BA1: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E35A9D: MHD_connection_handle_write (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37638: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Conditional jump or move depends on uninitialised value(s)
==30508==    at 0x4E39A40: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E33BA1: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E35A9D: MHD_connection_handle_write (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37638: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Conditional jump or move depends on uninitialised value(s)
==30508==    at 0x4E39A1F: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E334BF: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E35D17: MHD_connection_handle_read (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37648: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Conditional jump or move depends on uninitialised value(s)
==30508==    at 0x4E39A24: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E334BF: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E35D17: MHD_connection_handle_read (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37648: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Conditional jump or move depends on uninitialised value(s)
==30508==    at 0x4E39A52: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E334BF: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E35D17: MHD_connection_handle_read (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37648: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Thread 3:
==30508== Syscall param munmap(length) contains uninitialised byte(s)
==30508==    at 0x58B9B27: munmap (syscall-template.S:82)
==30508==    by 0x4E3996B: MHD_pool_destroy (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37030: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E3881C: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
T@08:17:33  connectionTreat[438]: notifyFormat: ''
T@08:17:33  httpHeaderGet[137]: HTTP Header:   User-Agent: curl/7.26.0
T@08:17:33  httpHeaderGet[137]: HTTP Header:   Host: localhost:9999
T@08:17:33  httpHeaderGet[137]: HTTP Header:   Accept: */*
T@08:17:33  connectionTreat[442]: HTTP tenant: ''
T@08:17:33  connectionTreat[470]: 'default' value for notifyFormat (ciP->outFormat == 1)): 'XML'
T@08:17:33  restService[197]: Treating service * /exit/harakiri
T@08:17:33  restService[203]: URL tenant: 'exit'
T@08:17:33  restService[237]: tenant: ''
E@08:17:33  restErrorReplyGet[227]: Unknown tag: 'UnknownTag', request == ''
T@08:17:33  restReply[65]: Response 2: responding with 145 bytes, Status Code 200
T@08:17:33  restReply[66]: Response payload: '<orionError>
  <code>400</code>
  <reasonPhrase>Bad Request</reasonPhrase>
  <details>service '/exit/harakiri' not found</details>
</orionError>
'
T@08:17:33  ~RegisterContextResponse[56]: destroyed
==30508== Thread 4:
==30508== Conditional jump or move depends on uninitialised value(s)
==30508==    at 0x4C2A63F: memcpy (mc_replace_strmem.c:124)
==30508==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Use of uninitialised value of size 8
==30508==    at 0x4C2A6FB: memcpy (mc_replace_strmem.c:838)
==30508==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Use of uninitialised value of size 8
==30508==    at 0x4C2A763: memcpy (mc_replace_strmem.c:838)
==30508==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
==30508== Conditional jump or move depends on uninitialised value(s)
==30508==    at 0x4C29570: strcpy (mc_replace_strmem.c:124)
==30508==    by 0x4E33913: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30508==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30508==    by 0x58BD0EC: clone (clone.S:112)
==30508== 
F@08:17:43  ***[981]: In sigHandler - caught signal 15
X@08:17:43  sigHandler[987]: Received signal 15
==30508== 
==30508== Process terminating with default action of signal 11 (SIGSEGV)
==30508==  General Protection Fault
==30508==    at 0x404DB43: boost::detail::set_tss_data(void const*, boost::shared_ptr<boost::detail::tss_cleanup_function>, void*, bool) (in /usr/lib/libboost_thread.so.1.49.0)
==30508==    by 0x5718F8: boost::thread_specific_ptr<boost::weak_ptr<boost::spirit::classic::impl::grammar_helper<boost::spirit::classic::grammar<boost::property_tree::json_parser::json_grammar<boost::property_tree::basic_ptree<std::string, std::string, std::less<std::string> > >, boost::spirit::classic::parser_context<boost::spirit::classic::nil_t> >, boost::property_tree::json_parser::json_grammar<boost::property_tree::basic_ptree<std::string, std::string, std::less<std::string> > >, boost::spirit::classic::scanner<__gnu_cxx::__normal_iterator<char*, std::vector<char, std::allocator<char> > >, boost::spirit::classic::scanner_policies<boost::spirit::classic::skip_parser_iteration_policy<boost::spirit::classic::alternative<boost::spirit::classic::alternative<boost::spirit::classic::space_parser, boost::spirit::classic::confix_parser<boost::spirit::classic::strlit<char const*>, boost::spirit::classic::kleene_star<boost::spirit::classic::anychar_parser>, boost::spirit::classic::alternative<boost::spirit::classic::eol_parser, boost::spirit::classic::end_parser>, boost::spirit::classic::unary_parser_category, boost::spirit::classic::non_nested, boost::spirit::classic::is_lexeme> >, boost::spirit::classic::confix_parser<boost::spirit::classic::strlit<char const*>, boost::spirit::classic::kleene_star<boost::spirit::classic::anychar_parser>, boost::spirit::classic::strlit<char const*>, boost::spirit::classic::unary_parser_category, boost::spirit::classic::non_nested, boost::spirit::classic::is_lexeme> >, boost::spirit::classic::iteration_policy>, boost::spirit::classic::match_policy, boost::spirit::classic::action_policy> > > > >::~thread_specific_ptr() (tss.hpp:79)
==30508==    by 0x5817DF1: __run_exit_handlers (exit.c:78)
==30508==    by 0x5817E44: exit (exit.c:100)
==30508==    by 0x5DB2E0: lmOut(char*, char, char const*, int, char const*, int, char const*, bool) (logMsg.cpp:1844)
==30508==    by 0x4DC14D: sigHandler(int) (contextBroker.cpp:987)
==30508==    by 0x58134EF: ??? (in /lib/x86_64-linux-gnu/libc-2.13.so)
==30508==    by 0x588D60C: ??? (syscall-template.S:82)
==30508==    by 0x588D47F: sleep (sleep.c:138)
==30508==    by 0x4CD2C9: main (contextBroker.cpp:1274)


SubscriptionId: 012345678901234567890123
Originator: http://localhost/test
1 ContextElementResponsesContext Element 0:
  Entity Id:
    Id:         ConferenceRoom
    Type:       Room
    isPattern:  false
  AttributeDomainName: ADN
2 ContextAttributes  Attribute 0:
    Name:       temperature
    Type:       Room
    Value:      10
2 Attribute Metadatas
    Attribute Metadata 0:
      Name:     ID
      Type:     string
      Value:    1110
    Attribute Metadata 1:
      Name:     id
      Type:     integer
      Value:    12
  Attribute 1:
    Name:       temperature
    Type:       Room
    Value:      10
2 Attribute Metadatas
    Attribute Metadata 0:
      Name:     ID
      Type:     string
      Value:    1110
    Attribute Metadata 1:
      Name:     id
      Type:     integer
      Value:    55
2 Domain Metadatas
  Domain Metadata 0:
    Name:     m1
    Type:     t1
    Value:    v1
  Domain Metadata 1:
    Name:     m2
    Type:     t2
    Value:    v2
Code:            200
ReasonPhrase:    'Ok'
Detail:          'a'
Tag:             'statusCode'


SubscriptionId: 012345678901234567890123
Originator: http://localhost/test
1 ContextElementResponsesContext Element 0:
  Entity Id:
    Id:         ConferenceRoom
    Type:       Room
    isPattern:  false
  AttributeDomainName: ADN
2 ContextAttributes  Attribute 0:
    Name:       temperature
    Type:       Room
    Value:      10
2 Attribute Metadatas
    Attribute Metadata 0:
      Name:     ID
      Type:     string
      Value:    1110
    Attribute Metadata 1:
      Name:     id
      Type:     integer
      Value:    12
  Attribute 1:
    Name:       temperature
    Type:       Room
    Value:      10
2 Attribute Metadatas
    Attribute Metadata 0:
      Name:     ID
      Type:     string
      Value:    1110
    Attribute Metadata 1:
      Name:     id
      Type:     integer
      Value:    55
2 Domain Metadatas
  Domain Metadata 0:
    Name:     m1
    Type:     t1
    Value:    v1
  Domain Metadata 1:
    Name:     m2
    Type:     t2
    Value:    v2
Code:            200
ReasonPhrase:    'Ok'
Detail:          'a'
Tag:             'statusCode'
==30508== 
==30508== HEAP SUMMARY:
==30508==     in use at exit: 218,835 bytes in 3,970 blocks
==30508==   total heap usage: 9,821 allocs, 5,851 frees, 10,118,545 bytes allocated
==30508== 
==30508== LEAK SUMMARY:
==30508==    definitely lost: 0 bytes in 0 blocks
==30508==    indirectly lost: 0 bytes in 0 blocks
==30508==      possibly lost: 128,462 bytes in 2,899 blocks
==30508==    still reachable: 90,373 bytes in 1,071 blocks
==30508==         suppressed: 0 bytes in 0 blocks
==30508== Rerun with --leak-check=full to see details of leaked memory
==30508== 
==30508== For counts of detected and suppressed errors, rerun with: -v
==30508== Use --track-origins=yes to see where uninitialised values come from
==30508== ERROR SUMMARY: 67 errors from 34 contexts (suppressed: 7 from 7)
