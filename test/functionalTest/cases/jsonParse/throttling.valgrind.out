==7537== Memcheck, a memory error detector
==7537== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
==7537== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright info
==7537== Command: contextBroker -vvvvv -harakiri -port 9999 -pidpath /tmp/orion_9999.pid -db testharness -t 0-255
==7537== 
==7537== Invalid read of size 4
==7537==    at 0x5DE5E9: paParse(PaArgument*, int, char**, int, bool, char const*) (paParse.cpp:317)
==7537==    by 0x4CCC0D: main (contextBroker.cpp:1200)
==7537==  Address 0x6f9c2bc is 12 bytes inside a block of size 14 alloc'd
==7537==    at 0x4C28BED: malloc (vg_replace_malloc.c:263)
==7537==    by 0x5861C41: strdup (strdup.c:43)
==7537==    by 0x5DE483: paParse(PaArgument*, int, char**, int, bool, char const*) (paParse.cpp:414)
==7537==    by 0x4CCC0D: main (contextBroker.cpp:1200)
==7537== 
T@10:01:51  paConfigActions[727]: setting trace levels to '0-255'
T@10:01:51  paConfigActions[728]: Leaving function paConfigActions
T@10:01:51  semInit[61]: Initialized 'req' semaphore
T@10:01:51  semInit[62]: Initialized 'mongo' semaphore
T@10:01:51  mongoSemTake[90]: mongoConnect taking the 'mongo' semaphore for 'connecting to mongo'
T@10:01:51  mongoSemTake[92]: mongoConnect has the 'mongo' semaphore
==7537== 
==7537== HEAP SUMMARY:
==7537==     in use at exit: 17,324 bytes in 100 blocks
==7537==   total heap usage: 4,624 allocs, 4,524 frees, 326,643 bytes allocated
==7537== 
T@10:01:51  mongoConnect[152]: mongo version server: 2.4.9 (mayor: 2, minor: 4, extra: 9)
T@10:01:51  mongoSemGive[118]: mongoConnect gives the 'mongo' semaphore for 'connecting to mongo'
F@10:01:51  ***[1063]: Connected to mongo at localhost:testharness
==7537== LEAK SUMMARY:
==7537==    definitely lost: 0 bytes in 0 blocks
==7537==    indirectly lost: 0 bytes in 0 blocks
==7537==      possibly lost: 28 bytes in 1 blocks
==7537==    still reachable: 17,296 bytes in 99 blocks
==7537==         suppressed: 0 bytes in 0 blocks
==7537== Rerun with --leak-check=full to see details of leaked memory
==7537== 
==7537== For counts of detected and suppressed errors, rerun with: -v
==7537== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 7 from 7)
T@10:01:51  ensureLocationIndex[381]: ensuring 2dsphere index on location.coords (tenant )
T@10:01:51  recoverOntimeIntervalThreads[398]: query() in 'testharness.csubs' collection: '{ conditions.type: "ONTIMEINTERVAL" }'
T@10:01:51  mongoSemTake[90]: recoverOntimeIntervalThreads taking the 'mongo' semaphore for 'query in SubscribeContextCollection'
T@10:01:51  mongoSemTake[92]: recoverOntimeIntervalThreads has the 'mongo' semaphore
T@10:01:51  mongoSemGive[118]: recoverOntimeIntervalThreads gives the 'mongo' semaphore for 'query in SubscribeContextCollection'
==7541== Source and destination overlap in strncpy(0x8d3ca7, 0x8d3ca7, 63)
==7541==    at 0x4C29782: strncpy (mc_replace_strmem.c:463)
==7541==    by 0x55D0E0: restInit(RestService*, IpVersion, char const*, unsigned short, std::string const&, std::string const&, unsigned short, char const*, char const*, void (*)(ConnectionInfo*), bool) (rest.cpp:676)
==7541==    by 0x4CD74D: main (contextBroker.cpp:1271)
==7541== 
==7541== Source and destination overlap in strncpy(0x8d3ce2, 0x8d3ce2, 63)
==7541==    at 0x4C29782: strncpy (mc_replace_strmem.c:463)
==7541==    by 0x55D0F9: restInit(RestService*, IpVersion, char const*, unsigned short, std::string const&, std::string const&, unsigned short, char const*, char const*, void (*)(ConnectionInfo*), bool) (rest.cpp:679)
==7541==    by 0x4CD74D: main (contextBroker.cpp:1271)
==7541== 
V@10:01:51  restStart[569]: Starting HTTP daemon on IPv4 0.0.0.0 port 9999
V@10:01:51  restStart[611]: Starting HTTP daemon on IPv6 :: port 9999
==7541== Thread 4:
==7541== Syscall param mmap(length) contains uninitialised byte(s)
==7541==    at 0x58B9AFA: mmap (syscall-template.S:82)
==7541==    by 0x4E398E7: MHD_pool_create (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E35F47: MHD_connection_get_pollfd (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E35FFB: MHD_connection_get_fdset (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E373B0: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Conditional jump or move depends on uninitialised value(s)
==7541==    at 0x4E39A1F: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E334BF: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E35F20: MHD_connection_get_pollfd (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E35FFB: MHD_connection_get_fdset (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E373B0: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Conditional jump or move depends on uninitialised value(s)
==7541==    at 0x4E39A24: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E334BF: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E35F20: MHD_connection_get_pollfd (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E35FFB: MHD_connection_get_fdset (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E373B0: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Conditional jump or move depends on uninitialised value(s)
==7541==    at 0x4E39A52: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E334BF: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E35F20: MHD_connection_get_pollfd (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E35FFB: MHD_connection_get_fdset (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E373B0: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Conditional jump or move depends on uninitialised value(s)
==7541==    at 0x4E399BC: MHD_pool_allocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E33C62: MHD_set_connection_value (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E34033: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E3426D: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E34783: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
T@10:01:59  connectionTreat[438]: notifyFormat: ''
T@10:01:59  httpHeaderGet[137]: HTTP Header:   User-Agent: curl/7.26.0
T@10:01:59  httpHeaderGet[137]: HTTP Header:   Host: localhost:9999
T@10:01:59  httpHeaderGet[137]: HTTP Header:   Content-Type: application/xml
T@10:01:59  httpHeaderGet[137]: HTTP Header:   Accept: application/xml
T@10:01:59  httpHeaderGet[137]: HTTP Header:   Content-Length: 272
T@10:01:59  connectionTreat[442]: HTTP tenant: ''
T@10:01:59  connectionTreat[470]: 'default' value for notifyFormat (ciP->outFormat == 1)): 'XML'
T@10:01:59  restService[179]: Parsing payload for URL '/ngsi10/subscribeContext', method 'POST', service vector index: 16
T@10:01:59  payloadParse[53]: parsing data for service 'SubscribeContextRequest'. Method: 'POST'
T@10:01:59  payloadParse[54]: outFormat: XML
T@10:01:59  payloadParse[58]: Calling xmlTreat for service request 12, payloadWord 'subscribeContextRequest'
2@10:01:59  xmlRequestGet[155]: Found xmlRequest of type 12, method 'POST' - index 16 (/subscribeContextRequest)
T@10:01:59  nullTreat[272]: Not treating node 'subscribeContextRequest'
T@10:01:59  nullTreat[272]: Not treating node 'entityIdList'
T@10:01:59  entityId[53]: Got an entityId
T@10:01:59  entityIdParse[291]: Got a type for an entity: 'Room'
T@10:01:59  entityIdParse[296]: Got an isPattern for an entity: 'false'
T@10:01:59  entityIdId[77]: Got an entityId:id: 'OfficeRoom'
T@10:01:59  reference[351]: Got a reference: 'http://localhost:${LISTENER_PORT}/notify'
T@10:01:59  throttling[430]: Got a throttling: 'PT5H'
T@10:01:59  xmlTreat[251]: Calling check for XML parsed tree (subscribeContextRequest)
T@10:01:59  check[45]: In Restriction::check
T@10:01:59  check[48]: Restriction::check returns OK (counter == 0)
T@10:01:59  ~SubscribeContextResponse[38]: destroyed
T@10:01:59  payloadParse[69]: result: 'OK'
T@10:01:59  payloadParse[70]: outFormat: XML
T@10:01:59  restService[182]: payloadParse returns 'OK'
T@10:01:59  restService[197]: Treating service POST /ngsi10/subscribeContext
T@10:01:59  restService[237]: tenant: ''
T@10:01:59  mongoSubscribeContext[53]: Subscribe Context Request: notifications sent in 'XML' format
T@10:01:59  reqSemTake[75]: mongoSubscribeContext taking the 'req' semaphore for 'ngsi10 subscribe request'
T@10:01:59  reqSemTake[77]: mongoSubscribeContext has the 'req' semaphore
T@10:01:59  mongoSubscribeContext[66]: Subscription expiration: 1401789719
T@10:02:00  mongoSubscribeContext[118]: insert() in 'testharness.csubs' collection: '{ _id: ObjectId('538c4b977a36b28861c08f03'), expiration: 1401789719, reference: "http://localhost:${LISTENER_PORT}/notify", throttling: 18000, entities: [ { id: "OfficeRoom", type: "Room", isPattern: "false" } ], attrs: {}, conditions: {}, format: "XML" }'
T@10:02:00  mongoSemTake[90]: mongoSubscribeContext taking the 'mongo' semaphore for 'insert into SubscribeContextCollection'
T@10:02:00  mongoSemTake[92]: mongoSubscribeContext has the 'mongo' semaphore
T@10:02:00  mongoSemGive[118]: mongoSubscribeContext gives the 'mongo' semaphore for 'insert into SubscribeContextCollection'
T@10:02:00  reqSemGive[104]: mongoSubscribeContext gives the 'req' semaphore for 'ngsi10 subscribe request'
T@10:02:00  ~SubscribeContextResponse[38]: destroyed
T@10:02:00  restReply[65]: Response 1: responding with 227 bytes, Status Code 200
T@10:02:00  restReply[66]: Response payload: '<subscribeContextResponse>
  <subscribeResponse>
    <subscriptionId>538c4b977a36b28861c08f03</subscriptionId>
    <duration>PT24H</duration>
    <throttling>PT5H</throttling>
  </subscribeResponse>
</subscribeContextResponse>
'
T@10:02:00  ~RegisterContextResponse[56]: destroyed
==7541== Conditional jump or move depends on uninitialised value(s)
==7541==    at 0x4E399BC: MHD_pool_allocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E335B6: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Conditional jump or move depends on uninitialised value(s)
==7541==    at 0x4E335BD: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Conditional jump or move depends on uninitialised value(s)
==7541==    at 0x4C2A639: memcpy (mc_replace_strmem.c:121)
==7541==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Conditional jump or move depends on uninitialised value(s)
==7541==    at 0x4C2A64E: memcpy (mc_replace_strmem.c:838)
==7541==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Conditional jump or move depends on uninitialised value(s)
==7541==    at 0x4C2A69B: memcpy (mc_replace_strmem.c:838)
==7541==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Conditional jump or move depends on uninitialised value(s)
==7541==    at 0x4C2A790: memcpy (mc_replace_strmem.c:838)
==7541==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Use of uninitialised value of size 8
==7541==    at 0x4C2A7C8: memcpy (mc_replace_strmem.c:838)
==7541==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Use of uninitialised value of size 8
==7541==    at 0x4C2A7ED: memcpy (mc_replace_strmem.c:838)
==7541==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Use of uninitialised value of size 8
==7541==    at 0x58CFC9C: __vsprintf_chk (vsprintf_chk.c:79)
==7541==    by 0x58CFC0E: __sprintf_chk (sprintf_chk.c:33)
==7541==    by 0x4E33622: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Use of uninitialised value of size 8
==7541==    at 0x4C2953C: strcpy (mc_replace_strmem.c:429)
==7541==    by 0x4E33913: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Conditional jump or move depends on uninitialised value(s)
==7541==    at 0x4C29569: strcpy (mc_replace_strmem.c:112)
==7541==    by 0x4E33913: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Conditional jump or move depends on uninitialised value(s)
==7541==    at 0x4C2956E: strcpy (mc_replace_strmem.c:121)
==7541==    by 0x4E33913: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Conditional jump or move depends on uninitialised value(s)
==7541==    at 0x4C2957F: strcpy (mc_replace_strmem.c:429)
==7541==    by 0x4E33913: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Use of uninitialised value of size 8
==7541==    at 0x4E3363E: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Syscall param sendto(msg) contains uninitialised byte(s)
==7541==    at 0x58BE0AC: send (send.c:32)
==7541==    by 0x4E36D69: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E35963: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E35A87: MHD_connection_handle_write (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37638: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Conditional jump or move depends on uninitialised value(s)
==7541==    at 0x4E39A1F: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E33BA1: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E35A9D: MHD_connection_handle_write (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37638: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Conditional jump or move depends on uninitialised value(s)
==7541==    at 0x4E39A24: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E33BA1: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E35A9D: MHD_connection_handle_write (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37638: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Conditional jump or move depends on uninitialised value(s)
==7541==    at 0x4E39A40: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E33BA1: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E35A9D: MHD_connection_handle_write (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37638: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Conditional jump or move depends on uninitialised value(s)
==7541==    at 0x4E39A1F: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E334BF: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E35D17: MHD_connection_handle_read (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37648: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Conditional jump or move depends on uninitialised value(s)
==7541==    at 0x4E39A24: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E334BF: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E35D17: MHD_connection_handle_read (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37648: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Conditional jump or move depends on uninitialised value(s)
==7541==    at 0x4E39A52: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E334BF: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E35D17: MHD_connection_handle_read (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37648: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
T@10:02:00  connectionTreat[438]: notifyFormat: ''
T@10:02:00  httpHeaderGet[137]: HTTP Header:   User-Agent: curl/7.26.0
T@10:02:00  httpHeaderGet[137]: HTTP Header:   Host: localhost:9999
T@10:02:00  httpHeaderGet[137]: HTTP Header:   Content-Type: application/xml
T@10:02:00  httpHeaderGet[137]: HTTP Header:   Accept: application/xml
T@10:02:00  httpHeaderGet[137]: HTTP Header:   Content-Length: 272
T@10:02:00  connectionTreat[442]: HTTP tenant: ''
T@10:02:00  connectionTreat[470]: 'default' value for notifyFormat (ciP->outFormat == 1)): 'XML'
T@10:02:00  restService[179]: Parsing payload for URL '/ngsi10/subscribeContext', method 'POST', service vector index: 16
T@10:02:00  payloadParse[53]: parsing data for service 'SubscribeContextRequest'. Method: 'POST'
T@10:02:00  payloadParse[54]: outFormat: XML
T@10:02:00  payloadParse[58]: Calling xmlTreat for service request 12, payloadWord 'subscribeContextRequest'
2@10:02:00  xmlRequestGet[155]: Found xmlRequest of type 12, method 'POST' - index 16 (/subscribeContextRequest)
T@10:02:00  nullTreat[272]: Not treating node 'subscribeContextRequest'
T@10:02:00  nullTreat[272]: Not treating node 'entityIdList'
T@10:02:00  entityId[53]: Got an entityId
T@10:02:00  entityIdParse[291]: Got a type for an entity: 'Room'
T@10:02:00  entityIdParse[296]: Got an isPattern for an entity: 'false'
T@10:02:00  entityIdId[77]: Got an entityId:id: 'OfficeRoom'
T@10:02:00  reference[351]: Got a reference: 'http://localhost:${LISTENER_PORT}/notify'
T@10:02:00  throttling[430]: Got a throttling: 'PT5R'
T@10:02:00  xmlTreat[251]: Calling check for XML parsed tree (subscribeContextRequest)
T@10:02:00  check[45]: In Restriction::check
T@10:02:00  check[48]: Restriction::check returns OK (counter == 0)
T@10:02:00  ~SubscribeContextResponse[38]: destroyed
E@10:02:00  xmlTreat[254]: check(subscribeContextRequest): <subscribeContextResponse>
  <subscribeError>
    <errorCode>
      <code>400</code>
      <reasonPhrase>Bad Request</reasonPhrase>
      <details>invalid payload: syntax error in throttling string</details>
    </errorCode>
  </subscribeError>
</subscribeContextResponse>

T@10:02:00  payloadParse[69]: result: '<subscribeContextResponse>
  <subscribeError>
    <errorCode>
      <code>400</code>
      <reasonPhrase>Bad Request</reasonPhrase>
      <details>invalid payload: syntax error in throttling string</details>
    </errorCode>
  </subscribeError>
</subscribeContextResponse>
'
T@10:02:00  payloadParse[70]: outFormat: XML
T@10:02:00  restReply[65]: Response 2: responding with 273 bytes, Status Code 200
T@10:02:00  restReply[66]: Response payload: '<subscribeContextResponse>
  <subscribeError>
    <errorCode>
      <code>400</code>
      <reasonPhrase>Bad Request</reasonPhrase>
      <details>invalid payload: syntax error in throttling string</details>
    </errorCode>
  </subscribeError>
</subscribeContextResponse>
'
T@10:02:00  restService[182]: payloadParse returns '<subscribeContextResponse>
  <subscribeError>
    <errorCode>
      <code>400</code>
      <reasonPhrase>Bad Request</reasonPhrase>
      <details>invalid payload: syntax error in throttling string</details>
    </errorCode>
  </subscribeError>
</subscribeContextResponse>
'
T@10:02:00  restReply[65]: Response 3: responding with 273 bytes, Status Code 200
T@10:02:00  restReply[66]: Response payload: '<subscribeContextResponse>
  <subscribeError>
    <errorCode>
      <code>400</code>
      <reasonPhrase>Bad Request</reasonPhrase>
      <details>invalid payload: syntax error in throttling string</details>
    </errorCode>
  </subscribeError>
</subscribeContextResponse>
'
T@10:02:00  ~RegisterContextResponse[56]: destroyed
==7541== Thread 3:
==7541== Syscall param munmap(length) contains uninitialised byte(s)
==7541==    at 0x58B9B27: munmap (syscall-template.S:82)
==7541==    by 0x4E3996B: MHD_pool_destroy (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37030: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E3881C: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
T@10:02:00  connectionTreat[438]: notifyFormat: ''
T@10:02:00  httpHeaderGet[137]: HTTP Header:   User-Agent: curl/7.26.0
T@10:02:00  httpHeaderGet[137]: HTTP Header:   Host: localhost:9999
T@10:02:00  httpHeaderGet[137]: HTTP Header:   Accept: */*
T@10:02:00  connectionTreat[442]: HTTP tenant: ''
T@10:02:00  connectionTreat[470]: 'default' value for notifyFormat (ciP->outFormat == 1)): 'XML'
T@10:02:00  restService[197]: Treating service * /exit/harakiri
T@10:02:00  restService[203]: URL tenant: 'exit'
T@10:02:00  restService[237]: tenant: ''
E@10:02:00  restErrorReplyGet[227]: Unknown tag: 'UnknownTag', request == ''
T@10:02:00  restReply[65]: Response 4: responding with 145 bytes, Status Code 200
T@10:02:00  restReply[66]: Response payload: '<orionError>
  <code>400</code>
  <reasonPhrase>Bad Request</reasonPhrase>
  <details>service '/exit/harakiri' not found</details>
</orionError>
'
T@10:02:00  ~RegisterContextResponse[56]: destroyed
==7541== Thread 4:
==7541== Conditional jump or move depends on uninitialised value(s)
==7541==    at 0x4C2A63F: memcpy (mc_replace_strmem.c:124)
==7541==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Use of uninitialised value of size 8
==7541==    at 0x4C2A6FB: memcpy (mc_replace_strmem.c:838)
==7541==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Use of uninitialised value of size 8
==7541==    at 0x4C2A763: memcpy (mc_replace_strmem.c:838)
==7541==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
==7541== Conditional jump or move depends on uninitialised value(s)
==7541==    at 0x4C29570: strcpy (mc_replace_strmem.c:124)
==7541==    by 0x4E33913: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==7541==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==7541==    by 0x58BD0EC: clone (clone.S:112)
==7541== 
F@08:52:18  ***[981]: In sigHandler - caught signal 15
X@08:52:18  sigHandler[987]: Received signal 15
==7541== 
==7541== Process terminating with default action of signal 11 (SIGSEGV)
==7541==  General Protection Fault
==7541==    at 0x404DB43: boost::detail::set_tss_data(void const*, boost::shared_ptr<boost::detail::tss_cleanup_function>, void*, bool) (in /usr/lib/libboost_thread.so.1.49.0)
==7541==    by 0x650D68: boost::thread_specific_ptr<mongo::LastError>::~thread_specific_ptr() (in /home/fermin/bin/contextBroker)
==7541==    by 0x5817DF1: __run_exit_handlers (exit.c:78)
==7541==    by 0x5817E44: exit (exit.c:100)
==7541==    by 0x5DB2E0: lmOut(char*, char, char const*, int, char const*, int, char const*, bool) (logMsg.cpp:1844)
==7541==    by 0x4DC14D: sigHandler(int) (contextBroker.cpp:987)
==7541==    by 0x58134EF: ??? (in /lib/x86_64-linux-gnu/libc-2.13.so)
==7541==    by 0x588D60C: ??? (syscall-template.S:82)
==7541==    by 0x588D47F: sleep (sleep.c:138)
==7541==    by 0x4CD2C9: main (contextBroker.cpp:1274)
1 EntityIds:
  Entity Id 0:
    Id:         OfficeRoom
    Type:       Room
    isPattern:  false
  Attribute List
  Reference: http://localhost:${LISTENER_PORT}/notify
  No Duration
  No AttributeExpression
No scopes
0 NotifyConditions  Throttling: PT5H
1 EntityIds:
  Entity Id 0:
    Id:         OfficeRoom
    Type:       Room
    isPattern:  false
  Attribute List
  Reference: http://localhost:${LISTENER_PORT}/notify
  No Duration
  No AttributeExpression
No scopes
0 NotifyConditions  Throttling: PT5R
==7541== 
==7541== HEAP SUMMARY:
==7541==     in use at exit: 218,691 bytes in 3,965 blocks
==7541==   total heap usage: 5,413 allocs, 1,448 frees, 3,850,121 bytes allocated
==7541== 
==7541== LEAK SUMMARY:
==7541==    definitely lost: 0 bytes in 0 blocks
==7541==    indirectly lost: 0 bytes in 0 blocks
==7541==      possibly lost: 128,462 bytes in 2,899 blocks
==7541==    still reachable: 90,229 bytes in 1,066 blocks
==7541==         suppressed: 0 bytes in 0 blocks
==7541== Rerun with --leak-check=full to see details of leaked memory
==7541== 
==7541== For counts of detected and suppressed errors, rerun with: -v
==7541== Use --track-origins=yes to see where uninitialised values come from
==7541== ERROR SUMMARY: 100 errors from 34 contexts (suppressed: 7 from 7)
