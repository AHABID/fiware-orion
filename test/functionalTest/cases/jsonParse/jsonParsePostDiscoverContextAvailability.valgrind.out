==30281== Memcheck, a memory error detector
==30281== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
==30281== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright info
==30281== Command: contextBroker -vvvvv -harakiri -port 9999 -pidpath /tmp/orion_9999.pid -db testharness -t 0-255
==30281== 
==30281== Invalid read of size 4
==30281==    at 0x5DE5E9: paParse(PaArgument*, int, char**, int, bool, char const*) (paParse.cpp:317)
==30281==    by 0x4CCC0D: main (contextBroker.cpp:1200)
==30281==  Address 0x6f9c2bc is 12 bytes inside a block of size 14 alloc'd
==30281==    at 0x4C28BED: malloc (vg_replace_malloc.c:263)
==30281==    by 0x5861C41: strdup (strdup.c:43)
==30281==    by 0x5DE483: paParse(PaArgument*, int, char**, int, bool, char const*) (paParse.cpp:414)
==30281==    by 0x4CCC0D: main (contextBroker.cpp:1200)
==30281== 
T@08:17:02  paConfigActions[727]: setting trace levels to '0-255'
T@08:17:02  paConfigActions[728]: Leaving function paConfigActions
T@08:17:02  semInit[61]: Initialized 'req' semaphore
T@08:17:02  semInit[62]: Initialized 'mongo' semaphore
T@08:17:02  mongoSemTake[90]: mongoConnect taking the 'mongo' semaphore for 'connecting to mongo'
T@08:17:02  mongoSemTake[92]: mongoConnect has the 'mongo' semaphore
T@08:17:02  mongoConnect[152]: mongo version server: 2.4.9 (mayor: 2, minor: 4, extra: 9)
==30281== 
==30281== HEAP SUMMARY:
==30281==     in use at exit: 17,324 bytes in 100 blocks
==30281==   total heap usage: 4,624 allocs, 4,524 frees, 326,643 bytes allocated
==30281== 
T@08:17:02  mongoSemGive[118]: mongoConnect gives the 'mongo' semaphore for 'connecting to mongo'
F@08:17:02  ***[1063]: Connected to mongo at localhost:testharness
==30281== LEAK SUMMARY:
==30281==    definitely lost: 0 bytes in 0 blocks
==30281==    indirectly lost: 0 bytes in 0 blocks
==30281==      possibly lost: 28 bytes in 1 blocks
==30281==    still reachable: 17,296 bytes in 99 blocks
==30281==         suppressed: 0 bytes in 0 blocks
==30281== Rerun with --leak-check=full to see details of leaked memory
==30281== 
==30281== For counts of detected and suppressed errors, rerun with: -v
==30281== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 7 from 7)
T@08:17:02  ensureLocationIndex[381]: ensuring 2dsphere index on location.coords (tenant )
T@08:17:02  recoverOntimeIntervalThreads[398]: query() in 'testharness.csubs' collection: '{ conditions.type: "ONTIMEINTERVAL" }'
T@08:17:02  mongoSemTake[90]: recoverOntimeIntervalThreads taking the 'mongo' semaphore for 'query in SubscribeContextCollection'
T@08:17:02  mongoSemTake[92]: recoverOntimeIntervalThreads has the 'mongo' semaphore
T@08:17:02  mongoSemGive[118]: recoverOntimeIntervalThreads gives the 'mongo' semaphore for 'query in SubscribeContextCollection'
==30288== Source and destination overlap in strncpy(0x8d3ca7, 0x8d3ca7, 63)
==30288==    at 0x4C29782: strncpy (mc_replace_strmem.c:463)
==30288==    by 0x55D0E0: restInit(RestService*, IpVersion, char const*, unsigned short, std::string const&, std::string const&, unsigned short, char const*, char const*, void (*)(ConnectionInfo*), bool) (rest.cpp:676)
==30288==    by 0x4CD74D: main (contextBroker.cpp:1271)
==30288== 
==30288== Source and destination overlap in strncpy(0x8d3ce2, 0x8d3ce2, 63)
==30288==    at 0x4C29782: strncpy (mc_replace_strmem.c:463)
==30288==    by 0x55D0F9: restInit(RestService*, IpVersion, char const*, unsigned short, std::string const&, std::string const&, unsigned short, char const*, char const*, void (*)(ConnectionInfo*), bool) (rest.cpp:679)
==30288==    by 0x4CD74D: main (contextBroker.cpp:1271)
==30288== 
V@08:17:02  restStart[569]: Starting HTTP daemon on IPv4 0.0.0.0 port 9999
V@08:17:02  restStart[611]: Starting HTTP daemon on IPv6 :: port 9999
==30288== Thread 4:
==30288== Syscall param mmap(length) contains uninitialised byte(s)
==30288==    at 0x58B9AFA: mmap (syscall-template.S:82)
==30288==    by 0x4E398E7: MHD_pool_create (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E35F47: MHD_connection_get_pollfd (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E35FFB: MHD_connection_get_fdset (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E373B0: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Conditional jump or move depends on uninitialised value(s)
==30288==    at 0x4E39A1F: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E334BF: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E35F20: MHD_connection_get_pollfd (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E35FFB: MHD_connection_get_fdset (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E373B0: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Conditional jump or move depends on uninitialised value(s)
==30288==    at 0x4E39A24: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E334BF: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E35F20: MHD_connection_get_pollfd (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E35FFB: MHD_connection_get_fdset (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E373B0: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Conditional jump or move depends on uninitialised value(s)
==30288==    at 0x4E39A52: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E334BF: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E35F20: MHD_connection_get_pollfd (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E35FFB: MHD_connection_get_fdset (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E373B0: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Conditional jump or move depends on uninitialised value(s)
==30288==    at 0x4E399BC: MHD_pool_allocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E33C62: MHD_set_connection_value (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E34033: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E3426D: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E34783: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
T@08:17:10  connectionTreat[438]: notifyFormat: ''
T@08:17:10  httpHeaderGet[137]: HTTP Header:   User-Agent: curl/7.26.0
T@08:17:10  httpHeaderGet[137]: HTTP Header:   Host: localhost:9999
T@08:17:10  httpHeaderGet[137]: HTTP Header:   Content-Type: application/json
T@08:17:10  httpHeaderGet[137]: HTTP Header:   Accept: application/json
T@08:17:10  httpHeaderGet[137]: HTTP Header:   Content-Length: 485
T@08:17:10  connectionTreat[442]: HTTP tenant: ''
T@08:17:10  connectionTreat[470]: 'default' value for notifyFormat (ciP->outFormat == 2)): 'JSON'
T@08:17:10  restService[179]: Parsing payload for URL '/NGSI9/registerContext', method 'POST', service vector index: 0
T@08:17:10  payloadParse[53]: parsing data for service 'RegisterContextRequest'. Method: 'POST'
T@08:17:10  payloadParse[54]: outFormat: JSON
2@08:17:10  jsonRequestGet[121]: Found jsonRequest of type 1, method 'POST' - index 0 (/contextRegistrations)
T@08:17:10  jsonTreat[140]: Treating a JSON request: '{ "contextRegistrations": [ { "entities": [ { "type": "Room", "isPattern": "false", "id": "ConferenceRoom" }, { "type": "Room", "isPattern": "false", "id": "OfficeRoom" } ], "attributes": [ { "name": "temperature", "type": "degree", "isDomain": "false", "metadatas": [ { "name": "ID", "type": "string", "value": "1110" } ] } ], "metadatas": [ { "name": "ID", "type": "string", "value": "2212" } ], "providingApplication": "http://192.168.100.1:70/application" } ], "duration": "PT1M" }'
T@08:17:10  jsonTreat[155]: Treating 'registerContextRequest' request
T@08:17:10  treat[107]: Treating path '/contextRegistrations', value ''
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations': ''
T@08:17:10  jsonNullTreat[41]: Not treating JSON node '/contextRegistrations'
T@08:17:10  treat[115]: called treat function for '/contextRegistrations'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration', value ''
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration': ''
T@08:17:10  contextRegistration[53]: /contextRegistrations/contextRegistration: 
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/entities', value ''
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/entities': ''
T@08:17:10  jsonNullTreat[41]: Not treating JSON node '/contextRegistrations/contextRegistration/entities'
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/entities'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/entities/entity', value ''
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/entities/entity': ''
T@08:17:10  entityId[66]: /contextRegistrations/contextRegistration/entities/entity: 
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/entities/entity'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/entities/entity/type', value 'Room'
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/entities/entity/type': 'Room'
T@08:17:10  entityIdType[102]: Set 'type' to 'Room' for an entity
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/entities/entity/type'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/entities/entity/isPattern', value 'false'
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/entities/entity/isPattern': 'false'
T@08:17:10  entityIdIsPattern[115]: Got an entityId:isPattern: 'false'
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/entities/entity/isPattern'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/entities/entity/id', value 'ConferenceRoom'
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/entities/entity/id': 'ConferenceRoom'
T@08:17:10  entityIdId[88]: Set 'id' to 'ConferenceRoom' for an entity
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/entities/entity/id'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/entities/entity', value ''
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/entities/entity': ''
T@08:17:10  entityId[66]: /contextRegistrations/contextRegistration/entities/entity: 
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/entities/entity'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/entities/entity/type', value 'Room'
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/entities/entity/type': 'Room'
T@08:17:10  entityIdType[102]: Set 'type' to 'Room' for an entity
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/entities/entity/type'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/entities/entity/isPattern', value 'false'
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/entities/entity/isPattern': 'false'
T@08:17:10  entityIdIsPattern[115]: Got an entityId:isPattern: 'false'
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/entities/entity/isPattern'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/entities/entity/id', value 'OfficeRoom'
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/entities/entity/id': 'OfficeRoom'
T@08:17:10  entityIdId[88]: Set 'id' to 'OfficeRoom' for an entity
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/entities/entity/id'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes', value ''
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes': ''
T@08:17:10  jsonNullTreat[41]: Not treating JSON node '/contextRegistrations/contextRegistration/attributes'
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute', value ''
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute': ''
T@08:17:10  crAttribute[136]: /contextRegistrations/contextRegistration/attributes/attribute: 
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute/name', value 'temperature'
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute/name': 'temperature'
T@08:17:10  craName[154]: Set 'name' to 'temperature' for a contextRegistrationAttribute
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute/name'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute/type', value 'degree'
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute/type': 'degree'
T@08:17:10  craType[168]: Set 'type' to 'degree' for a contextRegistrationAttribute
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute/type'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute/isDomain', value 'false'
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute/isDomain': 'false'
T@08:17:10  craIsDomain[185]: Set 'isDomain' to 'false' for a contextRegistrationAttribute
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute/isDomain'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute/metadatas', value ''
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas': ''
T@08:17:10  jsonNullTreat[41]: Not treating JSON node '/contextRegistrations/contextRegistration/attributes/attribute/metadatas'
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata', value ''
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata': ''
T@08:17:10  craMetadata[198]: Creating a metadata
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/name', value 'ID'
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/name': 'ID'
T@08:17:10  craMetadataName[219]: Got a metadata name: 'ID'
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/name'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/type', value 'string'
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/type': 'string'
T@08:17:10  craMetadataType[233]: Got a metadata type: 'string'
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/type'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/value', value '1110'
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/value': '1110'
T@08:17:10  craMetadataValue[247]: Got a metadata value: '1110'
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/value'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/metadatas', value ''
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/metadatas': ''
T@08:17:10  jsonNullTreat[41]: Not treating JSON node '/contextRegistrations/contextRegistration/metadatas'
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/metadatas'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/metadatas/metadata', value ''
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/metadatas/metadata': ''
T@08:17:10  regMetadata[261]: Creating a reg metadata
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/metadatas/metadata'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/metadatas/metadata/name', value 'ID'
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/metadatas/metadata/name': 'ID'
T@08:17:10  regMetadataName[280]: Got a reg metadata name: 'ID'
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/metadatas/metadata/name'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/metadatas/metadata/type', value 'string'
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/metadatas/metadata/type': 'string'
T@08:17:10  regMetadataType[294]: Got a reg metadata type: 'string'
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/metadatas/metadata/type'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/metadatas/metadata/value', value '2212'
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/metadatas/metadata/value': '2212'
T@08:17:10  regMetadataValue[308]: Got a reg metadata value: '2212'
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/metadatas/metadata/value'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/contextRegistrations/contextRegistration/providingApplication', value 'http://192.168.100.1:70/application'
T@08:17:10  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/providingApplication': 'http://192.168.100.1:70/application'
T@08:17:10  providingApplication[322]: Got a providing application: 'http://192.168.100.1:70/application'
T@08:17:10  treat[115]: called treat function for '/contextRegistrations/contextRegistration/providingApplication'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/duration', value 'PT1M'
T@08:17:10  treat[113]: calling treat function for '/duration': 'PT1M'
T@08:17:10  duration[336]: Got a duration: 'PT1M'. Saving in 0x7b1c398
T@08:17:10  duration[338]: Got a duration: SAVED!
T@08:17:10  treat[115]: called treat function for '/duration'. result: 'OK'
T@08:17:10  jsonTreat[192]: Calling check for JSON parsed tree (registerContextRequest)
T@08:17:10  ~RegisterContextResponse[56]: destroyed
T@08:17:10  payloadParse[69]: result: 'OK'
T@08:17:10  payloadParse[70]: outFormat: JSON
T@08:17:10  restService[182]: payloadParse returns 'OK'
T@08:17:10  restService[197]: Treating service POST /NGSI9/registerContext
T@08:17:10  restService[237]: tenant: ''
T@08:17:10  reqSemTake[75]: mongoRegisterContext taking the 'req' semaphore for 'ngsi9 register request'
T@08:17:10  reqSemTake[77]: mongoRegisterContext has the 'req' semaphore
T@08:17:10  mongoRegisterContext[51]: Register Context Request
T@08:17:10  processRegisterContext[342]: Registration expiration: 1401697090
T@08:17:10  processRegisterContext[380]: Entity registration: {id: ConferenceRoom, type: Room}
T@08:17:10  processRegisterContext[380]: Entity registration: {id: OfficeRoom, type: Room}
T@08:17:10  processRegisterContext[394]: Attribute registration: {name: temperature, type: degree, isDomain: false}
T@08:17:10  processRegisterContext[406]: providingApplication registration: http://192.168.100.1:70/application
T@08:17:10  addTriggeredSubscriptions[255]: JS function: function(){enId = [ "ConferenceRoom" ,"OfficeRoom" ];enType = [ "Room" ,"Room" ];for (var i=0; i < this.entities.length; i++) {if (this.entities[i].isPattern == "true") {for (var j=0; j < enId.length; j++) {if (enId[j].match(this.entities[i].id) && this.entities[i].type == enType[j]) {return true; }}}}return false; }
T@08:17:10  addTriggeredSubscriptions[268]: query() in 'testharness.casubs' collection: '{ $or: [ { entities: { $in: [ { id: "ConferenceRoom", type: "Room", isPattern: "false" }, { id: "OfficeRoom", type: "Room", isPattern: "false" } ] }, $or: [ { attrs: { $in: [ "temperature" ] } }, { attrs: { $size: 0 } } ], expiration: { $gt: 1401697030 } }, { entities.isPattern: "true", expiration: { $gt: 1401697030 }, $where: function(){enId = [ "ConferenceRoom" ,"OfficeRoom" ];enType = [ "Room"... } ] }'
T@08:17:10  mongoSemTake[90]: addTriggeredSubscriptions taking the 'mongo' semaphore for 'query in SubscribeContextAvailabilityCollection'
T@08:17:10  mongoSemTake[92]: addTriggeredSubscriptions has the 'mongo' semaphore
T@08:17:10  mongoSemGive[118]: addTriggeredSubscriptions gives the 'mongo' semaphore for 'query in SubscribeContextAvailabilityCollection'
T@08:17:10  processRegisterContext[422]: upsert update() in 'testharness.registrations' collection: '{ _id: ObjectId('538c3306c97e3502d1030c31'), expiration: 1401697090, contextRegistration: [ { entities: [ { id: "ConferenceRoom", type: "Room" }, { id: "OfficeRoom", type: "Room" } ], attrs: [ { name: "temperature", type: "degree", isDomain: "false" } ], providingApplication: "http://192.168.100.1:70/application" } ] }'
T@08:17:10  mongoSemTake[90]: processRegisterContext taking the 'mongo' semaphore for 'update in RegistrationsCollection'
T@08:17:10  mongoSemTake[92]: processRegisterContext has the 'mongo' semaphore
T@08:17:10  mongoSemGive[118]: processRegisterContext gives the 'mongo' semaphore for 'update in RegistrationsCollection'
T@08:17:10  reqSemGive[104]: mongoRegisterContext gives the 'req' semaphore for 'ngsi9 register request'
T@08:17:10  ~RegisterContextResponse[56]: destroyed
T@08:17:10  release[153]: Releasing Metadata 0
T@08:17:10  release[153]: Releasing Metadata 0
T@08:17:10  restReply[65]: Response 1: responding with 75 bytes, Status Code 200
T@08:17:10  restReply[66]: Response payload: '{
  "duration" : "PT1M",
  "registrationId" : "538c3306c97e3502d1030c31"
}
'
T@08:17:10  ~RegisterContextResponse[56]: destroyed
==30288== Conditional jump or move depends on uninitialised value(s)
==30288==    at 0x4E399BC: MHD_pool_allocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E335B6: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Conditional jump or move depends on uninitialised value(s)
==30288==    at 0x4E335BD: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Conditional jump or move depends on uninitialised value(s)
==30288==    at 0x4C2A639: memcpy (mc_replace_strmem.c:121)
==30288==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Conditional jump or move depends on uninitialised value(s)
==30288==    at 0x4C2A64E: memcpy (mc_replace_strmem.c:838)
==30288==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Conditional jump or move depends on uninitialised value(s)
==30288==    at 0x4C2A69B: memcpy (mc_replace_strmem.c:838)
==30288==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Conditional jump or move depends on uninitialised value(s)
==30288==    at 0x4C2A790: memcpy (mc_replace_strmem.c:838)
==30288==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Use of uninitialised value of size 8
==30288==    at 0x4C2A7C8: memcpy (mc_replace_strmem.c:838)
==30288==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Use of uninitialised value of size 8
==30288==    at 0x4C2A7ED: memcpy (mc_replace_strmem.c:838)
==30288==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Use of uninitialised value of size 8
==30288==    at 0x58CFC9C: __vsprintf_chk (vsprintf_chk.c:79)
==30288==    by 0x58CFC0E: __sprintf_chk (sprintf_chk.c:33)
==30288==    by 0x4E33622: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Use of uninitialised value of size 8
==30288==    at 0x4C2953C: strcpy (mc_replace_strmem.c:429)
==30288==    by 0x4E33913: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Conditional jump or move depends on uninitialised value(s)
==30288==    at 0x4C29569: strcpy (mc_replace_strmem.c:112)
==30288==    by 0x4E33913: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Conditional jump or move depends on uninitialised value(s)
==30288==    at 0x4C2956E: strcpy (mc_replace_strmem.c:121)
==30288==    by 0x4E33913: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Conditional jump or move depends on uninitialised value(s)
==30288==    at 0x4C2957F: strcpy (mc_replace_strmem.c:429)
==30288==    by 0x4E33913: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Use of uninitialised value of size 8
==30288==    at 0x4E3363E: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Syscall param sendto(msg) contains uninitialised byte(s)
==30288==    at 0x58BE0AC: send (send.c:32)
==30288==    by 0x4E36D69: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E35963: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E35A87: MHD_connection_handle_write (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37638: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Conditional jump or move depends on uninitialised value(s)
==30288==    at 0x4E39A1F: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E33BA1: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E35A9D: MHD_connection_handle_write (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37638: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Conditional jump or move depends on uninitialised value(s)
==30288==    at 0x4E39A24: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E33BA1: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E35A9D: MHD_connection_handle_write (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37638: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Conditional jump or move depends on uninitialised value(s)
==30288==    at 0x4E39A40: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E33BA1: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E35A9D: MHD_connection_handle_write (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37638: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Conditional jump or move depends on uninitialised value(s)
==30288==    at 0x4E39A1F: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E334BF: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E35D17: MHD_connection_handle_read (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37648: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Conditional jump or move depends on uninitialised value(s)
==30288==    at 0x4E39A24: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E334BF: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E35D17: MHD_connection_handle_read (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37648: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Conditional jump or move depends on uninitialised value(s)
==30288==    at 0x4E39A52: MHD_pool_reallocate (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E334BF: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E35D17: MHD_connection_handle_read (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37648: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Thread 3:
==30288== Syscall param munmap(length) contains uninitialised byte(s)
==30288==    at 0x58B9B27: munmap (syscall-template.S:82)
==30288==    by 0x4E3996B: MHD_pool_destroy (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37030: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E3881C: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
T@08:17:10  connectionTreat[438]: notifyFormat: ''
T@08:17:10  httpHeaderGet[137]: HTTP Header:   User-Agent: curl/7.26.0
T@08:17:10  httpHeaderGet[137]: HTTP Header:   Host: localhost:9999
T@08:17:10  httpHeaderGet[137]: HTTP Header:   Content-Type: application/json
T@08:17:10  httpHeaderGet[137]: HTTP Header:   Accept: application/json
T@08:17:10  httpHeaderGet[137]: HTTP Header:   Content-Length: 346
T@08:17:10  connectionTreat[442]: HTTP tenant: ''
T@08:17:10  connectionTreat[470]: 'default' value for notifyFormat (ciP->outFormat == 2)): 'JSON'
T@08:17:10  restService[179]: Parsing payload for URL '/NGSI9/discoverContextAvailability', method 'POST', service vector index: 2
T@08:17:10  payloadParse[53]: parsing data for service 'DiscoverContextAvailabilityRequest'. Method: 'POST'
T@08:17:10  payloadParse[54]: outFormat: JSON
2@08:17:10  jsonRequestGet[121]: Found jsonRequest of type 2, method 'POST' - index 1 (/entities)
T@08:17:10  jsonTreat[140]: Treating a JSON request: '{ "entities": [ { "type": "Room", "isPattern": "false", "id": "ConferenceRoom" }, { "type": "Room", "isPattern": "false", "id": "OfficeRoom" } ], "attributes": [ "temperature", "pressure" ], "restriction": { "attributeExpression" : "Attribute Expression", "scopes": [ { "type" : "st1", "value" : "sv1" }, { "type" : "st2", "value" : "sv2" } ] } }'
T@08:17:10  jsonTreat[155]: Treating 'discoverContextAvailabilityRequest' request
T@08:17:10  treat[107]: Treating path '/entities', value ''
T@08:17:10  treat[113]: calling treat function for '/entities': ''
T@08:17:10  jsonNullTreat[41]: Not treating JSON node '/entities'
T@08:17:10  treat[115]: called treat function for '/entities'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/entities/entity', value ''
T@08:17:10  treat[113]: calling treat function for '/entities/entity': ''
T@08:17:10  entityId[47]: /entities/entity: 
T@08:17:10  entityId[51]: New entityId at 0xfe327e0
T@08:17:10  treat[115]: called treat function for '/entities/entity'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/entities/entity/type', value 'Room'
T@08:17:10  treat[113]: calling treat function for '/entities/entity/type': 'Room'
T@08:17:10  entityIdType[84]: Set 'type' to 'Room' for an entity
T@08:17:10  treat[115]: called treat function for '/entities/entity/type'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/entities/entity/isPattern', value 'false'
T@08:17:10  treat[113]: calling treat function for '/entities/entity/isPattern': 'false'
T@08:17:10  entityIdIsPattern[97]: Got an entityId:isPattern: 'false'
T@08:17:10  treat[115]: called treat function for '/entities/entity/isPattern'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/entities/entity/id', value 'ConferenceRoom'
T@08:17:10  treat[113]: calling treat function for '/entities/entity/id': 'ConferenceRoom'
T@08:17:10  entityIdId[70]: Set 'id' to 'ConferenceRoom' for an entity
T@08:17:10  treat[115]: called treat function for '/entities/entity/id'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/entities/entity', value ''
T@08:17:10  treat[113]: calling treat function for '/entities/entity': ''
T@08:17:10  entityId[47]: /entities/entity: 
T@08:17:10  entityId[51]: New entityId at 0xfebd150
T@08:17:10  treat[115]: called treat function for '/entities/entity'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/entities/entity/type', value 'Room'
T@08:17:10  treat[113]: calling treat function for '/entities/entity/type': 'Room'
T@08:17:10  entityIdType[84]: Set 'type' to 'Room' for an entity
T@08:17:10  treat[115]: called treat function for '/entities/entity/type'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/entities/entity/isPattern', value 'false'
T@08:17:10  treat[113]: calling treat function for '/entities/entity/isPattern': 'false'
T@08:17:10  entityIdIsPattern[97]: Got an entityId:isPattern: 'false'
T@08:17:10  treat[115]: called treat function for '/entities/entity/isPattern'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/entities/entity/id', value 'OfficeRoom'
T@08:17:10  treat[113]: calling treat function for '/entities/entity/id': 'OfficeRoom'
T@08:17:10  entityIdId[70]: Set 'id' to 'OfficeRoom' for an entity
T@08:17:10  treat[115]: called treat function for '/entities/entity/id'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/attributes', value ''
T@08:17:10  treat[113]: calling treat function for '/attributes': ''
T@08:17:10  attributeList[130]: Got an attributeList: ''
T@08:17:10  treat[115]: called treat function for '/attributes'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/attributes/attribute', value 'temperature'
T@08:17:10  treat[113]: calling treat function for '/attributes/attribute': 'temperature'
T@08:17:10  attribute[115]: Got an attribute: 'temperature'
T@08:17:10  treat[115]: called treat function for '/attributes/attribute'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/attributes/attribute', value 'pressure'
T@08:17:10  treat[113]: calling treat function for '/attributes/attribute': 'pressure'
T@08:17:10  attribute[115]: Got an attribute: 'pressure'
T@08:17:10  treat[115]: called treat function for '/attributes/attribute'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/restriction', value ''
T@08:17:10  treat[113]: calling treat function for '/restriction': ''
T@08:17:10  treat[115]: called treat function for '/restriction'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/restriction/attributeExpression', value 'Attribute Expression'
T@08:17:10  treat[113]: calling treat function for '/restriction/attributeExpression': 'Attribute Expression'
T@08:17:10  attributeExpression[154]: Got an attributeExpression: 'Attribute Expression'
T@08:17:10  treat[115]: called treat function for '/restriction/attributeExpression'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/restriction/scopes', value ''
T@08:17:10  treat[113]: calling treat function for '/restriction/scopes': ''
T@08:17:10  jsonNullTreat[41]: Not treating JSON node '/restriction/scopes'
T@08:17:10  treat[115]: called treat function for '/restriction/scopes'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/restriction/scopes/scope', value ''
T@08:17:10  treat[113]: calling treat function for '/restriction/scopes/scope': ''
T@08:17:10  operationScope[172]: Got an operationScope
T@08:17:10  treat[115]: called treat function for '/restriction/scopes/scope'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/restriction/scopes/scope/type', value 'st1'
T@08:17:10  treat[113]: calling treat function for '/restriction/scopes/scope/type': 'st1'
T@08:17:10  scopeType[191]: Set scope 'type' to 'st1' for a scope
T@08:17:10  treat[115]: called treat function for '/restriction/scopes/scope/type'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/restriction/scopes/scope/value', value 'sv1'
T@08:17:10  treat[113]: calling treat function for '/restriction/scopes/scope/value': 'sv1'
T@08:17:10  scopeValue[204]: Set scope 'value' to 'sv1' for a scope
T@08:17:10  treat[115]: called treat function for '/restriction/scopes/scope/value'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/restriction/scopes/scope', value ''
T@08:17:10  treat[113]: calling treat function for '/restriction/scopes/scope': ''
T@08:17:10  operationScope[172]: Got an operationScope
T@08:17:10  treat[115]: called treat function for '/restriction/scopes/scope'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/restriction/scopes/scope/type', value 'st2'
T@08:17:10  treat[113]: calling treat function for '/restriction/scopes/scope/type': 'st2'
T@08:17:10  scopeType[191]: Set scope 'type' to 'st2' for a scope
T@08:17:10  treat[115]: called treat function for '/restriction/scopes/scope/type'. result: 'OK'
T@08:17:10  treat[107]: Treating path '/restriction/scopes/scope/value', value 'sv2'
T@08:17:10  treat[113]: calling treat function for '/restriction/scopes/scope/value': 'sv2'
T@08:17:10  scopeValue[204]: Set scope 'value' to 'sv2' for a scope
T@08:17:10  treat[115]: called treat function for '/restriction/scopes/scope/value'. result: 'OK'
T@08:17:10  jsonTreat[192]: Calling check for JSON parsed tree (discoverContextAvailabilityRequest)
T@08:17:10  check[45]: In Restriction::check
T@08:17:10  check[59]: Restriction::check returns OK (2)
T@08:17:10  payloadParse[69]: result: 'OK'
T@08:17:10  payloadParse[70]: outFormat: JSON
T@08:17:10  restService[182]: payloadParse returns 'OK'
T@08:17:10  restService[197]: Treating service POST /NGSI9/discoverContextAvailability
T@08:17:10  restService[237]: tenant: ''
T@08:17:10  reqSemTake[75]: mongoDiscoverContextAvailability taking the 'req' semaphore for 'mongo ngsi9 discovery request'
T@08:17:10  reqSemTake[77]: mongoDiscoverContextAvailability has the 'req' semaphore
T@08:17:10  mongoDiscoverContextAvailability[256]: DiscoverContextAvailability Request
W@08:17:10  mongoDiscoverContextAvailability[264]: Using 2 scopes: only the first one will be used
W@08:17:10  mongoDiscoverContextAvailability[275]: Unsupported scope (st1, sv1), doing conventional discoverContextAvailability
T@08:17:10  registrationsQuery[1066]: Entity discovery: {id: ConferenceRoom, type: Room}
T@08:17:10  registrationsQuery[1066]: Entity discovery: {id: OfficeRoom, type: Room}
T@08:17:10  registrationsQuery[1074]: Attribute discovery: 'temperature'
T@08:17:10  registrationsQuery[1074]: Attribute discovery: 'pressure'
T@08:17:10  registrationsQuery[1097]: query() in 'testharness.registrations' collection: '{ $or: [ { contextRegistration.entities: { $in: [ { id: "ConferenceRoom", type: "Room" }, { type: "Room", id: "ConferenceRoom" }, { id: "OfficeRoom", type: "Room" }, { type: "Room", id: "OfficeRoom" } ] } }, { contextRegistration.entities.id: { $in: {} } } ], expiration: { $gt: 1401697030 }, contextRegistration.attrs.name: { $in: [ "temperature", "pressure" ] } }'
T@08:17:10  mongoSemTake[90]: registrationsQuery taking the 'mongo' semaphore for 'query in RegistrationsCollection'
T@08:17:10  mongoSemTake[92]: registrationsQuery has the 'mongo' semaphore
T@08:17:10  mongoSemGive[118]: registrationsQuery gives the 'mongo' semaphore for 'query in RegistrationsCollection'
T@08:17:10  registrationsQuery[1124]: retrieved document: '{ _id: ObjectId('538c3306c97e3502d1030c31'), expiration: 1401697090, contextRegistration: [ { entities: [ { id: "ConferenceRoom", type: "Room" }, { id: "OfficeRoom", type: "Room" } ], attrs: [ { name: "temperature", type: "degree", isDomain: "false" } ], providingApplication: "http://192.168.100.1:70/application" } ] }'
T@08:17:10  reqSemGive[104]: mongoDiscoverContextAvailability gives the 'req' semaphore for 'mongo ngsi9 discovery request'
T@08:17:11  restReply[65]: Response 2: responding with 607 bytes, Status Code 200
T@08:17:11  restReply[66]: Response payload: '{
  "contextRegistrationResponses" : [
    {
      "contextRegistration" : {
        "entities" : [
          {
            "type" : "Room",
            "isPattern" : "false",
            "id" : "ConferenceRoom"
          },
          {
            "type" : "Room",
            "isPattern" : "false",
            "id" : "OfficeRoom"
          }
        ],
        "attributes" : [
          {
            "name" : "temperature",
            "type" : "degree",
            "isDomain" : "false"
          }
        ],
        "providingApplication" : "http://192.168.100.1:70/application"
      }
    }
  ]
}
'
T@08:17:11  ~RegisterContextResponse[56]: destroyed
==30288== Thread 4:
==30288== Conditional jump or move depends on uninitialised value(s)
==30288==    at 0x4C2A63F: memcpy (mc_replace_strmem.c:124)
==30288==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Use of uninitialised value of size 8
==30288==    at 0x4C2A6FB: memcpy (mc_replace_strmem.c:838)
==30288==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Use of uninitialised value of size 8
==30288==    at 0x4C2A763: memcpy (mc_replace_strmem.c:838)
==30288==    by 0x4E338FA: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
==30288== Conditional jump or move depends on uninitialised value(s)
==30288==    at 0x4C29570: strcpy (mc_replace_strmem.c:124)
==30288==    by 0x4E33913: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E34DE0: MHD_connection_handle_idle (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x4E37420: ??? (in /usr/lib/x86_64-linux-gnu/libmicrohttpd.so.10.15.0)
==30288==    by 0x5B72B4F: start_thread (pthread_create.c:304)
==30288==    by 0x58BD0EC: clone (clone.S:112)
==30288== 
T@08:17:11  connectionTreat[438]: notifyFormat: ''
T@08:17:11  httpHeaderGet[137]: HTTP Header:   User-Agent: curl/7.26.0
T@08:17:11  httpHeaderGet[137]: HTTP Header:   Host: localhost:9999
T@08:17:11  httpHeaderGet[137]: HTTP Header:   Content-Type: application/json
T@08:17:11  httpHeaderGet[137]: HTTP Header:   Accept: application/json
T@08:17:11  httpHeaderGet[137]: HTTP Header:   Content-Length: 547
T@08:17:11  connectionTreat[442]: HTTP tenant: ''
T@08:17:11  connectionTreat[470]: 'default' value for notifyFormat (ciP->outFormat == 2)): 'JSON'
T@08:17:11  restService[179]: Parsing payload for URL '/NGSI9/registerContext', method 'POST', service vector index: 0
T@08:17:11  payloadParse[53]: parsing data for service 'RegisterContextRequest'. Method: 'POST'
T@08:17:11  payloadParse[54]: outFormat: JSON
2@08:17:11  jsonRequestGet[121]: Found jsonRequest of type 1, method 'POST' - index 0 (/contextRegistrations)
T@08:17:11  jsonTreat[140]: Treating a JSON request: '{ "contextRegistrations": [ { "entities": [ { "type": "Room", "isPattern": "false", "id": "BathRoom" } ], "attributes": [ { "name": "temperature", "type": "degree", "isDomain": "false", "metadatas": [ { "name": "ID", "type": "string", "value": "1110" } ] }, { "name": "pressure", "type": "bar", "isDomain": "false", "metadatas": [ { "name": "ID", "type": "string", "value": "1110" } ] } ], "metadatas": [ { "name": "ID", "type": "string", "value": "2212" } ], "providingApplication": "http://192.168.100.1:70/application" } ], "duration": "PT1M" }'
T@08:17:11  jsonTreat[155]: Treating 'registerContextRequest' request
T@08:17:11  treat[107]: Treating path '/contextRegistrations', value ''
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations': ''
T@08:17:11  jsonNullTreat[41]: Not treating JSON node '/contextRegistrations'
T@08:17:11  treat[115]: called treat function for '/contextRegistrations'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration', value ''
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration': ''
T@08:17:11  contextRegistration[53]: /contextRegistrations/contextRegistration: 
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/entities', value ''
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/entities': ''
T@08:17:11  jsonNullTreat[41]: Not treating JSON node '/contextRegistrations/contextRegistration/entities'
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/entities'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/entities/entity', value ''
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/entities/entity': ''
T@08:17:11  entityId[66]: /contextRegistrations/contextRegistration/entities/entity: 
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/entities/entity'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/entities/entity/type', value 'Room'
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/entities/entity/type': 'Room'
T@08:17:11  entityIdType[102]: Set 'type' to 'Room' for an entity
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/entities/entity/type'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/entities/entity/isPattern', value 'false'
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/entities/entity/isPattern': 'false'
T@08:17:11  entityIdIsPattern[115]: Got an entityId:isPattern: 'false'
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/entities/entity/isPattern'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/entities/entity/id', value 'BathRoom'
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/entities/entity/id': 'BathRoom'
T@08:17:11  entityIdId[88]: Set 'id' to 'BathRoom' for an entity
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/entities/entity/id'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes', value ''
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes': ''
T@08:17:11  jsonNullTreat[41]: Not treating JSON node '/contextRegistrations/contextRegistration/attributes'
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute', value ''
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute': ''
T@08:17:11  crAttribute[136]: /contextRegistrations/contextRegistration/attributes/attribute: 
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute/name', value 'temperature'
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute/name': 'temperature'
T@08:17:11  craName[154]: Set 'name' to 'temperature' for a contextRegistrationAttribute
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute/name'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute/type', value 'degree'
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute/type': 'degree'
T@08:17:11  craType[168]: Set 'type' to 'degree' for a contextRegistrationAttribute
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute/type'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute/isDomain', value 'false'
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute/isDomain': 'false'
T@08:17:11  craIsDomain[185]: Set 'isDomain' to 'false' for a contextRegistrationAttribute
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute/isDomain'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute/metadatas', value ''
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas': ''
T@08:17:11  jsonNullTreat[41]: Not treating JSON node '/contextRegistrations/contextRegistration/attributes/attribute/metadatas'
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata', value ''
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata': ''
T@08:17:11  craMetadata[198]: Creating a metadata
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/name', value 'ID'
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/name': 'ID'
T@08:17:11  craMetadataName[219]: Got a metadata name: 'ID'
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/name'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/type', value 'string'
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/type': 'string'
T@08:17:11  craMetadataType[233]: Got a metadata type: 'string'
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/type'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/value', value '1110'
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/value': '1110'
T@08:17:11  craMetadataValue[247]: Got a metadata value: '1110'
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/value'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute', value ''
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute': ''
T@08:17:11  crAttribute[136]: /contextRegistrations/contextRegistration/attributes/attribute: 
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute/name', value 'pressure'
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute/name': 'pressure'
T@08:17:11  craName[154]: Set 'name' to 'pressure' for a contextRegistrationAttribute
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute/name'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute/type', value 'bar'
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute/type': 'bar'
T@08:17:11  craType[168]: Set 'type' to 'bar' for a contextRegistrationAttribute
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute/type'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute/isDomain', value 'false'
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute/isDomain': 'false'
T@08:17:11  craIsDomain[185]: Set 'isDomain' to 'false' for a contextRegistrationAttribute
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute/isDomain'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute/metadatas', value ''
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas': ''
T@08:17:11  jsonNullTreat[41]: Not treating JSON node '/contextRegistrations/contextRegistration/attributes/attribute/metadatas'
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata', value ''
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata': ''
T@08:17:11  craMetadata[198]: Creating a metadata
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/name', value 'ID'
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/name': 'ID'
T@08:17:11  craMetadataName[219]: Got a metadata name: 'ID'
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/name'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/type', value 'string'
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/type': 'string'
T@08:17:11  craMetadataType[233]: Got a metadata type: 'string'
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/type'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/value', value '1110'
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/value': '1110'
T@08:17:11  craMetadataValue[247]: Got a metadata value: '1110'
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/attributes/attribute/metadatas/metadata/value'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/metadatas', value ''
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/metadatas': ''
T@08:17:11  jsonNullTreat[41]: Not treating JSON node '/contextRegistrations/contextRegistration/metadatas'
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/metadatas'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/metadatas/metadata', value ''
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/metadatas/metadata': ''
T@08:17:11  regMetadata[261]: Creating a reg metadata
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/metadatas/metadata'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/metadatas/metadata/name', value 'ID'
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/metadatas/metadata/name': 'ID'
T@08:17:11  regMetadataName[280]: Got a reg metadata name: 'ID'
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/metadatas/metadata/name'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/metadatas/metadata/type', value 'string'
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/metadatas/metadata/type': 'string'
T@08:17:11  regMetadataType[294]: Got a reg metadata type: 'string'
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/metadatas/metadata/type'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/metadatas/metadata/value', value '2212'
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/metadatas/metadata/value': '2212'
T@08:17:11  regMetadataValue[308]: Got a reg metadata value: '2212'
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/metadatas/metadata/value'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/contextRegistrations/contextRegistration/providingApplication', value 'http://192.168.100.1:70/application'
T@08:17:11  treat[113]: calling treat function for '/contextRegistrations/contextRegistration/providingApplication': 'http://192.168.100.1:70/application'
T@08:17:11  providingApplication[322]: Got a providing application: 'http://192.168.100.1:70/application'
T@08:17:11  treat[115]: called treat function for '/contextRegistrations/contextRegistration/providingApplication'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/duration', value 'PT1M'
T@08:17:11  treat[113]: calling treat function for '/duration': 'PT1M'
T@08:17:11  duration[336]: Got a duration: 'PT1M'. Saving in 0x7b1c398
T@08:17:11  duration[338]: Got a duration: SAVED!
T@08:17:11  treat[115]: called treat function for '/duration'. result: 'OK'
T@08:17:11  jsonTreat[192]: Calling check for JSON parsed tree (registerContextRequest)
T@08:17:11  ~RegisterContextResponse[56]: destroyed


1 ContextRegistrationsContext Registration 0:
2 EntityIds:
  Entity Id 0:
    Id:         ConferenceRoom
    Type:       Room
    isPattern:  false
  Entity Id 1:
    Id:         OfficeRoom
    Type:       Room
    isPattern:  false
1 ContextRegistrationAttributes  Attribute 0:
    Name:       temperature
    Type:       degree
    isDomain:   false
1 Attribute Metadata
    Attribute Metadata 0:
      Name:     ID
      Type:     string
      Value:    1110
1 Registration Metadata
  Registration Metadata 0:
    Name:     ID
    Type:     string
    Value:    2212
  ProvidingApplication: http://192.168.100.1:70/application
Duration: PT1M
No RegistrationId


1 ContextRegistrationsContext Registration 0:
2 EntityIds:
  Entity Id 0:
    Id:         ConferenceRoom
    Type:       Room
    isPattern:  false
  Entity Id 1:
    Id:         OfficeRoom
    Type:       Room
    isPattern:  false
1 ContextRegistrationAttributes  Attribute 0:
    Name:       temperature
    Type:       degree
    isDomain:   false
1 Attribute Metadata
    Attribute Metadata 0:
      Name:     ID
      Type:     string
      Value:    1110
1 Registration Metadata
  Registration Metadata 0:
    Name:     ID
    Type:     string
    Value:    2212
  ProvidingApplication: http://192.168.100.1:70/application
Duration: PT1M
No RegistrationId


2 EntityIds:
Entity Id 0:
  Id:         ConferenceRoom
  Type:       Room
  isPattern:  false
Entity Id 1:
  Id:         OfficeRoom
  Type:       Room
  isPattern:  false
Attribute List
  temperature
  pressure
AttributeExpression: Attribute Expression
2 Scopes:
Scope 0:
  Type:     st1
  Value:    sv1
Scope 1:
  Type:     st2
  Value:    sv2


2 EntityIds:
Entity Id 0:
  Id:         ConferenceRoom
  Type:       Room
  isPattern:  false
Entity Id 1:
  Id:         OfficeRoom
  Type:       Room
  isPattern:  false
Attribute List
  temperature
  pressure
AttributeExpression: Attribute Expression
2 Scopes:
Scope 0:
  Type:     st1
  Value:    sv1
Scope 1:
  Type:     st2
  Value:    sv2
2 EntityIds:
Entity Id 0:
  Id:         ConferenceRoom
  Type:       Room
  isPattern:  false
Entity Id 1:
  Id:         OfficeRoom
  Type:       Room
  isPattern:  false
Attribute List
  temperature
  pressure
AttributeExpression: Attribute Expression
2 Scopes:
Scope 0:
  Type:     st1
  Value:    sv1
Scope 1:
  Type:     st2
  Value:    sv2


2 EntityIds:
Entity Id 0:
  Id:         ConferenceRoom
  Type:       Room
  isPattern:  false
Entity Id 1:
  Id:         OfficeRoom
  Type:       Room
  isPattern:  false
Attribute List
  temperature
  pressure
AttributeExpression: Attribute Expression
2 Scopes:
Scope 0:
  Type:     st1
  Value:    sv1
Scope 1:
  Type:     st2
  Value:    sv2


1 ContextRegistrationsContext Registration 0:
1 EntityIds:
  Entity Id 0:
    Id:         BathRoom
    Type:       Room
    isPattern:  false
2 ContextRegistrationAttributes  Attribute 0:
    Name:       temperature
    Type:       degree
    isDomain:   false
1 Attribute Metadata
    Attribute Metadata 0:
      Name:     ID
      Type:     string
      Value:    1110
  Attribute 1:
    Name:       pressure
    Type:       bar
    isDomain:   false
1 Attribute Metadata
    Attribute Metadata 0:
      Name:     ID
      Type:     string
      Value:    1110
1 Registration Metadata
  Registration Metadata 0:
    Name:     ID
    Type:     string
    Value:    2212
  ProvidingApplication: http://192.168.100.1:70/application
Duration: PT1M
No RegistrationId


1 ContextRegistrationsContext Registration 0:
1 EntityIds:
  Entity Id 0:
    Id:         BathRoom
    Type:       Room
    isPattern:  false
2 ContextRegistrationAttributes  Attribute 0:
    Name:       temperature
    Type:       degree
    isDomain:   false
1 Attribute Metadata
    Attribute Metadata 0:
      Name:     ID
      Type:     string
      Value:    1110
  Attribute 1:
    Name:       pressure
    Type:       bar
    isDomain:   false
1 Attribute Metadata
    Attribute Metadata 0:
      Name:     ID
      Type:     string
      Value:    1110
1 Registration Metadata
  Registration Metadata 0T@08:17:11  payloadParse[69]: result: 'OK'
T@08:17:11  payloadParse[70]: outFormat: JSON
T@08:17:11  restService[182]: payloadParse returns 'OK'
T@08:17:11  restService[197]: Treating service POST /NGSI9/registerContext
T@08:17:11  restService[237]: tenant: ''
T@08:17:11  reqSemTake[75]: mongoRegisterContext taking the 'req' semaphore for 'ngsi9 register request'
T@08:17:11  reqSemTake[77]: mongoRegisterContext has the 'req' semaphore
T@08:17:11  mongoRegisterContext[51]: Register Context Request
T@08:17:11  processRegisterContext[342]: Registration expiration: 1401697091
T@08:17:11  processRegisterContext[380]: Entity registration: {id: BathRoom, type: Room}
T@08:17:11  processRegisterContext[394]: Attribute registration: {name: temperature, type: degree, isDomain: false}
T@08:17:11  processRegisterContext[394]: Attribute registration: {name: pressure, type: bar, isDomain: false}
T@08:17:11  processRegisterContext[406]: providingApplication registration: http://192.168.100.1:70/application
T@08:17:11  addTriggeredSubscriptions[255]: JS function: function(){enId = [ "BathRoom" ];enType = [ "Room" ];for (var i=0; i < this.entities.length; i++) {if (this.entities[i].isPattern == "true") {for (var j=0; j < enId.length; j++) {if (enId[j].match(this.entities[i].id) && this.entities[i].type == enType[j]) {return true; }}}}return false; }
T@08:17:11  addTriggeredSubscriptions[268]: query() in 'testharness.casubs' collection: '{ $or: [ { entities: { $in: [ { id: "BathRoom", type: "Room", isPattern: "false" } ] }, $or: [ { attrs: { $in: [ "temperature", "pressure" ] } }, { attrs: { $size: 0 } } ], expiration: { $gt: 1401697031 } }, { entities.isPattern: "true", expiration: { $gt: 1401697031 }, $where: function(){enId = [ "BathRoom" ];enType = [ "Room" ];for (var i=0; i <... } ] }'
T@08:17:11  mongoSemTake[90]: addTriggeredSubscriptions taking the 'mongo' semaphore for 'query in SubscribeContextAvailabilityCollection'
T@08:17:11  mongoSemTake[92]: addTriggeredSubscriptions has the 'mongo' semaphore
T@08:17:11  mongoSemGive[118]: addTriggeredSubscriptions gives the 'mongo' semaphore for 'query in SubscribeContextAvailabilityCollection'
T@08:17:11  processRegisterContext[422]: upsert update() in 'testharness.registrations' collection: '{ _id: ObjectId('538c3307c97e3502d1030c32'), expiration: 1401697091, contextRegistration: [ { entities: [ { id: "BathRoom", type: "Room" } ], attrs: [ { name: "temperature", type: "degree", isDomain: "false" }, { name: "pressure", type: "bar", isDomain: "false" } ], providingApplication: "http://192.168.100.1:70/application" } ] }'
T@08:17:11  mongoSemTake[90]: processRegisterContext taking the 'mongo' semaphore for 'update in RegistrationsCollection'
T@08:17:11  mongoSemTake[92]: processRegisterContext has the 'mongo' semaphore
T@08:17:11  mongoSemGive[118]: processRegisterContext gives the 'mongo' semaphore for 'update in RegistrationsCollection'
T@08:17:11  reqSemGive[104]: mongoRegisterContext gives the 'req' semaphore for 'ngsi9 register request'
T@08:17:11  ~RegisterContextResponse[56]: destroyed
T@08:17:11  release[153]: Releasing Metadata 0
T@08:17:11  release[153]: Releasing Metadata 0
T@08:17:11  release[153]: Releasing Metadata 0
T@08:17:11  restReply[65]: Response 3: responding with 75 bytes, Status Code 200
T@08:17:11  restReply[66]: Response payload: '{
  "duration" : "PT1M",
  "registrationId" : "538c3307c97e3502d1030c32"
}
'
T@08:17:11  ~RegisterContextResponse[56]: destroyed
T@08:17:11  connectionTreat[438]: notifyFormat: ''
T@08:17:11  httpHeaderGet[137]: HTTP Header:   User-Agent: curl/7.26.0
T@08:17:11  httpHeaderGet[137]: HTTP Header:   Host: localhost:9999
T@08:17:11  httpHeaderGet[137]: HTTP Header:   Content-Type: application/json
T@08:17:11  httpHeaderGet[137]: HTTP Header:   Accept: application/json
T@08:17:11  httpHeaderGet[137]: HTTP Header:   Content-Length: 278
T@08:17:11  connectionTreat[442]: HTTP tenant: ''
T@08:17:11  connectionTreat[470]: 'default' value for notifyFormat (ciP->outFormat == 2)): 'JSON'
T@08:17:11  restService[179]: Parsing payload for URL '/NGSI9/discoverContextAvailability', method 'POST', service vector index: 2
T@08:17:11  payloadParse[53]: parsing data for service 'DiscoverContextAvailabilityRequest'. Method: 'POST'
T@08:17:11  payloadParse[54]: outFormat: JSON
2@08:17:11  jsonRequestGet[121]: Found jsonRequest of type 2, method 'POST' - index 1 (/entities)
T@08:17:11  jsonTreat[140]: Treating a JSON request: '{ "entities": [ { "type": "Room", "isPattern": "false", "id": "BathRoom" } ], "attributes": [ "temperature", "pressure" ], "restriction": { "attributeExpression" : "Attribute Expression", "scopes": [ { "type" : "st1", "value" : "sv1" }, { "type" : "st2", "value" : "sv2" } ] } }'
T@08:17:11  jsonTreat[155]: Treating 'discoverContextAvailabilityRequest' request
T@08:17:11  treat[107]: Treating path '/entities', value ''
T@08:17:11  treat[113]: calling treat function for '/entities': ''
T@08:17:11  jsonNullTreat[41]: Not treating JSON node '/entities'
T@08:17:11  treat[115]: called treat function for '/entities'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/entities/entity', value ''
T@08:17:11  treat[113]: calling treat function for '/entities/entity': ''
T@08:17:11  entityId[47]: /entities/entity: 
T@08:17:11  entityId[51]: New entityId at 0x10a37e90
T@08:17:11  treat[115]: called treat function for '/entities/entity'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/entities/entity/type', value 'Room'
T@08:17:11  treat[113]: calling treat function for '/entities/entity/type': 'Room'
T@08:17:11  entityIdType[84]: Set 'type' to 'Room' for an entity
T@08:17:11  treat[115]: called treat function for '/entities/entity/type'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/entities/entity/isPattern', value 'false'
T@08:17:11  treat[113]: calling treat function for '/entities/entity/isPattern': 'false'
T@08:17:11  entityIdIsPattern[97]: Got an entityId:isPattern: 'false'
T@08:17:11  treat[115]: called treat function for '/entities/entity/isPattern'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/entities/entity/id', value 'BathRoom'
T@08:17:11  treat[113]: calling treat function for '/entities/entity/id': 'BathRoom'
T@08:17:11  entityIdId[70]: Set 'id' to 'BathRoom' for an entity
T@08:17:11  treat[115]: called treat function for '/entities/entity/id'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/attributes', value ''
T@08:17:11  treat[113]: calling treat function for '/attributes': ''
T@08:17:11  attributeList[130]: Got an attributeList: ''
T@08:17:11  treat[115]: called treat function for '/attributes'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/attributes/attribute', value 'temperature'
T@08:17:11  treat[113]: calling treat function for '/attributes/attribute': 'temperature'
T@08:17:11  attribute[115]: Got an attribute: 'temperature'
T@08:17:11  treat[115]: called treat function for '/attributes/attribute'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/attributes/attribute', value 'pressure'
T@08:17:11  treat[113]: calling treat function for '/attributes/attribute': 'pressure'
T@08:17:11  attribute[115]: Got an attribute: 'pressure'
T@08:17:11  treat[115]: called treat function for '/attributes/attribute'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/restriction', value ''
T@08:17:11  treat[113]: calling treat function for '/restriction': ''
T@08:17:11  treat[115]: called treat function for '/restriction'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/restriction/attributeExpression', value 'Attribute Expression'
T@08:17:11  treat[113]: calling treat function for '/restriction/attributeExpression': 'Attribute Expression'
T@08:17:11  attributeExpression[154]: Got an attributeExpression: 'Attribute Expression'
T@08:17:11  treat[115]: called treat function for '/restriction/attributeExpression'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/restriction/scopes', value ''
T@08:17:11  treat[113]: calling treat function for '/restriction/scopes': ''
T@08:17:11  jsonNullTreat[41]: Not treating JSON node '/restriction/scopes'
T@08:17:11  treat[115]: called treat function for '/restriction/scopes'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/restriction/scopes/scope', value ''
T@08:17:11  treat[113]: calling treat function for '/restriction/scopes/scope': ''
T@08:17:11  operationScope[172]: Got an operationScope
T@08:17:11  treat[115]: called treat function for '/restriction/scopes/scope'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/restriction/scopes/scope/type', value 'st1'
T@08:17:11  treat[113]: calling treat function for '/restriction/scopes/scope/type': 'st1'
T@08:17:11  scopeType[191]: Set scope 'type' to 'st1' for a scope
T@08:17:11  treat[115]: called treat function for '/restriction/scopes/scope/type'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/restriction/scopes/scope/value', value 'sv1'
T@08:17:11  treat[113]: calling treat function for '/restriction/scopes/scope/value': 'sv1'
T@08:17:11  scopeValue[204]: Set scope 'value' to 'sv1' for a scope
T@08:17:11  treat[115]: called treat function for '/restriction/scopes/scope/value'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/restriction/scopes/scope', value ''
T@08:17:11  treat[113]: calling treat function for '/restriction/scopes/scope': ''
T@08:17:11  operationScope[172]: Got an operationScope
T@08:17:11  treat[115]: called treat function for '/restriction/scopes/scope'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/restriction/scopes/scope/type', value 'st2'
T@08:17:11  treat[113]: calling treat function for '/restriction/scopes/scope/type': 'st2'
T@08:17:11  scopeType[191]: Set scope 'type' to 'st2' for a scope
T@08:17:11  treat[115]: called treat function for '/restriction/scopes/scope/type'. result: 'OK'
T@08:17:11  treat[107]: Treating path '/restriction/scopes/scope/value', value 'sv2'
T@08:17:11  treat[113]: calling treat function for '/restriction/scopes/scope/value': 'sv2'
T@08:17:11  scopeValue[204]: Set scope 'value' to 'sv2' for a scope
T@08:17:11  treat[115]: called treat function for '/restriction/scopes/scope/value'. result: 'OK'
T@08:17:11  jsonTreat[192]: Calling check for JSON parsed tree (discoverContextAvailabilityRequest)
T@08:17:11  check[45]: In Restriction::check
T@08:17:11  check[59]: Restriction::check returns OK (2)
T@08:17:11  payloadParse[69]: result: 'OK'
T@08:17:11  payloadParse[70]: outFormat: JSON
T@08:17:11  restService[182]: payloadParse returns 'OK'
T@08:17:11  restService[197]: Treating service POST /NGSI9/discoverContextAvailability
T@08:17:11  restService[237]: tenant: ''
T@08:17:11  reqSemTake[75]: mongoDiscoverContextAvailability taking the 'req' semaphore for 'mongo ngsi9 discovery request'
T@08:17:11  reqSemTake[77]: mongoDiscoverContextAvailability has the 'req' semaphore
T@08:17:11  mongoDiscoverContextAvailability[256]: DiscoverContextAvailability Request
W@08:17:11  mongoDiscoverContextAvailability[264]: Using 2 scopes: only the first one will be used
W@08:17:11  mongoDiscoverContextAvailability[275]: Unsupported scope (st1, sv1), doing conventional discoverContextAvailability
T@08:17:11  registrationsQuery[1066]: Entity discovery: {id: BathRoom, type: Room}
T@08:17:11  registrationsQuery[1074]: Attribute discovery: 'temperature'
T@08:17:11  registrationsQuery[1074]: Attribute discovery: 'pressure'
T@08:17:11  registrationsQuery[1097]: query() in 'testharness.registrations' collection: '{ $or: [ { contextRegistration.entities: { $in: [ { id: "BathRoom", type: "Room" }, { type: "Room", id: "BathRoom" } ] } }, { contextRegistration.entities.id: { $in: {} } } ], expiration: { $gt: 1401697031 }, contextRegistration.attrs.name: { $in: [ "temperature", "pressure" ] } }'
T@08:17:11  mongoSemTake[90]: registrationsQuery taking the 'mongo' semaphore for 'query in RegistrationsCollection'
T@08:17:11  mongoSemTake[92]: registrationsQuery has the 'mongo' semaphore
T@08:17:11  mongoSemGive[118]: registrationsQuery gives the 'mongo' semaphore for 'query in RegistrationsCollection'
T@08:17:11  registrationsQuery[1124]: retrieved document: '{ _id: ObjectId('538c3307c97e3502d1030c32'), expiration: 1401697091, contextRegistration: [ { entities: [ { id: "BathRoom", type: "Room" } ], attrs: [ { name: "temperature", type: "degree", isDomain: "false" }, { name: "pressure", type: "bar", isDomain: "false" } ], providingApplication: "http://192.168.100.1:70/application" } ] }'
T@08:17:11  reqSemGive[104]: mongoDiscoverContextAvailability gives the 'req' semaphore for 'mongo ngsi9 discovery request'
T@08:17:11  restReply[65]: Response 4: responding with 599 bytes, Status Code 200
T@08:17:11  restReply[66]: Response payload: '{
  "contextRegistrationResponses" : [
    {
      "contextRegistration" : {
        "entities" : [
          {
            "type" : "Room",
            "isPattern" : "false",
            "id" : "BathRoom"
          }
        ],
        "attributes" : [
          {
            "name" : "temperature",
            "type" : "degree",
            "isDomain" : "false"
          },
          {
            "name" : "pressure",
            "type" : "bar",
            "isDomain" : "false"
          }
        ],
        "providingApplication" : "http://192.168.100.1:70/application"
      }
    }
  ]
}
'
T@08:17:11  ~RegisterContextResponse[56]: destroyed
T@08:17:11  connectionTreat[438]: notifyFormat: ''
T@08:17:11  httpHeaderGet[137]: HTTP Header:   User-Agent: curl/7.26.0
T@08:17:11  httpHeaderGet[137]: HTTP Header:   Host: localhost:9999
T@08:17:11  httpHeaderGet[137]: HTTP Header:   Accept: */*
T@08:17:11  connectionTreat[442]: HTTP tenant: ''
T@08:17:11  connectionTreat[470]: 'default' value for notifyFormat (ciP->outFormat == 1)): 'XML'
T@08:17:11  restService[197]: Treating service * /exit/harakiri
T@08:17:11  restService[203]: URL tenant: 'exit'
T@08:17:11  restService[237]: tenant: ''
E@08:17:11  restErrorReplyGet[227]: Unknown tag: 'UnknownTag', request == ''
T@08:17:11  restReply[65]: Response 5: responding with 145 bytes, Status Code 200
T@08:17:11  restReply[66]: Response payload: '<orionError>
  <code>400</code>
  <reasonPhrase>Bad Request</reasonPhrase>
  <details>service '/exit/harakiri' not found</details>
</orionError>
'
T@08:17:11  ~RegisterContextResponse[56]: destroyed
F@08:17:21  ***[981]: In sigHandler - caught signal 15
X@08:17:21  sigHandler[987]: Received signal 15
==30288== 
==30288== Process terminating with default action of signal 11 (SIGSEGV)
==30288==  General Protection Fault
==30288==    at 0x404DB43: boost::detail::set_tss_data(void const*, boost::shared_ptr<boost::detail::tss_cleanup_function>, void*, bool) (in /usr/lib/libboost_thread.so.1.49.0)
==30288==    by 0x5718F8: boost::thread_specific_ptr<boost::weak_ptr<boost::spirit::classic::impl::grammar_helper<boost::spirit::classic::grammar<boost::property_tree::json_parser::json_grammar<boost::property_tree::basic_ptree<std::string, std::string, std::less<std::string> > >, boost::spirit::classic::parser_context<boost::spirit::classic::nil_t> >, boost::property_tree::json_parser::json_grammar<boost::property_tree::basic_ptree<std::string, std::string, std::less<std::string> > >, boost::spirit::classic::scanner<__gnu_cxx::__normal_iterator<char*, std::vector<char, std::allocator<char> > >, boost::spirit::classic::scanner_policies<boost::spirit::classic::skip_parser_iteration_policy<boost::spirit::classic::alternative<boost::spirit::classic::alternative<boost::spirit::classic::space_parser, boost::spirit::classic::confix_parser<boost::spirit::classic::strlit<char const*>, boost::spirit::classic::kleene_star<boost::spirit::classic::anychar_parser>, boost::spirit::classic::alternative<boost::spirit::classic::eol_parser, boost::spirit::classic::end_parser>, boost::spirit::classic::unary_parser_category, boost::spirit::classic::non_nested, boost::spirit::classic::is_lexeme> >, boost::spirit::classic::confix_parser<boost::spirit::classic::strlit<char const*>, boost::spirit::classic::kleene_star<boost::spirit::classic::anychar_parser>, boost::spirit::classic::strlit<char const*>, boost::spirit::classic::unary_parser_category, boost::spirit::classic::non_nested, boost::spirit::classic::is_lexeme> >, boost::spirit::classic::iteration_policy>, boost::spirit::classic::match_policy, boost::spirit::classic::action_policy> > > > >::~thread_specific_ptr() (tss.hpp:79)
==30288==    by 0x5817DF1: __run_exit_handlers (exit.c:78)
==30288==    by 0x5817E44: exit (exit.c:100)
==30288==    by 0x5DB2E0: lmOut(char*, char, char const*, int, char const*, int, char const*, bool) (logMsg.cpp:1844)
==30288==    by 0x4DC14D: sigHandler(int) (contextBroker.cpp:987)
==30288==    by 0x58134EF: ??? (in /lib/x86_64-linux-gnu/libc-2.13.so)
==30288==    by 0x588D60C: ??? (syscall-template.S:82)
==30288==    by 0x588D47F: sleep (sleep.c:138)
==30288==    by 0x4CD2C9: main (contextBroker.cpp:1274)
:
    Name:     ID
    Type:     string
    Value:    2212
  ProvidingApplication: http://192.168.100.1:70/application
Duration: PT1M
No RegistrationId


1 EntityIds:
Entity Id 0:
  Id:         BathRoom
  Type:       Room
  isPattern:  false
Attribute List
  temperature
  pressure
AttributeExpression: Attribute Expression
2 Scopes:
Scope 0:
  Type:     st1
  Value:    sv1
Scope 1:
  Type:     st2
  Value:    sv2


1 EntityIds:
Entity Id 0:
  Id:         BathRoom
  Type:       Room
  isPattern:  false
Attribute List
  temperature
  pressure
AttributeExpression: Attribute Expression
2 Scopes:
Scope 0:
  Type:     st1
  Value:    sv1
Scope 1:
  Type:     st2
  Value:    sv2
1 EntityIds:
Entity Id 0:
  Id:         BathRoom
  Type:       Room
  isPattern:  false
Attribute List
  temperature
  pressure
AttributeExpression: Attribute Expression
2 Scopes:
Scope 0:
  Type:     st1
  Value:    sv1
Scope 1:
  Type:     st2
  Value:    sv2


1 EntityIds:
Entity Id 0:
  Id:         BathRoom
  Type:       Room
  isPattern:  false
Attribute List
  temperature
  pressure
AttributeExpression: Attribute Expression
2 Scopes:
Scope 0:
  Type:     st1
  Value:    sv1
Scope 1:
  Type:     st2
  Value:    sv2
==30288== 
==30288== HEAP SUMMARY:
==30288==     in use at exit: 218,835 bytes in 3,970 blocks
==30288==   total heap usage: 13,774 allocs, 9,804 frees, 20,394,133 bytes allocated
==30288== 
==30288== LEAK SUMMARY:
==30288==    definitely lost: 0 bytes in 0 blocks
==30288==    indirectly lost: 0 bytes in 0 blocks
==30288==      possibly lost: 128,462 bytes in 2,899 blocks
==30288==    still reachable: 90,373 bytes in 1,071 blocks
==30288==         suppressed: 0 bytes in 0 blocks
==30288== Rerun with --leak-check=full to see details of leaked memory
==30288== 
==30288== For counts of detected and suppressed errors, rerun with: -v
==30288== Use --track-origins=yes to see where uninitialised values come from
==30288== ERROR SUMMARY: 167 errors from 34 contexts (suppressed: 7 from 7)
