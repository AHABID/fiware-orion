echo "1: +++++++++++++++++++++++++++++"

url="/ngsi10/subscribeContext"
payload='<?xml version="1.0"?>
<subscribeContextRequest>
  <entityIdList>
    <entityId type="Room" isPattern="false">
      <id>OfficeRoom</id>
    </entityId>
  </entityIdList>
  <reference>http://localhost:${LISTENER_PORT}/notify</reference>
  <throttling>PT5H</throttling>
</subscribeContextRequest>'
curlXml "$url" "$payload"
echo
echo "2: +++++++++++++++++++++++++++++"
# Bad throttling syntax
#INVALID_XML
url="/ngsi10/subscribeContext"
payload='<?xml version="1.0"?>
<subscribeContextRequest>
  <entityIdList>
    <entityId type="Room" isPattern="false">
      <id>OfficeRoom</id>
    </entityId>
  </entityIdList>
  <reference>http://localhost:${LISTENER_PORT}/notify</reference>
  <throttling>PT5R</throttling>
</subscribeContextRequest>'
curlXml "$url" "$payload"
echo
