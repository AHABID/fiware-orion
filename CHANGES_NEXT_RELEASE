- Fix: libmicrohttpd now uses poll()/epoll() and not select() so fds greater than 1023 can be used for incoming connections (#2724, #2166)
- Add: new option to set the timeout for REST request: -reqTimeout (#2762)
- Fix: modified the upper limit for CLI '-maxConnections', from 1020 to UNLIMITED
- Fix: proper 500 Internal Server Error response with descriptive text when "sort fail" at DB occur (#2752)
- Fix: avoid to present empty metrics for services (#2846)
- Fix: giving a descriptive response with payload, without reading the request for too big payloads (#2761)
- Fix: check for forbidden chars in entity type and id in POST /v2/op/query request (#2819)
- Fix: removed check for forbidden chars in URI param typePattern (#2819)
- Fix: checking for forbidden characters inside the components of string filters (#1994)
- Add: the string "ISO6801" can now be used as an alias for "DateTime" as type for attributes and metadata (#2654)
- Add: metrics REST API (#2750)
- Fix: including Service-Path in notifications also when the service path is the default one (/). For notifications due to 'standard subscriptions', notifications due to 'custom subscriptions' already work this way (#2584)
- Add: support for quotes (') in string filters to let attribute/metadata names contain dots (#2805)
- Add: new CLI '-disableMetrics' to disable metrics (#2750)
- Fix: timeout of 6 seconds (hardcoded for now) for all incoming REST requests (temporal fix, see #2762)
- Fix: NGSIv1 updateContext APPEND on existing geo:point attributes (and probably other geo: attributes) failing to update location (#2770)
- Fix: bug when tenants are over 44 bytes long (#2811)
- Add: Support for null values in string filters (#2359)
- Fix: pattern matching in q/mq: pattern is always a string (#2226)
- Fix: Partial sanity check for custom url, only if the url contains no replacements using ${xxx} (#2280, #2279)
- Fix: Stricter validity check of URL before accepting a subscription (#2009)
- Fix: if entity::type is given but as an empty string, in payload of POST /v2/subscriptions or PATCH /v2/subscriptions/{sub}, an error is returned (#1985)
- Fix: more intelligent, quote-aware, operator lookup inside q/mq string filters (#2452)
- Fix: attribute names that include ':' now are supported, with the single-quote syntax. E.g. q='devices:location' (#2452)
- Fix: admin requests (such as GET /version) with errors now return '400 Bad Request', not '200 OK'
- Fix: attempt to create an entity with an error in service path (and probably more types of errors) now returns '400 Bad Request', not '200 OK' (#2763)
- Fix: not calling regfree when regcomp fails. Potential fix for a crash (#2769)
- Fix: wrongly overlogging metadata abscense in csub docs as Runtime Error (#2796)
- Fix: if HTTP header Content-Length contains a value above the maximum payload size, an error is returned and the message is not read (#2761)
- Add: one more semaphore (the metrics semaphore) to the semWait block in GET /statistics and to the list in GET /admin/sem (#2750)
- Fix: no longer accepting a service path with an empty component (e.g. /comp1//comp3) (#2772)
- Fix: bug in notification queue statistics, "in" value (#2744)
- Fix: Accept header errors in NGSIv2 requests were incorrectly being rendered using "OrionError" element (#2765)
